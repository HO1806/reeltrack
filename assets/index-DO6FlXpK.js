(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function Yx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vf={exports:{}},yr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function uC(){if(by)return yr;by=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:e,type:s,key:c,ref:r!==void 0?r:null,props:l}}return yr.Fragment=t,yr.jsx=i,yr.jsxs=i,yr}var Cy;function cC(){return Cy||(Cy=1,vf.exports=uC()),vf.exports}var S=cC(),xf={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function fC(){if(Ay)return Te;Ay=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,w={};function N(D,j,ne){this.props=D,this.context=j,this.refs=w,this.updater=ne||b}N.prototype.isReactComponent={},N.prototype.setState=function(D,j){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,j,"setState")},N.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=N.prototype;function I(D,j,ne){this.props=D,this.context=j,this.refs=w,this.updater=ne||b}var z=I.prototype=new P;z.constructor=I,A(z,N.prototype),z.isPureReactComponent=!0;var q=Array.isArray;function L(){}var U={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function V(D,j,ne){var re=ne.ref;return{$$typeof:e,type:D,key:j,ref:re!==void 0?re:null,props:ne}}function se(D,j){return V(D.type,j,D.props)}function ye(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function _e(D){var j={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return j[ne]})}var Ue=/\/+/g;function Ie(D,j){return typeof D=="object"&&D!==null&&D.key!=null?_e(""+D.key):j.toString(36)}function ze(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(L,L):(D.status="pending",D.then(function(j){D.status==="pending"&&(D.status="fulfilled",D.value=j)},function(j){D.status==="pending"&&(D.status="rejected",D.reason=j)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,j,ne,re,fe){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(he){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case e:case t:Ae=!0;break;case y:return Ae=D._init,F(Ae(D._payload),j,ne,re,fe)}}if(Ae)return fe=fe(D),Ae=re===""?"."+Ie(D,0):re,q(fe)?(ne="",Ae!=null&&(ne=Ae.replace(Ue,"$&/")+"/"),F(fe,j,ne,"",function(_n){return _n})):fe!=null&&(ye(fe)&&(fe=se(fe,ne+(fe.key==null||D&&D.key===fe.key?"":(""+fe.key).replace(Ue,"$&/")+"/")+Ae)),j.push(fe)),1;Ae=0;var we=re===""?".":re+":";if(q(D))for(var Se=0;Se<D.length;Se++)re=D[Se],he=we+Ie(re,Se),Ae+=F(re,j,ne,he,fe);else if(Se=_(D),typeof Se=="function")for(D=Se.call(D),Se=0;!(re=D.next()).done;)re=re.value,he=we+Ie(re,Se++),Ae+=F(re,j,ne,he,fe);else if(he==="object"){if(typeof D.then=="function")return F(ze(D),j,ne,re,fe);throw j=String(D),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(D,j,ne){if(D==null)return D;var re=[],fe=0;return F(D,re,"","",function(he){return j.call(ne,he,fe++)}),re}function ie(D){if(D._status===-1){var j=D._result;j=j(),j.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=j)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ee={map:W,forEach:function(D,j,ne){W(D,function(){j.apply(this,arguments)},ne)},count:function(D){var j=0;return W(D,function(){j++}),j},toArray:function(D){return W(D,function(j){return j})||[]},only:function(D){if(!ye(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Te.Activity=T,Te.Children=ee,Te.Component=N,Te.Fragment=i,Te.Profiler=r,Te.PureComponent=I,Te.StrictMode=s,Te.Suspense=m,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Te.__COMPILER_RUNTIME={__proto__:null,c:function(D){return U.H.useMemoCache(D)}},Te.cache=function(D){return function(){return D.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(D,j,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=A({},D.props),fe=D.key;if(j!=null)for(he in j.key!==void 0&&(fe=""+j.key),j)!B.call(j,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&j.ref===void 0||(re[he]=j[he]);var he=arguments.length-2;if(he===1)re.children=ne;else if(1<he){for(var Ae=Array(he),we=0;we<he;we++)Ae[we]=arguments[we+2];re.children=Ae}return V(D.type,fe,re)},Te.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Te.createElement=function(D,j,ne){var re,fe={},he=null;if(j!=null)for(re in j.key!==void 0&&(he=""+j.key),j)B.call(j,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=j[re]);var Ae=arguments.length-2;if(Ae===1)fe.children=ne;else if(1<Ae){for(var we=Array(Ae),Se=0;Se<Ae;Se++)we[Se]=arguments[Se+2];fe.children=we}if(D&&D.defaultProps)for(re in Ae=D.defaultProps,Ae)fe[re]===void 0&&(fe[re]=Ae[re]);return V(D,he,fe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:d,render:D}},Te.isValidElement=ye,Te.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:ie}},Te.memo=function(D,j){return{$$typeof:h,type:D,compare:j===void 0?null:j}},Te.startTransition=function(D){var j=U.T,ne={};U.T=ne;try{var re=D(),fe=U.S;fe!==null&&fe(ne,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(L,me)}catch(he){me(he)}finally{j!==null&&ne.types!==null&&(j.types=ne.types),U.T=j}},Te.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Te.use=function(D){return U.H.use(D)},Te.useActionState=function(D,j,ne){return U.H.useActionState(D,j,ne)},Te.useCallback=function(D,j){return U.H.useCallback(D,j)},Te.useContext=function(D){return U.H.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D,j){return U.H.useDeferredValue(D,j)},Te.useEffect=function(D,j){return U.H.useEffect(D,j)},Te.useEffectEvent=function(D){return U.H.useEffectEvent(D)},Te.useId=function(){return U.H.useId()},Te.useImperativeHandle=function(D,j,ne){return U.H.useImperativeHandle(D,j,ne)},Te.useInsertionEffect=function(D,j){return U.H.useInsertionEffect(D,j)},Te.useLayoutEffect=function(D,j){return U.H.useLayoutEffect(D,j)},Te.useMemo=function(D,j){return U.H.useMemo(D,j)},Te.useOptimistic=function(D,j){return U.H.useOptimistic(D,j)},Te.useReducer=function(D,j,ne){return U.H.useReducer(D,j,ne)},Te.useRef=function(D){return U.H.useRef(D)},Te.useState=function(D){return U.H.useState(D)},Te.useSyncExternalStore=function(D,j,ne){return U.H.useSyncExternalStore(D,j,ne)},Te.useTransition=function(){return U.H.useTransition()},Te.version="19.2.4",Te}var wy;function Vd(){return wy||(wy=1,xf.exports=fC()),xf.exports}var K=Vd();const dC=Yx(K);var Tf={exports:{}},vr={},Sf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function hC(){return Ny||(Ny=1,(function(e){function t(F,W){var ie=F.length;F.push(W);e:for(;0<ie;){var me=ie-1>>>1,ee=F[me];if(0<r(ee,W))F[me]=W,F[ie]=ee,ie=me;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var W=F[0],ie=F.pop();if(ie!==W){F[0]=ie;e:for(var me=0,ee=F.length,D=ee>>>1;me<D;){var j=2*(me+1)-1,ne=F[j],re=j+1,fe=F[re];if(0>r(ne,ie))re<ee&&0>r(fe,ne)?(F[me]=fe,F[re]=ie,me=re):(F[me]=ne,F[j]=ie,me=j);else if(re<ee&&0>r(fe,ie))F[me]=fe,F[re]=ie,me=re;else break e}}return W}function r(F,W){var ie=F.sortIndex-W.sortIndex;return ie!==0?ie:F.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],h=[],y=1,T=null,x=3,_=!1,b=!1,A=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function z(F){for(var W=i(h);W!==null;){if(W.callback===null)s(h);else if(W.startTime<=F)s(h),W.sortIndex=W.expirationTime,t(m,W);else break;W=i(h)}}function q(F){if(A=!1,z(F),!b)if(i(m)!==null)b=!0,L||(L=!0,_e());else{var W=i(h);W!==null&&ze(q,W.startTime-F)}}var L=!1,U=-1,B=5,V=-1;function se(){return w?!0:!(e.unstable_now()-V<B)}function ye(){if(w=!1,L){var F=e.unstable_now();V=F;var W=!0;try{e:{b=!1,A&&(A=!1,P(U),U=-1),_=!0;var ie=x;try{t:{for(z(F),T=i(m);T!==null&&!(T.expirationTime>F&&se());){var me=T.callback;if(typeof me=="function"){T.callback=null,x=T.priorityLevel;var ee=me(T.expirationTime<=F);if(F=e.unstable_now(),typeof ee=="function"){T.callback=ee,z(F),W=!0;break t}T===i(m)&&s(m),z(F)}else s(m);T=i(m)}if(T!==null)W=!0;else{var D=i(h);D!==null&&ze(q,D.startTime-F),W=!1}}break e}finally{T=null,x=ie,_=!1}W=void 0}}finally{W?_e():L=!1}}}var _e;if(typeof I=="function")_e=function(){I(ye)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ie=Ue.port2;Ue.port1.onmessage=ye,_e=function(){Ie.postMessage(null)}}else _e=function(){N(ye,0)};function ze(F,W){U=N(function(){F(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ie=x;x=W;try{return F()}finally{x=ie}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=x;x=F;try{return W()}finally{x=ie}},e.unstable_scheduleCallback=function(F,W,ie){var me=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,F={id:y++,callback:W,priorityLevel:F,startTime:ie,expirationTime:ee,sortIndex:-1},ie>me?(F.sortIndex=ie,t(h,F),i(m)===null&&F===i(h)&&(A?(P(U),U=-1):A=!0,ze(q,ie-me))):(F.sortIndex=ee,t(m,F),b||_||(b=!0,L||(L=!0,_e()))),F},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(F){var W=x;return function(){var ie=x;x=W;try{return F.apply(this,arguments)}finally{x=ie}}}})(Ef)),Ef}var My;function pC(){return My||(My=1,Sf.exports=hC()),Sf.exports}var _f={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function mC(){if(Ry)return bt;Ry=1;var e=Vd();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(m,h,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:m,containerInfo:h,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bt.createPortal=function(m,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(m,h,null,y)},bt.flushSync=function(m){var h=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=h,s.p=y,s.d.f()}},bt.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(m,h))},bt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},bt.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var y=h.as,T=d(y,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:_}):y==="script"&&s.d.X(m,{crossOrigin:T,integrity:x,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},bt.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=d(h.as,h.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(m)},bt.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,T=d(y,h.crossOrigin);s.d.L(m,y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},bt.preloadModule=function(m,h){if(typeof m=="string")if(h){var y=d(h.as,h.crossOrigin);s.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(m)},bt.requestFormReset=function(m){s.d.r(m)},bt.unstable_batchedUpdates=function(m,h){return m(h)},bt.useFormState=function(m,h,y){return c.H.useFormState(m,h,y)},bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},bt.version="19.2.4",bt}var Dy;function gC(){if(Dy)return _f.exports;Dy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_f.exports=mC(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function yC(){if(Iy)return vr;Iy=1;var e=pC(),t=Vd(),i=gC();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var o=n,a=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(a=o.return),n=o.return;while(n)}return o.tag===3?a:null}function c(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function d(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(s(188))}function h(n){var o=n.alternate;if(!o){if(o=l(n),o===null)throw Error(s(188));return o!==n?null:n}for(var a=n,u=o;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return m(g),n;if(v===u)return m(g),o;v=v.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=v;else{for(var E=!1,C=g.child;C;){if(C===a){E=!0,a=g,u=v;break}if(C===u){E=!0,u=g,a=v;break}C=C.sibling}if(!E){for(C=v.child;C;){if(C===a){E=!0,a=v,u=g;break}if(C===u){E=!0,u=v,a=g;break}C=C.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:o}function y(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=y(n),o!==null)return o;n=n.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function _e(n){return n===null||typeof n!="object"?null:(n=ye&&n[ye]||n["@@iterator"],typeof n=="function"?n:null)}var Ue=Symbol.for("react.client.reference");function Ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ue?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case N:return"Profiler";case w:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList";case V:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case b:return"Portal";case I:return n.displayName||"Context";case P:return(n._context.displayName||"Context")+".Consumer";case z:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return o=n.displayName||null,o!==null?o:Ie(n.type)||"Memo";case B:o=n._payload,n=n._init;try{return Ie(n(o))}catch{}}return null}var ze=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},me=[],ee=-1;function D(n){return{current:n}}function j(n){0>ee||(n.current=me[ee],me[ee]=null,ee--)}function ne(n,o){ee++,me[ee]=n.current,n.current=o}var re=D(null),fe=D(null),he=D(null),Ae=D(null);function we(n,o){switch(ne(he,o),ne(fe,n),ne(re,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Kg(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Kg(o),n=Xg(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}j(re),ne(re,n)}function Se(){j(re),j(fe),j(he)}function _n(n){n.memoizedState!==null&&ne(Ae,n);var o=re.current,a=Xg(o,n.type);o!==a&&(ne(fe,n),ne(re,a))}function fn(n){fe.current===n&&(j(re),j(fe)),Ae.current===n&&(j(Ae),hr._currentValue=ie)}var bn,ni;function It(n){if(bn===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);bn=o&&o[1]||"",ni=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bn+n+ni}var Ts=!1;function Ss(n,o){if(!n||Ts)return"";Ts=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(Y){var H=Y}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(Y){H=Y}n.call(Q.prototype)}}else{try{throw Error()}catch(Y){H=Y}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),E=v[0],C=v[1];if(E&&C){var M=E.split(`
`),O=C.split(`
`);for(g=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;g<O.length&&!O[g].includes("DetermineComponentFrameRoot");)g++;if(u===M.length||g===O.length)for(u=M.length-1,g=O.length-1;1<=u&&0<=g&&M[u]!==O[g];)g--;for(;1<=u&&0<=g;u--,g--)if(M[u]!==O[g]){if(u!==1||g!==1)do if(u--,g--,0>g||M[u]!==O[g]){var J=`
`+M[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=g);break}}}finally{Ts=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?It(a):""}function nu(n,o){switch(n.tag){case 26:case 27:case 5:return It(n.type);case 16:return It("Lazy");case 13:return n.child!==o&&o!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return Ss(n.type,!1);case 11:return Ss(n.type.render,!1);case 1:return Ss(n.type,!0);case 31:return It("Activity");default:return""}}function Yr(n){try{var o="",a=null;do o+=nu(n,a),a=n,n=n.return;while(n);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Es=Object.prototype.hasOwnProperty,ii=e.unstable_scheduleCallback,_s=e.unstable_cancelCallback,iu=e.unstable_shouldYield,ou=e.unstable_requestPaint,_t=e.unstable_now,X=e.unstable_getCurrentPriorityLevel,Z=e.unstable_ImmediatePriority,te=e.unstable_UserBlockingPriority,ve=e.unstable_NormalPriority,qe=e.unstable_LowPriority,Bt=e.unstable_IdlePriority,bs=e.log,JE=e.unstable_setDisableYieldValue,Cs=null,Ot=null;function oi(n){if(typeof bs=="function"&&JE(n),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(Cs,n)}catch{}}var Ht=Math.clz32?Math.clz32:$E,KE=Math.log,XE=Math.LN2;function $E(n){return n>>>=0,n===0?32:31-(KE(n)/XE|0)|0}var Jr=256,Kr=262144,Xr=4194304;function zi(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $r(n,o,a){var u=n.pendingLanes;if(u===0)return 0;var g=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~v,u!==0?g=zi(u):(E&=C,E!==0?g=zi(E):a||(a=C&~n,a!==0&&(g=zi(a))))):(C=u&~v,C!==0?g=zi(C):E!==0?g=zi(E):a||(a=u&~n,a!==0&&(g=zi(a)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,a=o&-o,v>=a||v===32&&(a&4194048)!==0)?o:g}function As(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function jE(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nh(){var n=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),n}function su(n){for(var o=[],a=0;31>a;a++)o.push(n);return o}function ws(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function QE(n,o,a,u,g,v){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var C=n.entanglements,M=n.expirationTimes,O=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Ht(a),Q=1<<J;C[J]=0,M[J]=-1;var H=O[J];if(H!==null)for(O[J]=null,J=0;J<H.length;J++){var Y=H[J];Y!==null&&(Y.lane&=-536870913)}a&=~Q}u!==0&&Mh(n,u,0),v!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~o))}function Mh(n,o,a){n.pendingLanes|=o,n.suspendedLanes&=~o;var u=31-Ht(o);n.entangledLanes|=o,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Rh(n,o){var a=n.entangledLanes|=o;for(n=n.entanglements;a;){var u=31-Ht(a),g=1<<u;g&o|n[u]&o&&(n[u]|=o),a&=~g}}function Dh(n,o){var a=o&-o;return a=(a&42)!==0?1:ru(a),(a&(n.suspendedLanes|o))!==0?0:a}function ru(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function au(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ih(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:yy(n.type))}function kh(n,o){var a=W.p;try{return W.p=n,o()}finally{W.p=a}}var si=Math.random().toString(36).slice(2),yt="__reactFiber$"+si,kt="__reactProps$"+si,mo="__reactContainer$"+si,lu="__reactEvents$"+si,WE="__reactListeners$"+si,ZE="__reactHandles$"+si,Uh="__reactResources$"+si,Ns="__reactMarker$"+si;function uu(n){delete n[yt],delete n[kt],delete n[lu],delete n[WE],delete n[ZE]}function go(n){var o=n[yt];if(o)return o;for(var a=n.parentNode;a;){if(o=a[mo]||a[yt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(n=ty(n);n!==null;){if(a=n[yt])return a;n=ty(n)}return o}n=a,a=n.parentNode}return null}function yo(n){if(n=n[yt]||n[mo]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function Ms(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function vo(n){var o=n[Uh];return o||(o=n[Uh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function ht(n){n[Ns]=!0}var Ph=new Set,Lh={};function Bi(n,o){xo(n,o),xo(n+"Capture",o)}function xo(n,o){for(Lh[n]=o,n=0;n<o.length;n++)Ph.add(o[n])}var e_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vh={},Gh={};function t_(n){return Es.call(Gh,n)?!0:Es.call(Vh,n)?!1:e_.test(n)?Gh[n]=!0:(Vh[n]=!0,!1)}function jr(n,o,a){if(t_(o))if(a===null)n.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+a)}}function Qr(n,o,a){if(a===null)n.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+a)}}function In(n,o,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(o,a,""+u)}}function Qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zh(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function n_(n,o,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return g.call(this)},set:function(E){a=""+E,v.call(this,E)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function cu(n){if(!n._valueTracker){var o=zh(n)?"checked":"value";n._valueTracker=n_(n,o,""+n[o])}}function Bh(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var a=o.getValue(),u="";return n&&(u=zh(n)?n.checked?"true":"false":n.value),n=u,n!==a?(o.setValue(n),!0):!1}function Wr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var i_=/[\n"\\]/g;function Wt(n){return n.replace(i_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function fu(n,o,a,u,g,v,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),o!=null?E==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Qt(o)):n.value!==""+Qt(o)&&(n.value=""+Qt(o)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),o!=null?du(n,E,Qt(o)):a!=null?du(n,E,Qt(a)):u!=null&&n.removeAttribute("value"),g==null&&v!=null&&(n.defaultChecked=!!v),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Qt(C):n.removeAttribute("name")}function Oh(n,o,a,u,g,v,E,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),o!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){cu(n);return}a=a!=null?""+Qt(a):"",o=o!=null?""+Qt(o):a,C||o===n.value||(n.value=o),n.defaultValue=o}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),cu(n)}function du(n,o,a){o==="number"&&Wr(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function To(n,o,a,u){if(n=n.options,o){o={};for(var g=0;g<a.length;g++)o["$"+a[g]]=!0;for(a=0;a<n.length;a++)g=o.hasOwnProperty("$"+n[a].value),n[a].selected!==g&&(n[a].selected=g),g&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Qt(a),o=null,g=0;g<n.length;g++){if(n[g].value===a){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}o!==null||n[g].disabled||(o=n[g])}o!==null&&(o.selected=!0)}}function Hh(n,o,a){if(o!=null&&(o=""+Qt(o),o!==n.value&&(n.value=o),a==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=a!=null?""+Qt(a):""}function qh(n,o,a,u){if(o==null){if(u!=null){if(a!=null)throw Error(s(92));if(ze(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),o=a}a=Qt(o),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),cu(n)}function So(n,o){if(o){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=o;return}}n.textContent=o}var o_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fh(n,o,a){var u=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":u?n.setProperty(o,a):typeof a!="number"||a===0||o_.has(o)?o==="float"?n.cssFloat=a:n[o]=(""+a).trim():n[o]=a+"px"}function Yh(n,o,a){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in o)u=o[g],o.hasOwnProperty(g)&&a[g]!==u&&Fh(n,g,u)}else for(var v in o)o.hasOwnProperty(v)&&Fh(n,v,o[v])}function hu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),r_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(n){return r_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function kn(){}var pu=null;function mu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Eo=null,_o=null;function Jh(n){var o=yo(n);if(o&&(n=o.stateNode)){var a=n[kt]||null;e:switch(n=o.stateNode,o.type){case"input":if(fu(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wt(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var u=a[o];if(u!==n&&u.form===n.form){var g=u[kt]||null;if(!g)throw Error(s(90));fu(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<a.length;o++)u=a[o],u.form===n.form&&Bh(u)}break e;case"textarea":Hh(n,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&To(n,!!a.multiple,o,!1)}}}var gu=!1;function Kh(n,o,a){if(gu)return n(o,a);gu=!0;try{var u=n(o);return u}finally{if(gu=!1,(Eo!==null||_o!==null)&&(Ba(),Eo&&(o=Eo,n=_o,_o=Eo=null,Jh(o),n)))for(o=0;o<n.length;o++)Jh(n[o])}}function Rs(n,o){var a=n.stateNode;if(a===null)return null;var u=a[kt]||null;if(u===null)return null;a=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,o,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(Un)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{yu=!1}var ri=null,vu=null,ea=null;function Xh(){if(ea)return ea;var n,o=vu,a=o.length,u,g="value"in ri?ri.value:ri.textContent,v=g.length;for(n=0;n<a&&o[n]===g[n];n++);var E=a-n;for(u=1;u<=E&&o[a-u]===g[v-u];u++);return ea=g.slice(n,1<u?1-u:void 0)}function ta(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function na(){return!0}function $h(){return!1}function Ut(n){function o(a,u,g,v,E){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?na:$h,this.isPropagationStopped=$h,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),o}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ia=Ut(Oi),Is=T({},Oi,{view:0,detail:0}),a_=Ut(Is),xu,Tu,ks,oa=T({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ks&&(ks&&n.type==="mousemove"?(xu=n.screenX-ks.screenX,Tu=n.screenY-ks.screenY):Tu=xu=0,ks=n),xu)},movementY:function(n){return"movementY"in n?n.movementY:Tu}}),jh=Ut(oa),l_=T({},oa,{dataTransfer:0}),u_=Ut(l_),c_=T({},Is,{relatedTarget:0}),Su=Ut(c_),f_=T({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),d_=Ut(f_),h_=T({},Oi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),p_=Ut(h_),m_=T({},Oi,{data:0}),Qh=Ut(m_),g_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x_(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=v_[n])?!!o[n]:!1}function Eu(){return x_}var T_=T({},Is,{key:function(n){if(n.key){var o=g_[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=ta(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?y_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(n){return n.type==="keypress"?ta(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ta(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),S_=Ut(T_),E_=T({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wh=Ut(E_),__=T({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),b_=Ut(__),C_=T({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A_=Ut(C_),w_=T({},oa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),N_=Ut(w_),M_=T({},Oi,{newState:0,oldState:0}),R_=Ut(M_),D_=[9,13,27,32],_u=Un&&"CompositionEvent"in window,Us=null;Un&&"documentMode"in document&&(Us=document.documentMode);var I_=Un&&"TextEvent"in window&&!Us,Zh=Un&&(!_u||Us&&8<Us&&11>=Us),ep=" ",tp=!1;function np(n,o){switch(n){case"keyup":return D_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bo=!1;function k_(n,o){switch(n){case"compositionend":return ip(o);case"keypress":return o.which!==32?null:(tp=!0,ep);case"textInput":return n=o.data,n===ep&&tp?null:n;default:return null}}function U_(n,o){if(bo)return n==="compositionend"||!_u&&np(n,o)?(n=Xh(),ea=vu=ri=null,bo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zh&&o.locale!=="ko"?null:o.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!P_[n.type]:o==="textarea"}function sp(n,o,a,u){Eo?_o?_o.push(u):_o=[u]:Eo=u,o=Ka(o,"onChange"),0<o.length&&(a=new ia("onChange","change",null,a,u),n.push({event:a,listeners:o}))}var Ps=null,Ls=null;function L_(n){Og(n,0)}function sa(n){var o=Ms(n);if(Bh(o))return n}function rp(n,o){if(n==="change")return o}var ap=!1;if(Un){var bu;if(Un){var Cu="oninput"in document;if(!Cu){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Cu=typeof lp.oninput=="function"}bu=Cu}else bu=!1;ap=bu&&(!document.documentMode||9<document.documentMode)}function up(){Ps&&(Ps.detachEvent("onpropertychange",cp),Ls=Ps=null)}function cp(n){if(n.propertyName==="value"&&sa(Ls)){var o=[];sp(o,Ls,n,mu(n)),Kh(L_,o)}}function V_(n,o,a){n==="focusin"?(up(),Ps=o,Ls=a,Ps.attachEvent("onpropertychange",cp)):n==="focusout"&&up()}function G_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sa(Ls)}function z_(n,o){if(n==="click")return sa(o)}function B_(n,o){if(n==="input"||n==="change")return sa(o)}function O_(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var qt=typeof Object.is=="function"?Object.is:O_;function Vs(n,o){if(qt(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var a=Object.keys(n),u=Object.keys(o);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Es.call(o,g)||!qt(n[g],o[g]))return!1}return!0}function fp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dp(n,o){var a=fp(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=o&&u>=o)return{node:a,offset:o-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fp(a)}}function hp(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?hp(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function pp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Wr(n.document);o instanceof n.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)n=o.contentWindow;else break;o=Wr(n.document)}return o}function Au(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var H_=Un&&"documentMode"in document&&11>=document.documentMode,Co=null,wu=null,Gs=null,Nu=!1;function mp(n,o,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nu||Co==null||Co!==Wr(u)||(u=Co,"selectionStart"in u&&Au(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gs&&Vs(Gs,u)||(Gs=u,u=Ka(wu,"onSelect"),0<u.length&&(o=new ia("onSelect","select",null,o,a),n.push({event:o,listeners:u}),o.target=Co)))}function Hi(n,o){var a={};return a[n.toLowerCase()]=o.toLowerCase(),a["Webkit"+n]="webkit"+o,a["Moz"+n]="moz"+o,a}var Ao={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},Mu={},gp={};Un&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function qi(n){if(Mu[n])return Mu[n];if(!Ao[n])return n;var o=Ao[n],a;for(a in o)if(o.hasOwnProperty(a)&&a in gp)return Mu[n]=o[a];return n}var yp=qi("animationend"),vp=qi("animationiteration"),xp=qi("animationstart"),q_=qi("transitionrun"),F_=qi("transitionstart"),Y_=qi("transitioncancel"),Tp=qi("transitionend"),Sp=new Map,Ru="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ru.push("scrollEnd");function dn(n,o){Sp.set(n,o),Bi(o,[n])}var ra=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Zt=[],wo=0,Du=0;function aa(){for(var n=wo,o=Du=wo=0;o<n;){var a=Zt[o];Zt[o++]=null;var u=Zt[o];Zt[o++]=null;var g=Zt[o];Zt[o++]=null;var v=Zt[o];if(Zt[o++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}v!==0&&Ep(a,g,v)}}function la(n,o,a,u){Zt[wo++]=n,Zt[wo++]=o,Zt[wo++]=a,Zt[wo++]=u,Du|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Iu(n,o,a,u){return la(n,o,a,u),ua(n)}function Fi(n,o){return la(n,null,null,o),ua(n)}function Ep(n,o,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=n.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(g=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,g&&o!==null&&(g=31-Ht(a),n=v.hiddenUpdates,u=n[g],u===null?n[g]=[o]:u.push(o),o.lane=a|536870912),v):null}function ua(n){if(50<rr)throw rr=0,Oc=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var No={};function J_(n,o,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(n,o,a,u){return new J_(n,o,a,u)}function ku(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Pn(n,o){var a=n.alternate;return a===null?(a=Ft(n.tag,o,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=o,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,o=n.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function _p(n,o){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,o=a.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function ca(n,o,a,u,g,v){var E=0;if(u=n,typeof n=="function")ku(n)&&(E=1);else if(typeof n=="string")E=Qb(n,a,re.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case V:return n=Ft(31,a,o,g),n.elementType=V,n.lanes=v,n;case A:return Yi(a.children,g,v,o);case w:E=8,g|=24;break;case N:return n=Ft(12,a,o,g|2),n.elementType=N,n.lanes=v,n;case q:return n=Ft(13,a,o,g),n.elementType=q,n.lanes=v,n;case L:return n=Ft(19,a,o,g),n.elementType=L,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:E=10;break e;case P:E=9;break e;case z:E=11;break e;case U:E=14;break e;case B:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return o=Ft(E,a,o,g),o.elementType=n,o.type=u,o.lanes=v,o}function Yi(n,o,a,u){return n=Ft(7,n,u,o),n.lanes=a,n}function Uu(n,o,a){return n=Ft(6,n,null,o),n.lanes=a,n}function bp(n){var o=Ft(18,null,null,0);return o.stateNode=n,o}function Pu(n,o,a){return o=Ft(4,n.children!==null?n.children:[],n.key,o),o.lanes=a,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var Cp=new WeakMap;function en(n,o){if(typeof n=="object"&&n!==null){var a=Cp.get(n);return a!==void 0?a:(o={value:n,source:o,stack:Yr(o)},Cp.set(n,o),o)}return{value:n,source:o,stack:Yr(o)}}var Mo=[],Ro=0,fa=null,zs=0,tn=[],nn=0,ai=null,Cn=1,An="";function Ln(n,o){Mo[Ro++]=zs,Mo[Ro++]=fa,fa=n,zs=o}function Ap(n,o,a){tn[nn++]=Cn,tn[nn++]=An,tn[nn++]=ai,ai=n;var u=Cn;n=An;var g=32-Ht(u)-1;u&=~(1<<g),a+=1;var v=32-Ht(o)+g;if(30<v){var E=g-g%5;v=(u&(1<<E)-1).toString(32),u>>=E,g-=E,Cn=1<<32-Ht(o)+g|a<<g|u,An=v+n}else Cn=1<<v|a<<g|u,An=n}function Lu(n){n.return!==null&&(Ln(n,1),Ap(n,1,0))}function Vu(n){for(;n===fa;)fa=Mo[--Ro],Mo[Ro]=null,zs=Mo[--Ro],Mo[Ro]=null;for(;n===ai;)ai=tn[--nn],tn[nn]=null,An=tn[--nn],tn[nn]=null,Cn=tn[--nn],tn[nn]=null}function wp(n,o){tn[nn++]=Cn,tn[nn++]=An,tn[nn++]=ai,Cn=o.id,An=o.overflow,ai=n}var vt=null,$e=null,ke=!1,li=null,on=!1,Gu=Error(s(519));function ui(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(en(o,n)),Gu}function Np(n){var o=n.stateNode,a=n.type,u=n.memoizedProps;switch(o[yt]=n,o[kt]=u,a){case"dialog":Me("cancel",o),Me("close",o);break;case"iframe":case"object":case"embed":Me("load",o);break;case"video":case"audio":for(a=0;a<lr.length;a++)Me(lr[a],o);break;case"source":Me("error",o);break;case"img":case"image":case"link":Me("error",o),Me("load",o);break;case"details":Me("toggle",o);break;case"input":Me("invalid",o),Oh(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",o);break;case"textarea":Me("invalid",o),qh(o,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||u.suppressHydrationWarning===!0||Yg(o.textContent,a)?(u.popover!=null&&(Me("beforetoggle",o),Me("toggle",o)),u.onScroll!=null&&Me("scroll",o),u.onScrollEnd!=null&&Me("scrollend",o),u.onClick!=null&&(o.onclick=kn),o=!0):o=!1,o||ui(n,!0)}function Mp(n){for(vt=n.return;vt;)switch(vt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:vt=vt.return}}function Do(n){if(n!==vt)return!1;if(!ke)return Mp(n),ke=!0,!1;var o=n.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||nf(n.type,n.memoizedProps)),a=!a),a&&$e&&ui(n),Mp(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));$e=ey(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));$e=ey(n)}else o===27?(o=$e,_i(n.type)?(n=lf,lf=null,$e=n):$e=o):$e=vt?rn(n.stateNode.nextSibling):null;return!0}function Ji(){$e=vt=null,ke=!1}function zu(){var n=li;return n!==null&&(Gt===null?Gt=n:Gt.push.apply(Gt,n),li=null),n}function Bs(n){li===null?li=[n]:li.push(n)}var Bu=D(null),Ki=null,Vn=null;function ci(n,o,a){ne(Bu,o._currentValue),o._currentValue=a}function Gn(n){n._currentValue=Bu.current,j(Bu)}function Ou(n,o,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),n===a)break;n=n.return}}function Hu(n,o,a,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var v=g.dependencies;if(v!==null){var E=g.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=g;for(var M=0;M<o.length;M++)if(C.context===o[M]){v.lanes|=a,C=v.alternate,C!==null&&(C.lanes|=a),Ou(v.return,a,n),u||(E=null);break e}v=C.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=a,v=E.alternate,v!==null&&(v.lanes|=a),Ou(E,a,n),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===n){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Io(n,o,a,u){n=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var C=g.type;qt(g.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(g===Ae.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(hr):n=[hr])}g=g.return}n!==null&&Hu(o,n,a,u),o.flags|=262144}function da(n){for(n=n.firstContext;n!==null;){if(!qt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xi(n){Ki=n,Vn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function xt(n){return Rp(Ki,n)}function ha(n,o){return Ki===null&&Xi(n),Rp(n,o)}function Rp(n,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Vn===null){if(n===null)throw Error(s(308));Vn=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Vn=Vn.next=o;return a}var K_=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){o.aborted=!0,n.forEach(function(a){return a()})}},X_=e.unstable_scheduleCallback,$_=e.unstable_NormalPriority,st={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new K_,data:new Map,refCount:0}}function Os(n){n.refCount--,n.refCount===0&&X_($_,function(){n.controller.abort()})}var Hs=null,Fu=0,ko=0,Uo=null;function j_(n,o){if(Hs===null){var a=Hs=[];Fu=0,ko=Kc(),Uo={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Fu++,o.then(Dp,Dp),o}function Dp(){if(--Fu===0&&Hs!==null){Uo!==null&&(Uo.status="fulfilled");var n=Hs;Hs=null,ko=0,Uo=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function Q_(n,o){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return n.then(function(){u.status="fulfilled",u.value=o;for(var g=0;g<a.length;g++)(0,a[g])(o)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var Ip=F.S;F.S=function(n,o){mg=_t(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&j_(n,o),Ip!==null&&Ip(n,o)};var $i=D(null);function Yu(){var n=$i.current;return n!==null?n:Ke.pooledCache}function pa(n,o){o===null?ne($i,$i.current):ne($i,o.pool)}function kp(){var n=Yu();return n===null?null:{parent:st._currentValue,pool:n}}var Po=Error(s(460)),Ju=Error(s(474)),ma=Error(s(542)),ga={then:function(){}};function Up(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pp(n,o,a){switch(a=n[a],a===void 0?n.push(o):a!==o&&(o.then(kn,kn),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Vp(n),n;default:if(typeof o.status=="string")o.then(kn,kn);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(u){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=u}},function(u){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,Vp(n),n}throw Qi=o,Po}}function ji(n){try{var o=n._init;return o(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qi=a,Po):a}}var Qi=null;function Lp(){if(Qi===null)throw Error(s(459));var n=Qi;return Qi=null,n}function Vp(n){if(n===Po||n===ma)throw Error(s(483))}var Lo=null,qs=0;function ya(n){var o=qs;return qs+=1,Lo===null&&(Lo=[]),Pp(Lo,n,o)}function Fs(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function va(n,o){throw o.$$typeof===x?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Gp(n){function o(k,R){if(n){var G=k.deletions;G===null?(k.deletions=[R],k.flags|=16):G.push(R)}}function a(k,R){if(!n)return null;for(;R!==null;)o(k,R),R=R.sibling;return null}function u(k){for(var R=new Map;k!==null;)k.key!==null?R.set(k.key,k):R.set(k.index,k),k=k.sibling;return R}function g(k,R){return k=Pn(k,R),k.index=0,k.sibling=null,k}function v(k,R,G){return k.index=G,n?(G=k.alternate,G!==null?(G=G.index,G<R?(k.flags|=67108866,R):G):(k.flags|=67108866,R)):(k.flags|=1048576,R)}function E(k){return n&&k.alternate===null&&(k.flags|=67108866),k}function C(k,R,G,$){return R===null||R.tag!==6?(R=Uu(G,k.mode,$),R.return=k,R):(R=g(R,G),R.return=k,R)}function M(k,R,G,$){var pe=G.type;return pe===A?J(k,R,G.props.children,$,G.key):R!==null&&(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===B&&ji(pe)===R.type)?(R=g(R,G.props),Fs(R,G),R.return=k,R):(R=ca(G.type,G.key,G.props,null,k.mode,$),Fs(R,G),R.return=k,R)}function O(k,R,G,$){return R===null||R.tag!==4||R.stateNode.containerInfo!==G.containerInfo||R.stateNode.implementation!==G.implementation?(R=Pu(G,k.mode,$),R.return=k,R):(R=g(R,G.children||[]),R.return=k,R)}function J(k,R,G,$,pe){return R===null||R.tag!==7?(R=Yi(G,k.mode,$,pe),R.return=k,R):(R=g(R,G),R.return=k,R)}function Q(k,R,G){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Uu(""+R,k.mode,G),R.return=k,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return G=ca(R.type,R.key,R.props,null,k.mode,G),Fs(G,R),G.return=k,G;case b:return R=Pu(R,k.mode,G),R.return=k,R;case B:return R=ji(R),Q(k,R,G)}if(ze(R)||_e(R))return R=Yi(R,k.mode,G,null),R.return=k,R;if(typeof R.then=="function")return Q(k,ya(R),G);if(R.$$typeof===I)return Q(k,ha(k,R),G);va(k,R)}return null}function H(k,R,G,$){var pe=R!==null?R.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pe!==null?null:C(k,R,""+G,$);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return G.key===pe?M(k,R,G,$):null;case b:return G.key===pe?O(k,R,G,$):null;case B:return G=ji(G),H(k,R,G,$)}if(ze(G)||_e(G))return pe!==null?null:J(k,R,G,$,null);if(typeof G.then=="function")return H(k,R,ya(G),$);if(G.$$typeof===I)return H(k,R,ha(k,G),$);va(k,G)}return null}function Y(k,R,G,$,pe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(G)||null,C(R,k,""+$,pe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _:return k=k.get($.key===null?G:$.key)||null,M(R,k,$,pe);case b:return k=k.get($.key===null?G:$.key)||null,O(R,k,$,pe);case B:return $=ji($),Y(k,R,G,$,pe)}if(ze($)||_e($))return k=k.get(G)||null,J(R,k,$,pe,null);if(typeof $.then=="function")return Y(k,R,G,ya($),pe);if($.$$typeof===I)return Y(k,R,G,ha(R,$),pe);va(R,$)}return null}function ae(k,R,G,$){for(var pe=null,Le=null,de=R,be=R=0,De=null;de!==null&&be<G.length;be++){de.index>be?(De=de,de=null):De=de.sibling;var Ve=H(k,de,G[be],$);if(Ve===null){de===null&&(de=De);break}n&&de&&Ve.alternate===null&&o(k,de),R=v(Ve,R,be),Le===null?pe=Ve:Le.sibling=Ve,Le=Ve,de=De}if(be===G.length)return a(k,de),ke&&Ln(k,be),pe;if(de===null){for(;be<G.length;be++)de=Q(k,G[be],$),de!==null&&(R=v(de,R,be),Le===null?pe=de:Le.sibling=de,Le=de);return ke&&Ln(k,be),pe}for(de=u(de);be<G.length;be++)De=Y(de,k,be,G[be],$),De!==null&&(n&&De.alternate!==null&&de.delete(De.key===null?be:De.key),R=v(De,R,be),Le===null?pe=De:Le.sibling=De,Le=De);return n&&de.forEach(function(Ni){return o(k,Ni)}),ke&&Ln(k,be),pe}function ge(k,R,G,$){if(G==null)throw Error(s(151));for(var pe=null,Le=null,de=R,be=R=0,De=null,Ve=G.next();de!==null&&!Ve.done;be++,Ve=G.next()){de.index>be?(De=de,de=null):De=de.sibling;var Ni=H(k,de,Ve.value,$);if(Ni===null){de===null&&(de=De);break}n&&de&&Ni.alternate===null&&o(k,de),R=v(Ni,R,be),Le===null?pe=Ni:Le.sibling=Ni,Le=Ni,de=De}if(Ve.done)return a(k,de),ke&&Ln(k,be),pe;if(de===null){for(;!Ve.done;be++,Ve=G.next())Ve=Q(k,Ve.value,$),Ve!==null&&(R=v(Ve,R,be),Le===null?pe=Ve:Le.sibling=Ve,Le=Ve);return ke&&Ln(k,be),pe}for(de=u(de);!Ve.done;be++,Ve=G.next())Ve=Y(de,k,be,Ve.value,$),Ve!==null&&(n&&Ve.alternate!==null&&de.delete(Ve.key===null?be:Ve.key),R=v(Ve,R,be),Le===null?pe=Ve:Le.sibling=Ve,Le=Ve);return n&&de.forEach(function(lC){return o(k,lC)}),ke&&Ln(k,be),pe}function Je(k,R,G,$){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case _:e:{for(var pe=G.key;R!==null;){if(R.key===pe){if(pe=G.type,pe===A){if(R.tag===7){a(k,R.sibling),$=g(R,G.props.children),$.return=k,k=$;break e}}else if(R.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===B&&ji(pe)===R.type){a(k,R.sibling),$=g(R,G.props),Fs($,G),$.return=k,k=$;break e}a(k,R);break}else o(k,R);R=R.sibling}G.type===A?($=Yi(G.props.children,k.mode,$,G.key),$.return=k,k=$):($=ca(G.type,G.key,G.props,null,k.mode,$),Fs($,G),$.return=k,k=$)}return E(k);case b:e:{for(pe=G.key;R!==null;){if(R.key===pe)if(R.tag===4&&R.stateNode.containerInfo===G.containerInfo&&R.stateNode.implementation===G.implementation){a(k,R.sibling),$=g(R,G.children||[]),$.return=k,k=$;break e}else{a(k,R);break}else o(k,R);R=R.sibling}$=Pu(G,k.mode,$),$.return=k,k=$}return E(k);case B:return G=ji(G),Je(k,R,G,$)}if(ze(G))return ae(k,R,G,$);if(_e(G)){if(pe=_e(G),typeof pe!="function")throw Error(s(150));return G=pe.call(G),ge(k,R,G,$)}if(typeof G.then=="function")return Je(k,R,ya(G),$);if(G.$$typeof===I)return Je(k,R,ha(k,G),$);va(k,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,R!==null&&R.tag===6?(a(k,R.sibling),$=g(R,G),$.return=k,k=$):(a(k,R),$=Uu(G,k.mode,$),$.return=k,k=$),E(k)):a(k,R)}return function(k,R,G,$){try{qs=0;var pe=Je(k,R,G,$);return Lo=null,pe}catch(de){if(de===Po||de===ma)throw de;var Le=Ft(29,de,null,k.mode);return Le.lanes=$,Le.return=k,Le}finally{}}}var Wi=Gp(!0),zp=Gp(!1),fi=!1;function Ku(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function di(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function hi(n,o,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var g=u.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),u.pending=o,o=ua(n),Ep(n,null,a),o}return la(n,u,o,a),ua(n)}function Ys(n,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var u=o.lanes;u&=n.pendingLanes,a|=u,o.lanes=a,Rh(n,a)}}function $u(n,o){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=E:v=v.next=E,a=a.next}while(a!==null);v===null?g=v=o:v=v.next=o}else g=v=o;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=o:n.next=o,a.lastBaseUpdate=o}var ju=!1;function Js(){if(ju){var n=Uo;if(n!==null)throw n}}function Ks(n,o,a,u){ju=!1;var g=n.updateQueue;fi=!1;var v=g.firstBaseUpdate,E=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var M=C,O=M.next;M.next=null,E===null?v=O:E.next=O,E=M;var J=n.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==E&&(C===null?J.firstBaseUpdate=O:C.next=O,J.lastBaseUpdate=M))}if(v!==null){var Q=g.baseState;E=0,J=O=M=null,C=v;do{var H=C.lane&-536870913,Y=H!==C.lane;if(Y?(Re&H)===H:(u&H)===H){H!==0&&H===ko&&(ju=!0),J!==null&&(J=J.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ae=n,ge=C;H=o;var Je=a;switch(ge.tag){case 1:if(ae=ge.payload,typeof ae=="function"){Q=ae.call(Je,Q,H);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ge.payload,H=typeof ae=="function"?ae.call(Je,Q,H):ae,H==null)break e;Q=T({},Q,H);break e;case 2:fi=!0}}H=C.callback,H!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=g.callbacks,Y===null?g.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(O=J=Y,M=Q):J=J.next=Y,E|=H;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,g.lastBaseUpdate=Y,g.shared.pending=null}}while(!0);J===null&&(M=Q),g.baseState=M,g.firstBaseUpdate=O,g.lastBaseUpdate=J,v===null&&(g.shared.lanes=0),vi|=E,n.lanes=E,n.memoizedState=Q}}function Bp(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function Op(n,o){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Bp(a[n],o)}var Vo=D(null),xa=D(0);function Hp(n,o){n=Kn,ne(xa,n),ne(Vo,o),Kn=n|o.baseLanes}function Qu(){ne(xa,Kn),ne(Vo,Vo.current)}function Wu(){Kn=xa.current,j(Vo),j(xa)}var Yt=D(null),sn=null;function pi(n){var o=n.alternate;ne(it,it.current&1),ne(Yt,n),sn===null&&(o===null||Vo.current!==null||o.memoizedState!==null)&&(sn=n)}function Zu(n){ne(it,it.current),ne(Yt,n),sn===null&&(sn=n)}function qp(n){n.tag===22?(ne(it,it.current),ne(Yt,n),sn===null&&(sn=n)):mi()}function mi(){ne(it,it.current),ne(Yt,Yt.current)}function Jt(n){j(Yt),sn===n&&(sn=null),j(it)}var it=D(0);function Ta(n){for(var o=n;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||rf(a)||af(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var zn=0,Ee=null,Fe=null,rt=null,Sa=!1,Go=!1,Zi=!1,Ea=0,Xs=0,zo=null,W_=0;function et(){throw Error(s(321))}function ec(n,o){if(o===null)return!1;for(var a=0;a<o.length&&a<n.length;a++)if(!qt(n[a],o[a]))return!1;return!0}function tc(n,o,a,u,g,v){return zn=v,Ee=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=n===null||n.memoizedState===null?Am:gc,Zi=!1,v=a(u,g),Zi=!1,Go&&(v=Yp(o,a,u,g)),Fp(n),v}function Fp(n){F.H=Qs;var o=Fe!==null&&Fe.next!==null;if(zn=0,rt=Fe=Ee=null,Sa=!1,Xs=0,zo=null,o)throw Error(s(300));n===null||at||(n=n.dependencies,n!==null&&da(n)&&(at=!0))}function Yp(n,o,a,u){Ee=n;var g=0;do{if(Go&&(zo=null),Xs=0,Go=!1,25<=g)throw Error(s(301));if(g+=1,rt=Fe=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}F.H=wm,v=o(a,u)}while(Go);return v}function Z_(){var n=F.H,o=n.useState()[0];return o=typeof o.then=="function"?$s(o):o,n=n.useState()[0],(Fe!==null?Fe.memoizedState:null)!==n&&(Ee.flags|=1024),o}function nc(){var n=Ea!==0;return Ea=0,n}function ic(n,o,a){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~a}function oc(n){if(Sa){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Sa=!1}zn=0,rt=Fe=Ee=null,Go=!1,Xs=Ea=0,zo=null}function At(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ee.memoizedState=rt=n:rt=rt.next=n,rt}function ot(){if(Fe===null){var n=Ee.alternate;n=n!==null?n.memoizedState:null}else n=Fe.next;var o=rt===null?Ee.memoizedState:rt.next;if(o!==null)rt=o,Fe=n;else{if(n===null)throw Ee.alternate===null?Error(s(467)):Error(s(310));Fe=n,n={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},rt===null?Ee.memoizedState=rt=n:rt=rt.next=n}return rt}function _a(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $s(n){var o=Xs;return Xs+=1,zo===null&&(zo=[]),n=Pp(zo,n,o),o=Ee,(rt===null?o.memoizedState:rt.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?Am:gc),n}function ba(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return $s(n);if(n.$$typeof===I)return xt(n)}throw Error(s(438,String(n)))}function sc(n){var o=null,a=Ee.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var u=Ee.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=_a(),Ee.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(n),u=0;u<n;u++)a[u]=se;return o.index++,a}function Bn(n,o){return typeof o=="function"?o(n):o}function Ca(n){var o=ot();return rc(o,Fe,n)}function rc(n,o,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=n.baseQueue,v=u.pending;if(v!==null){if(g!==null){var E=g.next;g.next=v.next,v.next=E}o.baseQueue=g=v,u.pending=null}if(v=n.baseState,g===null)n.memoizedState=v;else{o=g.next;var C=E=null,M=null,O=o,J=!1;do{var Q=O.lane&-536870913;if(Q!==O.lane?(Re&Q)===Q:(zn&Q)===Q){var H=O.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Q===ko&&(J=!0);else if((zn&H)===H){O=O.next,H===ko&&(J=!0);continue}else Q={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(C=M=Q,E=v):M=M.next=Q,Ee.lanes|=H,vi|=H;Q=O.action,Zi&&a(v,Q),v=O.hasEagerState?O.eagerState:a(v,Q)}else H={lane:Q,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(C=M=H,E=v):M=M.next=H,Ee.lanes|=Q,vi|=Q;O=O.next}while(O!==null&&O!==o);if(M===null?E=v:M.next=C,!qt(v,n.memoizedState)&&(at=!0,J&&(a=Uo,a!==null)))throw a;n.memoizedState=v,n.baseState=E,n.baseQueue=M,u.lastRenderedState=v}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ac(n){var o=ot(),a=o.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,g=a.pending,v=o.memoizedState;if(g!==null){a.pending=null;var E=g=g.next;do v=n(v,E.action),E=E.next;while(E!==g);qt(v,o.memoizedState)||(at=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),a.lastRenderedState=v}return[v,u]}function Jp(n,o,a){var u=Ee,g=ot(),v=ke;if(v){if(a===void 0)throw Error(s(407));a=a()}else a=o();var E=!qt((Fe||g).memoizedState,a);if(E&&(g.memoizedState=a,at=!0),g=g.queue,cc($p.bind(null,u,g,n),[n]),g.getSnapshot!==o||E||rt!==null&&rt.memoizedState.tag&1){if(u.flags|=2048,Bo(9,{destroy:void 0},Xp.bind(null,u,g,a,o),null),Ke===null)throw Error(s(349));v||(zn&127)!==0||Kp(u,o,a)}return a}function Kp(n,o,a){n.flags|=16384,n={getSnapshot:o,value:a},o=Ee.updateQueue,o===null?(o=_a(),Ee.updateQueue=o,o.stores=[n]):(a=o.stores,a===null?o.stores=[n]:a.push(n))}function Xp(n,o,a,u){o.value=a,o.getSnapshot=u,jp(o)&&Qp(n)}function $p(n,o,a){return a(function(){jp(o)&&Qp(n)})}function jp(n){var o=n.getSnapshot;n=n.value;try{var a=o();return!qt(n,a)}catch{return!0}}function Qp(n){var o=Fi(n,2);o!==null&&zt(o,n,2)}function lc(n){var o=At();if(typeof n=="function"){var a=n;if(n=a(),Zi){oi(!0);try{a()}finally{oi(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:n},o}function Wp(n,o,a,u){return n.baseState=a,rc(n,Fe,typeof u=="function"?u:Bn)}function eb(n,o,a,u,g){if(Na(n))throw Error(s(485));if(n=o.action,n!==null){var v={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};F.T!==null?a(!0):v.isTransition=!1,u(v),a=o.pending,a===null?(v.next=o.pending=v,Zp(o,v)):(v.next=a.next,o.pending=a.next=v)}}function Zp(n,o){var a=o.action,u=o.payload,g=n.state;if(o.isTransition){var v=F.T,E={};F.T=E;try{var C=a(g,u),M=F.S;M!==null&&M(E,C),em(n,o,C)}catch(O){uc(n,o,O)}finally{v!==null&&E.types!==null&&(v.types=E.types),F.T=v}}else try{v=a(g,u),em(n,o,v)}catch(O){uc(n,o,O)}}function em(n,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){tm(n,o,u)},function(u){return uc(n,o,u)}):tm(n,o,a)}function tm(n,o,a){o.status="fulfilled",o.value=a,nm(o),n.state=a,o=n.pending,o!==null&&(a=o.next,a===o?n.pending=null:(a=a.next,o.next=a,Zp(n,a)))}function uc(n,o,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=a,nm(o),o=o.next;while(o!==u)}n.action=null}function nm(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function im(n,o){return o}function om(n,o){if(ke){var a=Ke.formState;if(a!==null){e:{var u=Ee;if(ke){if($e){t:{for(var g=$e,v=on;g.nodeType!==8;){if(!v){g=null;break t}if(g=rn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){$e=rn(g.nextSibling),u=g.data==="F!";break e}}ui(u)}u=!1}u&&(o=a[0])}}return a=At(),a.memoizedState=a.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:o},a.queue=u,a=_m.bind(null,Ee,u),u.dispatch=a,u=lc(!1),v=mc.bind(null,Ee,!1,u.queue),u=At(),g={state:o,dispatch:null,action:n,pending:null},u.queue=g,a=eb.bind(null,Ee,g,v,a),g.dispatch=a,u.memoizedState=n,[o,a,!1]}function sm(n){var o=ot();return rm(o,Fe,n)}function rm(n,o,a){if(o=rc(n,o,im)[0],n=Ca(Bn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=$s(o)}catch(E){throw E===Po?ma:E}else u=o;o=ot();var g=o.queue,v=g.dispatch;return a!==o.memoizedState&&(Ee.flags|=2048,Bo(9,{destroy:void 0},tb.bind(null,g,a),null)),[u,v,n]}function tb(n,o){n.action=o}function am(n){var o=ot(),a=Fe;if(a!==null)return rm(o,a,n);ot(),o=o.memoizedState,a=ot();var u=a.queue.dispatch;return a.memoizedState=n,[o,u,!1]}function Bo(n,o,a,u){return n={tag:n,create:a,deps:u,inst:o,next:null},o=Ee.updateQueue,o===null&&(o=_a(),Ee.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,o.lastEffect=n),n}function lm(){return ot().memoizedState}function Aa(n,o,a,u){var g=At();Ee.flags|=n,g.memoizedState=Bo(1|o,{destroy:void 0},a,u===void 0?null:u)}function wa(n,o,a,u){var g=ot();u=u===void 0?null:u;var v=g.memoizedState.inst;Fe!==null&&u!==null&&ec(u,Fe.memoizedState.deps)?g.memoizedState=Bo(o,v,a,u):(Ee.flags|=n,g.memoizedState=Bo(1|o,v,a,u))}function um(n,o){Aa(8390656,8,n,o)}function cc(n,o){wa(2048,8,n,o)}function nb(n){Ee.flags|=4;var o=Ee.updateQueue;if(o===null)o=_a(),Ee.updateQueue=o,o.events=[n];else{var a=o.events;a===null?o.events=[n]:a.push(n)}}function cm(n){var o=ot().memoizedState;return nb({ref:o,nextImpl:n}),function(){if((Be&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function fm(n,o){return wa(4,2,n,o)}function dm(n,o){return wa(4,4,n,o)}function hm(n,o){if(typeof o=="function"){n=n();var a=o(n);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function pm(n,o,a){a=a!=null?a.concat([n]):null,wa(4,4,hm.bind(null,o,n),a)}function fc(){}function mm(n,o){var a=ot();o=o===void 0?null:o;var u=a.memoizedState;return o!==null&&ec(o,u[1])?u[0]:(a.memoizedState=[n,o],n)}function gm(n,o){var a=ot();o=o===void 0?null:o;var u=a.memoizedState;if(o!==null&&ec(o,u[1]))return u[0];if(u=n(),Zi){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,o],u}function dc(n,o,a){return a===void 0||(zn&1073741824)!==0&&(Re&261930)===0?n.memoizedState=o:(n.memoizedState=a,n=yg(),Ee.lanes|=n,vi|=n,a)}function ym(n,o,a,u){return qt(a,o)?a:Vo.current!==null?(n=dc(n,a,u),qt(n,o)||(at=!0),n):(zn&42)===0||(zn&1073741824)!==0&&(Re&261930)===0?(at=!0,n.memoizedState=a):(n=yg(),Ee.lanes|=n,vi|=n,o)}function vm(n,o,a,u,g){var v=W.p;W.p=v!==0&&8>v?v:8;var E=F.T,C={};F.T=C,mc(n,!1,o,a);try{var M=g(),O=F.S;if(O!==null&&O(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=Q_(M,u);js(n,o,J,$t(n))}else js(n,o,u,$t(n))}catch(Q){js(n,o,{then:function(){},status:"rejected",reason:Q},$t())}finally{W.p=v,E!==null&&C.types!==null&&(E.types=C.types),F.T=E}}function ib(){}function hc(n,o,a,u){if(n.tag!==5)throw Error(s(476));var g=xm(n).queue;vm(n,g,o,ie,a===null?ib:function(){return Tm(n),a(u)})}function xm(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:ie},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:a},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Tm(n){var o=xm(n);o.next===null&&(o=n.alternate.memoizedState),js(n,o.next.queue,{},$t())}function pc(){return xt(hr)}function Sm(){return ot().memoizedState}function Em(){return ot().memoizedState}function ob(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var a=$t();n=di(a);var u=hi(o,n,a);u!==null&&(zt(u,o,a),Ys(u,o,a)),o={cache:qu()},n.payload=o;return}o=o.return}}function sb(n,o,a){var u=$t();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Na(n)?bm(o,a):(a=Iu(n,o,a,u),a!==null&&(zt(a,n,u),Cm(a,o,u)))}function _m(n,o,a){var u=$t();js(n,o,a,u)}function js(n,o,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Na(n))bm(o,g);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,C=v(E,a);if(g.hasEagerState=!0,g.eagerState=C,qt(C,E))return la(n,o,g,0),Ke===null&&aa(),!1}catch{}finally{}if(a=Iu(n,o,g,u),a!==null)return zt(a,n,u),Cm(a,o,u),!0}return!1}function mc(n,o,a,u){if(u={lane:2,revertLane:Kc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Na(n)){if(o)throw Error(s(479))}else o=Iu(n,a,u,2),o!==null&&zt(o,n,2)}function Na(n){var o=n.alternate;return n===Ee||o!==null&&o===Ee}function bm(n,o){Go=Sa=!0;var a=n.pending;a===null?o.next=o:(o.next=a.next,a.next=o),n.pending=o}function Cm(n,o,a){if((a&4194048)!==0){var u=o.lanes;u&=n.pendingLanes,a|=u,o.lanes=a,Rh(n,a)}}var Qs={readContext:xt,use:ba,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Qs.useEffectEvent=et;var Am={readContext:xt,use:ba,useCallback:function(n,o){return At().memoizedState=[n,o===void 0?null:o],n},useContext:xt,useEffect:um,useImperativeHandle:function(n,o,a){a=a!=null?a.concat([n]):null,Aa(4194308,4,hm.bind(null,o,n),a)},useLayoutEffect:function(n,o){return Aa(4194308,4,n,o)},useInsertionEffect:function(n,o){Aa(4,2,n,o)},useMemo:function(n,o){var a=At();o=o===void 0?null:o;var u=n();if(Zi){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,o],u},useReducer:function(n,o,a){var u=At();if(a!==void 0){var g=a(o);if(Zi){oi(!0);try{a(o)}finally{oi(!1)}}}else g=o;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=sb.bind(null,Ee,n),[u.memoizedState,n]},useRef:function(n){var o=At();return n={current:n},o.memoizedState=n},useState:function(n){n=lc(n);var o=n.queue,a=_m.bind(null,Ee,o);return o.dispatch=a,[n.memoizedState,a]},useDebugValue:fc,useDeferredValue:function(n,o){var a=At();return dc(a,n,o)},useTransition:function(){var n=lc(!1);return n=vm.bind(null,Ee,n.queue,!0,!1),At().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,a){var u=Ee,g=At();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=o(),Ke===null)throw Error(s(349));(Re&127)!==0||Kp(u,o,a)}g.memoizedState=a;var v={value:a,getSnapshot:o};return g.queue=v,um($p.bind(null,u,v,n),[n]),u.flags|=2048,Bo(9,{destroy:void 0},Xp.bind(null,u,v,a,o),null),a},useId:function(){var n=At(),o=Ke.identifierPrefix;if(ke){var a=An,u=Cn;a=(u&~(1<<32-Ht(u)-1)).toString(32)+a,o="_"+o+"R_"+a,a=Ea++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=W_++,o="_"+o+"r_"+a.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:pc,useFormState:om,useActionState:om,useOptimistic:function(n){var o=At();o.memoizedState=o.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=mc.bind(null,Ee,!0,a),a.dispatch=o,[n,o]},useMemoCache:sc,useCacheRefresh:function(){return At().memoizedState=ob.bind(null,Ee)},useEffectEvent:function(n){var o=At(),a={impl:n};return o.memoizedState=a,function(){if((Be&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},gc={readContext:xt,use:ba,useCallback:mm,useContext:xt,useEffect:cc,useImperativeHandle:pm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:gm,useReducer:Ca,useRef:lm,useState:function(){return Ca(Bn)},useDebugValue:fc,useDeferredValue:function(n,o){var a=ot();return ym(a,Fe.memoizedState,n,o)},useTransition:function(){var n=Ca(Bn)[0],o=ot().memoizedState;return[typeof n=="boolean"?n:$s(n),o]},useSyncExternalStore:Jp,useId:Sm,useHostTransitionStatus:pc,useFormState:sm,useActionState:sm,useOptimistic:function(n,o){var a=ot();return Wp(a,Fe,n,o)},useMemoCache:sc,useCacheRefresh:Em};gc.useEffectEvent=cm;var wm={readContext:xt,use:ba,useCallback:mm,useContext:xt,useEffect:cc,useImperativeHandle:pm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:gm,useReducer:ac,useRef:lm,useState:function(){return ac(Bn)},useDebugValue:fc,useDeferredValue:function(n,o){var a=ot();return Fe===null?dc(a,n,o):ym(a,Fe.memoizedState,n,o)},useTransition:function(){var n=ac(Bn)[0],o=ot().memoizedState;return[typeof n=="boolean"?n:$s(n),o]},useSyncExternalStore:Jp,useId:Sm,useHostTransitionStatus:pc,useFormState:am,useActionState:am,useOptimistic:function(n,o){var a=ot();return Fe!==null?Wp(a,Fe,n,o):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Em};wm.useEffectEvent=cm;function yc(n,o,a,u){o=n.memoizedState,a=a(u,o),a=a==null?o:T({},o,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vc={enqueueSetState:function(n,o,a){n=n._reactInternals;var u=$t(),g=di(u);g.payload=o,a!=null&&(g.callback=a),o=hi(n,g,u),o!==null&&(zt(o,n,u),Ys(o,n,u))},enqueueReplaceState:function(n,o,a){n=n._reactInternals;var u=$t(),g=di(u);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=hi(n,g,u),o!==null&&(zt(o,n,u),Ys(o,n,u))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var a=$t(),u=di(a);u.tag=2,o!=null&&(u.callback=o),o=hi(n,u,a),o!==null&&(zt(o,n,a),Ys(o,n,a))}};function Nm(n,o,a,u,g,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,v,E):o.prototype&&o.prototype.isPureReactComponent?!Vs(a,u)||!Vs(g,v):!0}function Mm(n,o,a,u){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,u),o.state!==n&&vc.enqueueReplaceState(o,o.state,null)}function eo(n,o){var a=o;if("ref"in o){a={};for(var u in o)u!=="ref"&&(a[u]=o[u])}if(n=n.defaultProps){a===o&&(a=T({},a));for(var g in n)a[g]===void 0&&(a[g]=n[g])}return a}function Rm(n){ra(n)}function Dm(n){console.error(n)}function Im(n){ra(n)}function Ma(n,o){try{var a=n.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function km(n,o,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function xc(n,o,a){return a=di(a),a.tag=3,a.payload={element:null},a.callback=function(){Ma(n,o)},a}function Um(n){return n=di(n),n.tag=3,n}function Pm(n,o,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;n.payload=function(){return g(v)},n.callback=function(){km(o,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){km(o,a,u),typeof g!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function rb(n,o,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=a.alternate,o!==null&&Io(o,a,g,!0),a=Yt.current,a!==null){switch(a.tag){case 31:case 13:return sn===null?Oa():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===ga?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([u]):o.add(u),Fc(n,u,g)),!1;case 22:return a.flags|=65536,u===ga?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([u]):a.add(u)),Fc(n,u,g)),!1}throw Error(s(435,a.tag))}return Fc(n,u,g),Oa(),!1}if(ke)return o=Yt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,u!==Gu&&(n=Error(s(422),{cause:u}),Bs(en(n,a)))):(u!==Gu&&(o=Error(s(423),{cause:u}),Bs(en(o,a))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=en(u,a),g=xc(n.stateNode,u,g),$u(n,g),tt!==4&&(tt=2)),!1;var v=Error(s(520),{cause:u});if(v=en(v,a),sr===null?sr=[v]:sr.push(v),tt!==4&&(tt=2),o===null)return!0;u=en(u,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,n=g&-g,a.lanes|=n,n=xc(a.stateNode,u,n),$u(a,n),!1;case 1:if(o=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xi===null||!xi.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Um(g),Pm(g,n,a,u),$u(a,g),!1}a=a.return}while(a!==null);return!1}var Tc=Error(s(461)),at=!1;function Tt(n,o,a,u){o.child=n===null?zp(o,null,a,u):Wi(o,n.child,a,u)}function Lm(n,o,a,u,g){a=a.render;var v=o.ref;if("ref"in u){var E={};for(var C in u)C!=="ref"&&(E[C]=u[C])}else E=u;return Xi(o),u=tc(n,o,a,E,v,g),C=nc(),n!==null&&!at?(ic(n,o,g),On(n,o,g)):(ke&&C&&Lu(o),o.flags|=1,Tt(n,o,u,g),o.child)}function Vm(n,o,a,u,g){if(n===null){var v=a.type;return typeof v=="function"&&!ku(v)&&v.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=v,Gm(n,o,v,u,g)):(n=ca(a.type,null,u,o,o.mode,g),n.ref=o.ref,n.return=o,o.child=n)}if(v=n.child,!Nc(n,g)){var E=v.memoizedProps;if(a=a.compare,a=a!==null?a:Vs,a(E,u)&&n.ref===o.ref)return On(n,o,g)}return o.flags|=1,n=Pn(v,u),n.ref=o.ref,n.return=o,o.child=n}function Gm(n,o,a,u,g){if(n!==null){var v=n.memoizedProps;if(Vs(v,u)&&n.ref===o.ref)if(at=!1,o.pendingProps=u=v,Nc(n,g))(n.flags&131072)!==0&&(at=!0);else return o.lanes=n.lanes,On(n,o,g)}return Sc(n,o,a,u,g)}function zm(n,o,a,u){var g=u.children,v=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,n!==null){for(u=o.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,o.child=null;return Bm(n,o,v,a,u)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&pa(o,v!==null?v.cachePool:null),v!==null?Hp(o,v):Qu(),qp(o);else return u=o.lanes=536870912,Bm(n,o,v!==null?v.baseLanes|a:a,a,u)}else v!==null?(pa(o,v.cachePool),Hp(o,v),mi(),o.memoizedState=null):(n!==null&&pa(o,null),Qu(),mi());return Tt(n,o,g,a),o.child}function Ws(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Bm(n,o,a,u,g){var v=Yu();return v=v===null?null:{parent:st._currentValue,pool:v},o.memoizedState={baseLanes:a,cachePool:v},n!==null&&pa(o,null),Qu(),qp(o),n!==null&&Io(n,o,u,!0),o.childLanes=g,null}function Ra(n,o){return o=Ia({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Om(n,o,a){return Wi(o,n.child,null,a),n=Ra(o,o.pendingProps),n.flags|=2,Jt(o),o.memoizedState=null,n}function ab(n,o,a){var u=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(ke){if(u.mode==="hidden")return n=Ra(o,u),o.lanes=536870912,Ws(null,n);if(Zu(o),(n=$e)?(n=Zg(n,on),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:ai!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},a=bp(n),a.return=o,o.child=a,vt=o,$e=null)):n=null,n===null)throw ui(o);return o.lanes=536870912,null}return Ra(o,u)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(Zu(o),g)if(o.flags&256)o.flags&=-257,o=Om(n,o,a);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(at||Io(n,o,a,!1),g=(a&n.childLanes)!==0,at||g){if(u=Ke,u!==null&&(E=Dh(u,a),E!==0&&E!==v.retryLane))throw v.retryLane=E,Fi(n,E),zt(u,n,E),Tc;Oa(),o=Om(n,o,a)}else n=v.treeContext,$e=rn(E.nextSibling),vt=o,ke=!0,li=null,on=!1,n!==null&&wp(o,n),o=Ra(o,u),o.flags|=4096;return o}return n=Pn(n.child,{mode:u.mode,children:u.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Da(n,o){var a=o.ref;if(a===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(o.flags|=4194816)}}function Sc(n,o,a,u,g){return Xi(o),a=tc(n,o,a,u,void 0,g),u=nc(),n!==null&&!at?(ic(n,o,g),On(n,o,g)):(ke&&u&&Lu(o),o.flags|=1,Tt(n,o,a,g),o.child)}function Hm(n,o,a,u,g,v){return Xi(o),o.updateQueue=null,a=Yp(o,u,a,g),Fp(n),u=nc(),n!==null&&!at?(ic(n,o,v),On(n,o,v)):(ke&&u&&Lu(o),o.flags|=1,Tt(n,o,a,v),o.child)}function qm(n,o,a,u,g){if(Xi(o),o.stateNode===null){var v=No,E=a.contextType;typeof E=="object"&&E!==null&&(v=xt(E)),v=new a(u,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=vc,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=u,v.state=o.memoizedState,v.refs={},Ku(o),E=a.contextType,v.context=typeof E=="object"&&E!==null?xt(E):No,v.state=o.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(yc(o,a,E,u),v.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&vc.enqueueReplaceState(v,v.state,null),Ks(o,u,v,g),Js(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(n===null){v=o.stateNode;var C=o.memoizedProps,M=eo(a,C);v.props=M;var O=v.context,J=a.contextType;E=No,typeof J=="object"&&J!==null&&(E=xt(J));var Q=a.getDerivedStateFromProps;J=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,J||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||O!==E)&&Mm(o,v,u,E),fi=!1;var H=o.memoizedState;v.state=H,Ks(o,u,v,g),Js(),O=o.memoizedState,C||H!==O||fi?(typeof Q=="function"&&(yc(o,a,Q,u),O=o.memoizedState),(M=fi||Nm(o,a,M,u,H,O,E))?(J||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=O),v.props=u,v.state=O,v.context=E,u=M):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{v=o.stateNode,Xu(n,o),E=o.memoizedProps,J=eo(a,E),v.props=J,Q=o.pendingProps,H=v.context,O=a.contextType,M=No,typeof O=="object"&&O!==null&&(M=xt(O)),C=a.getDerivedStateFromProps,(O=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==Q||H!==M)&&Mm(o,v,u,M),fi=!1,H=o.memoizedState,v.state=H,Ks(o,u,v,g),Js();var Y=o.memoizedState;E!==Q||H!==Y||fi||n!==null&&n.dependencies!==null&&da(n.dependencies)?(typeof C=="function"&&(yc(o,a,C,u),Y=o.memoizedState),(J=fi||Nm(o,a,J,u,H,Y,M)||n!==null&&n.dependencies!==null&&da(n.dependencies))?(O||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,Y,M),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,Y,M)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=Y),v.props=u,v.state=Y,v.context=M,u=J):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(o.flags|=1024),u=!1)}return v=u,Da(n,o),u=(o.flags&128)!==0,v||u?(v=o.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,n!==null&&u?(o.child=Wi(o,n.child,null,g),o.child=Wi(o,null,a,g)):Tt(n,o,a,g),o.memoizedState=v.state,n=o.child):n=On(n,o,g),n}function Fm(n,o,a,u){return Ji(),o.flags|=256,Tt(n,o,a,u),o.child}var Ec={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(n){return{baseLanes:n,cachePool:kp()}}function bc(n,o,a){return n=n!==null?n.childLanes&~a:0,o&&(n|=Xt),n}function Ym(n,o,a){var u=o.pendingProps,g=!1,v=(o.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),E&&(g=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,n===null){if(ke){if(g?pi(o):mi(),(n=$e)?(n=Zg(n,on),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:ai!==null?{id:Cn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},a=bp(n),a.return=o,o.child=a,vt=o,$e=null)):n=null,n===null)throw ui(o);return af(n)?o.lanes=32:o.lanes=536870912,null}var C=u.children;return u=u.fallback,g?(mi(),g=o.mode,C=Ia({mode:"hidden",children:C},g),u=Yi(u,g,a,null),C.return=o,u.return=o,C.sibling=u,o.child=C,u=o.child,u.memoizedState=_c(a),u.childLanes=bc(n,E,a),o.memoizedState=Ec,Ws(null,u)):(pi(o),Cc(o,C))}var M=n.memoizedState;if(M!==null&&(C=M.dehydrated,C!==null)){if(v)o.flags&256?(pi(o),o.flags&=-257,o=Ac(n,o,a)):o.memoizedState!==null?(mi(),o.child=n.child,o.flags|=128,o=null):(mi(),C=u.fallback,g=o.mode,u=Ia({mode:"visible",children:u.children},g),C=Yi(C,g,a,null),C.flags|=2,u.return=o,C.return=o,u.sibling=C,o.child=u,Wi(o,n.child,null,a),u=o.child,u.memoizedState=_c(a),u.childLanes=bc(n,E,a),o.memoizedState=Ec,o=Ws(null,u));else if(pi(o),af(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var O=E.dgst;E=O,u=Error(s(419)),u.stack="",u.digest=E,Bs({value:u,source:null,stack:null}),o=Ac(n,o,a)}else if(at||Io(n,o,a,!1),E=(a&n.childLanes)!==0,at||E){if(E=Ke,E!==null&&(u=Dh(E,a),u!==0&&u!==M.retryLane))throw M.retryLane=u,Fi(n,u),zt(E,n,u),Tc;rf(C)||Oa(),o=Ac(n,o,a)}else rf(C)?(o.flags|=192,o.child=n.child,o=null):(n=M.treeContext,$e=rn(C.nextSibling),vt=o,ke=!0,li=null,on=!1,n!==null&&wp(o,n),o=Cc(o,u.children),o.flags|=4096);return o}return g?(mi(),C=u.fallback,g=o.mode,M=n.child,O=M.sibling,u=Pn(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,O!==null?C=Pn(O,C):(C=Yi(C,g,a,null),C.flags|=2),C.return=o,u.return=o,u.sibling=C,o.child=u,Ws(null,u),u=o.child,C=n.child.memoizedState,C===null?C=_c(a):(g=C.cachePool,g!==null?(M=st._currentValue,g=g.parent!==M?{parent:M,pool:M}:g):g=kp(),C={baseLanes:C.baseLanes|a,cachePool:g}),u.memoizedState=C,u.childLanes=bc(n,E,a),o.memoizedState=Ec,Ws(n.child,u)):(pi(o),a=n.child,n=a.sibling,a=Pn(a,{mode:"visible",children:u.children}),a.return=o,a.sibling=null,n!==null&&(E=o.deletions,E===null?(o.deletions=[n],o.flags|=16):E.push(n)),o.child=a,o.memoizedState=null,a)}function Cc(n,o){return o=Ia({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Ia(n,o){return n=Ft(22,n,null,o),n.lanes=0,n}function Ac(n,o,a){return Wi(o,n.child,null,a),n=Cc(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Jm(n,o,a){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o),Ou(n.return,o,a)}function wc(n,o,a,u,g,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:v}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=g,E.treeForkCount=v)}function Km(n,o,a){var u=o.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var E=it.current,C=(E&2)!==0;if(C?(E=E&1|2,o.flags|=128):E&=1,ne(it,E),Tt(n,o,u,a),u=ke?zs:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jm(n,a,o);else if(n.tag===19)Jm(n,a,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(a=o.child,g=null;a!==null;)n=a.alternate,n!==null&&Ta(n)===null&&(g=a),a=a.sibling;a=g,a===null?(g=o.child,o.child=null):(g=a.sibling,a.sibling=null),wc(o,!1,g,a,v,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=o.child,o.child=null;g!==null;){if(n=g.alternate,n!==null&&Ta(n)===null){o.child=g;break}n=g.sibling,g.sibling=a,a=g,g=n}wc(o,!0,a,null,v,u);break;case"together":wc(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function On(n,o,a){if(n!==null&&(o.dependencies=n.dependencies),vi|=o.lanes,(a&o.childLanes)===0)if(n!==null){if(Io(n,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,a=Pn(n,n.pendingProps),o.child=a,a.return=o;n.sibling!==null;)n=n.sibling,a=a.sibling=Pn(n,n.pendingProps),a.return=o;a.sibling=null}return o.child}function Nc(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&da(n)))}function lb(n,o,a){switch(o.tag){case 3:we(o,o.stateNode.containerInfo),ci(o,st,n.memoizedState.cache),Ji();break;case 27:case 5:_n(o);break;case 4:we(o,o.stateNode.containerInfo);break;case 10:ci(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Zu(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(pi(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Ym(n,o,a):(pi(o),n=On(n,o,a),n!==null?n.sibling:null);pi(o);break;case 19:var g=(n.flags&128)!==0;if(u=(a&o.childLanes)!==0,u||(Io(n,o,a,!1),u=(a&o.childLanes)!==0),g){if(u)return Km(n,o,a);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(it,it.current),u)break;return null;case 22:return o.lanes=0,zm(n,o,a,o.pendingProps);case 24:ci(o,st,n.memoizedState.cache)}return On(n,o,a)}function Xm(n,o,a){if(n!==null)if(n.memoizedProps!==o.pendingProps)at=!0;else{if(!Nc(n,a)&&(o.flags&128)===0)return at=!1,lb(n,o,a);at=(n.flags&131072)!==0}else at=!1,ke&&(o.flags&1048576)!==0&&Ap(o,zs,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(n=ji(o.elementType),o.type=n,typeof n=="function")ku(n)?(u=eo(n,u),o.tag=1,o=qm(null,o,n,u,a)):(o.tag=0,o=Sc(null,o,n,u,a));else{if(n!=null){var g=n.$$typeof;if(g===z){o.tag=11,o=Lm(null,o,n,u,a);break e}else if(g===U){o.tag=14,o=Vm(null,o,n,u,a);break e}}throw o=Ie(n)||n,Error(s(306,o,""))}}return o;case 0:return Sc(n,o,o.type,o.pendingProps,a);case 1:return u=o.type,g=eo(u,o.pendingProps),qm(n,o,u,g,a);case 3:e:{if(we(o,o.stateNode.containerInfo),n===null)throw Error(s(387));u=o.pendingProps;var v=o.memoizedState;g=v.element,Xu(n,o),Ks(o,u,null,a);var E=o.memoizedState;if(u=E.cache,ci(o,st,u),u!==v.cache&&Hu(o,[st],a,!0),Js(),u=E.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=Fm(n,o,u,a);break e}else if(u!==g){g=en(Error(s(424)),o),Bs(g),o=Fm(n,o,u,a);break e}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for($e=rn(n.firstChild),vt=o,ke=!0,li=null,on=!0,a=zp(o,null,u,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ji(),u===g){o=On(n,o,a);break e}Tt(n,o,u,a)}o=o.child}return o;case 26:return Da(n,o),n===null?(a=sy(o.type,null,o.pendingProps,null))?o.memoizedState=a:ke||(a=o.type,n=o.pendingProps,u=Xa(he.current).createElement(a),u[yt]=o,u[kt]=n,St(u,a,n),ht(u),o.stateNode=u):o.memoizedState=sy(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return _n(o),n===null&&ke&&(u=o.stateNode=ny(o.type,o.pendingProps,he.current),vt=o,on=!0,g=$e,_i(o.type)?(lf=g,$e=rn(u.firstChild)):$e=g),Tt(n,o,o.pendingProps.children,a),Da(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&ke&&((g=u=$e)&&(u=Gb(u,o.type,o.pendingProps,on),u!==null?(o.stateNode=u,vt=o,$e=rn(u.firstChild),on=!1,g=!0):g=!1),g||ui(o)),_n(o),g=o.type,v=o.pendingProps,E=n!==null?n.memoizedProps:null,u=v.children,nf(g,v)?u=null:E!==null&&nf(g,E)&&(o.flags|=32),o.memoizedState!==null&&(g=tc(n,o,Z_,null,null,a),hr._currentValue=g),Da(n,o),Tt(n,o,u,a),o.child;case 6:return n===null&&ke&&((n=a=$e)&&(a=zb(a,o.pendingProps,on),a!==null?(o.stateNode=a,vt=o,$e=null,n=!0):n=!1),n||ui(o)),null;case 13:return Ym(n,o,a);case 4:return we(o,o.stateNode.containerInfo),u=o.pendingProps,n===null?o.child=Wi(o,null,u,a):Tt(n,o,u,a),o.child;case 11:return Lm(n,o,o.type,o.pendingProps,a);case 7:return Tt(n,o,o.pendingProps,a),o.child;case 8:return Tt(n,o,o.pendingProps.children,a),o.child;case 12:return Tt(n,o,o.pendingProps.children,a),o.child;case 10:return u=o.pendingProps,ci(o,o.type,u.value),Tt(n,o,u.children,a),o.child;case 9:return g=o.type._context,u=o.pendingProps.children,Xi(o),g=xt(g),u=u(g),o.flags|=1,Tt(n,o,u,a),o.child;case 14:return Vm(n,o,o.type,o.pendingProps,a);case 15:return Gm(n,o,o.type,o.pendingProps,a);case 19:return Km(n,o,a);case 31:return ab(n,o,a);case 22:return zm(n,o,a,o.pendingProps);case 24:return Xi(o),u=xt(st),n===null?(g=Yu(),g===null&&(g=Ke,v=qu(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),o.memoizedState={parent:u,cache:g},Ku(o),ci(o,st,g)):((n.lanes&a)!==0&&(Xu(n,o),Ks(o,null,null,a),Js()),g=n.memoizedState,v=o.memoizedState,g.parent!==u?(g={parent:u,cache:u},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),ci(o,st,u)):(u=v.cache,ci(o,st,u),u!==g.cache&&Hu(o,[st],a,!0))),Tt(n,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Hn(n){n.flags|=4}function Mc(n,o,a,u,g){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Sg())n.flags|=8192;else throw Qi=ga,Ju}else n.flags&=-16777217}function $m(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!cy(o))if(Sg())n.flags|=8192;else throw Qi=ga,Ju}function ka(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?Nh():536870912,n.lanes|=o,Fo|=o)}function Zs(n,o){if(!ke)switch(n.tailMode){case"hidden":o=n.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function je(n){var o=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(o)for(var g=n.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=a,o}function ub(n,o,a){var u=o.pendingProps;switch(Vu(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(o),null;case 1:return je(o),null;case 3:return a=o.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Gn(st),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Do(o)?Hn(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,zu())),je(o),null;case 26:var g=o.type,v=o.memoizedState;return n===null?(Hn(o),v!==null?(je(o),$m(o,v)):(je(o),Mc(o,g,null,u,a))):v?v!==n.memoizedState?(Hn(o),je(o),$m(o,v)):(je(o),o.flags&=-16777217):(n=n.memoizedProps,n!==u&&Hn(o),je(o),Mc(o,g,n,u,a)),null;case 27:if(fn(o),a=he.current,g=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Hn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return je(o),null}n=re.current,Do(o)?Np(o):(n=ny(g,u,a),o.stateNode=n,Hn(o))}return je(o),null;case 5:if(fn(o),g=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==u&&Hn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return je(o),null}if(v=re.current,Do(o))Np(o);else{var E=Xa(he.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?E.createElement(g,{is:u.is}):E.createElement(g)}}v[yt]=o,v[kt]=u;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=v;e:switch(St(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Hn(o)}}return je(o),Mc(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,a),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==u&&Hn(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(s(166));if(n=he.current,Do(o)){if(n=o.stateNode,a=o.memoizedProps,u=null,g=vt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[yt]=o,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Yg(n.nodeValue,a)),n||ui(o,!0)}else n=Xa(n).createTextNode(u),n[yt]=o,o.stateNode=n}return je(o),null;case 31:if(a=o.memoizedState,n===null||n.memoizedState!==null){if(u=Do(o),a!==null){if(n===null){if(!u)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[yt]=o}else Ji(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;je(o),n=!1}else a=zu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return o.flags&256?(Jt(o),o):(Jt(o),null);if((o.flags&128)!==0)throw Error(s(558))}return je(o),null;case 13:if(u=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Do(o),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[yt]=o}else Ji(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;je(o),g=!1}else g=zu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Jt(o),o):(Jt(o),null)}return Jt(o),(o.flags&128)!==0?(o.lanes=a,o):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=o.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),a!==n&&a&&(o.child.flags|=8192),ka(o,o.updateQueue),je(o),null);case 4:return Se(),n===null&&Qc(o.stateNode.containerInfo),je(o),null;case 10:return Gn(o.type),je(o),null;case 19:if(j(it),u=o.memoizedState,u===null)return je(o),null;if(g=(o.flags&128)!==0,v=u.rendering,v===null)if(g)Zs(u,!1);else{if(tt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(v=Ta(n),v!==null){for(o.flags|=128,Zs(u,!1),n=v.updateQueue,o.updateQueue=n,ka(o,n),o.subtreeFlags=0,n=a,a=o.child;a!==null;)_p(a,n),a=a.sibling;return ne(it,it.current&1|2),ke&&Ln(o,u.treeForkCount),o.child}n=n.sibling}u.tail!==null&&_t()>Ga&&(o.flags|=128,g=!0,Zs(u,!1),o.lanes=4194304)}else{if(!g)if(n=Ta(v),n!==null){if(o.flags|=128,g=!0,n=n.updateQueue,o.updateQueue=n,ka(o,n),Zs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!ke)return je(o),null}else 2*_t()-u.renderingStartTime>Ga&&a!==536870912&&(o.flags|=128,g=!0,Zs(u,!1),o.lanes=4194304);u.isBackwards?(v.sibling=o.child,o.child=v):(n=u.last,n!==null?n.sibling=v:o.child=v,u.last=v)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=_t(),n.sibling=null,a=it.current,ne(it,g?a&1|2:a&1),ke&&Ln(o,u.treeForkCount),n):(je(o),null);case 22:case 23:return Jt(o),Wu(),u=o.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(a&536870912)!==0&&(o.flags&128)===0&&(je(o),o.subtreeFlags&6&&(o.flags|=8192)):je(o),a=o.updateQueue,a!==null&&ka(o,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==a&&(o.flags|=2048),n!==null&&j($i),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Gn(st),je(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function cb(n,o){switch(Vu(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Gn(st),Se(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return fn(o),null;case 31:if(o.memoizedState!==null){if(Jt(o),o.alternate===null)throw Error(s(340));Ji()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Jt(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ji()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return j(it),null;case 4:return Se(),null;case 10:return Gn(o.type),null;case 22:case 23:return Jt(o),Wu(),n!==null&&j($i),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Gn(st),null;case 25:return null;default:return null}}function jm(n,o){switch(Vu(o),o.tag){case 3:Gn(st),Se();break;case 26:case 27:case 5:fn(o);break;case 4:Se();break;case 31:o.memoizedState!==null&&Jt(o);break;case 13:Jt(o);break;case 19:j(it);break;case 10:Gn(o.type);break;case 22:case 23:Jt(o),Wu(),n!==null&&j($i);break;case 24:Gn(st)}}function er(n,o){try{var a=o.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&n)===n){u=void 0;var v=a.create,E=a.inst;u=v(),E.destroy=u}a=a.next}while(a!==g)}}catch(C){He(o,o.return,C)}}function gi(n,o,a){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&n)===n){var E=u.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,g=o;var M=a,O=C;try{O()}catch(J){He(g,M,J)}}}u=u.next}while(u!==v)}}catch(J){He(o,o.return,J)}}function Qm(n){var o=n.updateQueue;if(o!==null){var a=n.stateNode;try{Op(o,a)}catch(u){He(n,n.return,u)}}}function Wm(n,o,a){a.props=eo(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){He(n,o,u)}}function tr(n,o){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(g){He(n,o,g)}}function wn(n,o){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){He(n,o,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){He(n,o,g)}else a.current=null}function Zm(n){var o=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){He(n,n.return,g)}}function Rc(n,o,a){try{var u=n.stateNode;Ib(u,n.type,a,o),u[kt]=o}catch(g){He(n,n.return,g)}}function eg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&_i(n.type)||n.tag===4}function Dc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||eg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&_i(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ic(n,o,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(n),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=kn));else if(u!==4&&(u===27&&_i(n.type)&&(a=n.stateNode,o=null),n=n.child,n!==null))for(Ic(n,o,a),n=n.sibling;n!==null;)Ic(n,o,a),n=n.sibling}function Ua(n,o,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,o?a.insertBefore(n,o):a.appendChild(n);else if(u!==4&&(u===27&&_i(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Ua(n,o,a),n=n.sibling;n!==null;)Ua(n,o,a),n=n.sibling}function tg(n){var o=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);St(o,u,a),o[yt]=n,o[kt]=a}catch(v){He(n,n.return,v)}}var qn=!1,lt=!1,kc=!1,ng=typeof WeakSet=="function"?WeakSet:Set,pt=null;function fb(n,o){if(n=n.containerInfo,ef=tl,n=pp(n),Au(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var E=0,C=-1,M=-1,O=0,J=0,Q=n,H=null;t:for(;;){for(var Y;Q!==a||g!==0&&Q.nodeType!==3||(C=E+g),Q!==v||u!==0&&Q.nodeType!==3||(M=E+u),Q.nodeType===3&&(E+=Q.nodeValue.length),(Y=Q.firstChild)!==null;)H=Q,Q=Y;for(;;){if(Q===n)break t;if(H===a&&++O===g&&(C=E),H===v&&++J===u&&(M=E),(Y=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=Y}a=C===-1||M===-1?null:{start:C,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(tf={focusedElem:n,selectionRange:a},tl=!1,pt=o;pt!==null;)if(o=pt,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,pt=n;else for(;pt!==null;){switch(o=pt,v=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)g=n[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,a=o,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var ae=eo(a.type,g);n=u.getSnapshotBeforeUpdate(ae,v),u.__reactInternalSnapshotBeforeUpdate=n}catch(ge){He(a,a.return,ge)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,a=n.nodeType,a===9)sf(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,pt=n;break}pt=o.return}}function ig(n,o,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Yn(n,a),u&4&&er(5,a);break;case 1:if(Yn(n,a),u&4)if(n=a.stateNode,o===null)try{n.componentDidMount()}catch(E){He(a,a.return,E)}else{var g=eo(a.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(g,o,n.__reactInternalSnapshotBeforeUpdate)}catch(E){He(a,a.return,E)}}u&64&&Qm(a),u&512&&tr(a,a.return);break;case 3:if(Yn(n,a),u&64&&(n=a.updateQueue,n!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Op(n,o)}catch(E){He(a,a.return,E)}}break;case 27:o===null&&u&4&&tg(a);case 26:case 5:Yn(n,a),o===null&&u&4&&Zm(a),u&512&&tr(a,a.return);break;case 12:Yn(n,a);break;case 31:Yn(n,a),u&4&&rg(n,a);break;case 13:Yn(n,a),u&4&&ag(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Tb.bind(null,a),Bb(n,a))));break;case 22:if(u=a.memoizedState!==null||qn,!u){o=o!==null&&o.memoizedState!==null||lt,g=qn;var v=lt;qn=u,(lt=o)&&!v?Jn(n,a,(a.subtreeFlags&8772)!==0):Yn(n,a),qn=g,lt=v}break;case 30:break;default:Yn(n,a)}}function og(n){var o=n.alternate;o!==null&&(n.alternate=null,og(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&uu(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qe=null,Pt=!1;function Fn(n,o,a){for(a=a.child;a!==null;)sg(n,o,a),a=a.sibling}function sg(n,o,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Cs,a)}catch{}switch(a.tag){case 26:lt||wn(a,o),Fn(n,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||wn(a,o);var u=Qe,g=Pt;_i(a.type)&&(Qe=a.stateNode,Pt=!1),Fn(n,o,a),cr(a.stateNode),Qe=u,Pt=g;break;case 5:lt||wn(a,o);case 6:if(u=Qe,g=Pt,Qe=null,Fn(n,o,a),Qe=u,Pt=g,Qe!==null)if(Pt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(v){He(a,o,v)}else try{Qe.removeChild(a.stateNode)}catch(v){He(a,o,v)}break;case 18:Qe!==null&&(Pt?(n=Qe,Qg(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Wo(n)):Qg(Qe,a.stateNode));break;case 4:u=Qe,g=Pt,Qe=a.stateNode.containerInfo,Pt=!0,Fn(n,o,a),Qe=u,Pt=g;break;case 0:case 11:case 14:case 15:gi(2,a,o),lt||gi(4,a,o),Fn(n,o,a);break;case 1:lt||(wn(a,o),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Wm(a,o,u)),Fn(n,o,a);break;case 21:Fn(n,o,a);break;case 22:lt=(u=lt)||a.memoizedState!==null,Fn(n,o,a),lt=u;break;default:Fn(n,o,a)}}function rg(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Wo(n)}catch(a){He(o,o.return,a)}}}function ag(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wo(n)}catch(a){He(o,o.return,a)}}function db(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new ng),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new ng),o;default:throw Error(s(435,n.tag))}}function Pa(n,o){var a=db(n);o.forEach(function(u){if(!a.has(u)){a.add(u);var g=Sb.bind(null,n,u);u.then(g,g)}})}function Lt(n,o){var a=o.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=n,E=o,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(_i(C.type)){Qe=C.stateNode,Pt=!1;break e}break;case 5:Qe=C.stateNode,Pt=!1;break e;case 3:case 4:Qe=C.stateNode.containerInfo,Pt=!0;break e}C=C.return}if(Qe===null)throw Error(s(160));sg(v,E,g),Qe=null,Pt=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)lg(o,n),o=o.sibling}var hn=null;function lg(n,o){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(o,n),Vt(n),u&4&&(gi(3,n,n.return),er(3,n),gi(5,n,n.return));break;case 1:Lt(o,n),Vt(n),u&512&&(lt||a===null||wn(a,a.return)),u&64&&qn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=hn;if(Lt(o,n),Vt(n),u&512&&(lt||a===null||wn(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[Ns]||v[yt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),St(v,u,a),v[yt]=n,ht(v),u=v;break e;case"link":var E=ly("link","href",g).get(u+(a.href||""));if(E){for(var C=0;C<E.length;C++)if(v=E[C],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(C,1);break t}}v=g.createElement(u),St(v,u,a),g.head.appendChild(v);break;case"meta":if(E=ly("meta","content",g).get(u+(a.content||""))){for(C=0;C<E.length;C++)if(v=E[C],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(C,1);break t}}v=g.createElement(u),St(v,u,a),g.head.appendChild(v);break;default:throw Error(s(468,u))}v[yt]=n,ht(v),u=v}n.stateNode=u}else uy(g,n.type,n.stateNode);else n.stateNode=ay(g,u,n.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?uy(g,n.type,n.stateNode):ay(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Rc(n,n.memoizedProps,a.memoizedProps)}break;case 27:Lt(o,n),Vt(n),u&512&&(lt||a===null||wn(a,a.return)),a!==null&&u&4&&Rc(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Lt(o,n),Vt(n),u&512&&(lt||a===null||wn(a,a.return)),n.flags&32){g=n.stateNode;try{So(g,"")}catch(ae){He(n,n.return,ae)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,Rc(n,g,a!==null?a.memoizedProps:g)),u&1024&&(kc=!0);break;case 6:if(Lt(o,n),Vt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ae){He(n,n.return,ae)}}break;case 3:if(Qa=null,g=hn,hn=$a(o.containerInfo),Lt(o,n),hn=g,Vt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Wo(o.containerInfo)}catch(ae){He(n,n.return,ae)}kc&&(kc=!1,ug(n));break;case 4:u=hn,hn=$a(n.stateNode.containerInfo),Lt(o,n),Vt(n),hn=u;break;case 12:Lt(o,n),Vt(n);break;case 31:Lt(o,n),Vt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Pa(n,u)));break;case 13:Lt(o,n),Vt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Va=_t()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Pa(n,u)));break;case 22:g=n.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,O=qn,J=lt;if(qn=O||g,lt=J||M,Lt(o,n),lt=J,qn=O,Vt(n),u&8192)e:for(o=n.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(a===null||M||qn||lt||to(n)),a=null,o=n;;){if(o.tag===5||o.tag===26){if(a===null){M=a=o;try{if(v=M.stateNode,g)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=M.stateNode;var Q=M.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ae){He(M,M.return,ae)}}}else if(o.tag===6){if(a===null){M=o;try{M.stateNode.nodeValue=g?"":M.memoizedProps}catch(ae){He(M,M.return,ae)}}}else if(o.tag===18){if(a===null){M=o;try{var Y=M.stateNode;g?Wg(Y,!0):Wg(M.stateNode,!1)}catch(ae){He(M,M.return,ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Pa(n,a))));break;case 19:Lt(o,n),Vt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Pa(n,u)));break;case 30:break;case 21:break;default:Lt(o,n),Vt(n)}}function Vt(n){var o=n.flags;if(o&2){try{for(var a,u=n.return;u!==null;){if(eg(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,v=Dc(n);Ua(n,v,g);break;case 5:var E=a.stateNode;a.flags&32&&(So(E,""),a.flags&=-33);var C=Dc(n);Ua(n,C,E);break;case 3:case 4:var M=a.stateNode.containerInfo,O=Dc(n);Ic(n,O,M);break;default:throw Error(s(161))}}catch(J){He(n,n.return,J)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function ug(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;ug(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function Yn(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ig(n,o.alternate,o),o=o.sibling}function to(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:gi(4,o,o.return),to(o);break;case 1:wn(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&Wm(o,o.return,a),to(o);break;case 27:cr(o.stateNode);case 26:case 5:wn(o,o.return),to(o);break;case 22:o.memoizedState===null&&to(o);break;case 30:to(o);break;default:to(o)}n=n.sibling}}function Jn(n,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,g=n,v=o,E=v.flags;switch(v.tag){case 0:case 11:case 15:Jn(g,v,a),er(4,v);break;case 1:if(Jn(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(O){He(u,u.return,O)}if(u=v,g=u.updateQueue,g!==null){var C=u.stateNode;try{var M=g.shared.hiddenCallbacks;if(M!==null)for(g.shared.hiddenCallbacks=null,g=0;g<M.length;g++)Bp(M[g],C)}catch(O){He(u,u.return,O)}}a&&E&64&&Qm(v),tr(v,v.return);break;case 27:tg(v);case 26:case 5:Jn(g,v,a),a&&u===null&&E&4&&Zm(v),tr(v,v.return);break;case 12:Jn(g,v,a);break;case 31:Jn(g,v,a),a&&E&4&&rg(g,v);break;case 13:Jn(g,v,a),a&&E&4&&ag(g,v);break;case 22:v.memoizedState===null&&Jn(g,v,a),tr(v,v.return);break;case 30:break;default:Jn(g,v,a)}o=o.sibling}}function Uc(n,o){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Os(a))}function Pc(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Os(n))}function pn(n,o,a,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)cg(n,o,a,u),o=o.sibling}function cg(n,o,a,u){var g=o.flags;switch(o.tag){case 0:case 11:case 15:pn(n,o,a,u),g&2048&&er(9,o);break;case 1:pn(n,o,a,u);break;case 3:pn(n,o,a,u),g&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Os(n)));break;case 12:if(g&2048){pn(n,o,a,u),n=o.stateNode;try{var v=o.memoizedProps,E=v.id,C=v.onPostCommit;typeof C=="function"&&C(E,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){He(o,o.return,M)}}else pn(n,o,a,u);break;case 31:pn(n,o,a,u);break;case 13:pn(n,o,a,u);break;case 23:break;case 22:v=o.stateNode,E=o.alternate,o.memoizedState!==null?v._visibility&2?pn(n,o,a,u):nr(n,o):v._visibility&2?pn(n,o,a,u):(v._visibility|=2,Oo(n,o,a,u,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Uc(E,o);break;case 24:pn(n,o,a,u),g&2048&&Pc(o.alternate,o);break;default:pn(n,o,a,u)}}function Oo(n,o,a,u,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=n,E=o,C=a,M=u,O=E.flags;switch(E.tag){case 0:case 11:case 15:Oo(v,E,C,M,g),er(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Oo(v,E,C,M,g):nr(v,E):(J._visibility|=2,Oo(v,E,C,M,g)),g&&O&2048&&Uc(E.alternate,E);break;case 24:Oo(v,E,C,M,g),g&&O&2048&&Pc(E.alternate,E);break;default:Oo(v,E,C,M,g)}o=o.sibling}}function nr(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=n,u=o,g=u.flags;switch(u.tag){case 22:nr(a,u),g&2048&&Uc(u.alternate,u);break;case 24:nr(a,u),g&2048&&Pc(u.alternate,u);break;default:nr(a,u)}o=o.sibling}}var ir=8192;function Ho(n,o,a){if(n.subtreeFlags&ir)for(n=n.child;n!==null;)fg(n,o,a),n=n.sibling}function fg(n,o,a){switch(n.tag){case 26:Ho(n,o,a),n.flags&ir&&n.memoizedState!==null&&Wb(a,hn,n.memoizedState,n.memoizedProps);break;case 5:Ho(n,o,a);break;case 3:case 4:var u=hn;hn=$a(n.stateNode.containerInfo),Ho(n,o,a),hn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ir,ir=16777216,Ho(n,o,a),ir=u):Ho(n,o,a));break;default:Ho(n,o,a)}}function dg(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function or(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];pt=u,pg(u,n)}dg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hg(n),n=n.sibling}function hg(n){switch(n.tag){case 0:case 11:case 15:or(n),n.flags&2048&&gi(9,n,n.return);break;case 3:or(n);break;case 12:or(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,La(n)):or(n);break;default:or(n)}}function La(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];pt=u,pg(u,n)}dg(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:gi(8,o,o.return),La(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,La(o));break;default:La(o)}n=n.sibling}}function pg(n,o){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:gi(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Os(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,pt=u;else e:for(a=n;pt!==null;){u=pt;var g=u.sibling,v=u.return;if(og(u),u===a){pt=null;break e}if(g!==null){g.return=v,pt=g;break e}pt=v}}}var hb={getCacheForType:function(n){var o=xt(st),a=o.data.get(n);return a===void 0&&(a=n(),o.data.set(n,a)),a},cacheSignal:function(){return xt(st).controller.signal}},pb=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ke=null,Ne=null,Re=0,Oe=0,Kt=null,yi=!1,qo=!1,Lc=!1,Kn=0,tt=0,vi=0,no=0,Vc=0,Xt=0,Fo=0,sr=null,Gt=null,Gc=!1,Va=0,mg=0,Ga=1/0,za=null,xi=null,ct=0,Ti=null,Yo=null,Xn=0,zc=0,Bc=null,gg=null,rr=0,Oc=null;function $t(){return(Be&2)!==0&&Re!==0?Re&-Re:F.T!==null?Kc():Ih()}function yg(){if(Xt===0)if((Re&536870912)===0||ke){var n=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Xt=n}else Xt=536870912;return n=Yt.current,n!==null&&(n.flags|=32),Xt}function zt(n,o,a){(n===Ke&&(Oe===2||Oe===9)||n.cancelPendingCommit!==null)&&(Jo(n,0),Si(n,Re,Xt,!1)),ws(n,a),((Be&2)===0||n!==Ke)&&(n===Ke&&((Be&2)===0&&(no|=a),tt===4&&Si(n,Re,Xt,!1)),Nn(n))}function vg(n,o,a){if((Be&6)!==0)throw Error(s(327));var u=!a&&(o&127)===0&&(o&n.expiredLanes)===0||As(n,o),g=u?yb(n,o):qc(n,o,!0),v=u;do{if(g===0){qo&&!u&&Si(n,o,0,!1);break}else{if(a=n.current.alternate,v&&!mb(a)){g=qc(n,o,!1),v=!1;continue}if(g===2){if(v=o,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var C=n;g=sr;var M=C.current.memoizedState.isDehydrated;if(M&&(Jo(C,E).flags|=256),E=qc(C,E,!1),E!==2){if(Lc&&!M){C.errorRecoveryDisabledLanes|=v,no|=v,g=4;break e}v=Gt,Gt=g,v!==null&&(Gt===null?Gt=v:Gt.push.apply(Gt,v))}g=E}if(v=!1,g!==2)continue}}if(g===1){Jo(n,0),Si(n,o,0,!0);break}e:{switch(u=n,v=g,v){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Si(u,o,Xt,!yi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(g=Va+300-_t(),10<g)){if(Si(u,o,Xt,!yi),$r(u,0,!0)!==0)break e;Xn=o,u.timeoutHandle=$g(xg.bind(null,u,a,Gt,za,Gc,o,Xt,no,Fo,yi,v,"Throttled",-0,0),g);break e}xg(u,a,Gt,za,Gc,o,Xt,no,Fo,yi,v,null,-0,0)}}break}while(!0);Nn(n)}function xg(n,o,a,u,g,v,E,C,M,O,J,Q,H,Y){if(n.timeoutHandle=-1,Q=o.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},fg(o,v,Q);var ae=(v&62914560)===v?Va-_t():(v&4194048)===v?mg-_t():0;if(ae=Zb(Q,ae),ae!==null){Xn=v,n.cancelPendingCommit=ae(wg.bind(null,n,o,v,a,u,g,E,C,M,J,Q,null,H,Y)),Si(n,v,E,!O);return}}wg(n,o,v,a,u,g,E,C,M)}function mb(n){for(var o=n;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!qt(v(),g))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Si(n,o,a,u){o&=~Vc,o&=~no,n.suspendedLanes|=o,n.pingedLanes&=~o,u&&(n.warmLanes|=o),u=n.expirationTimes;for(var g=o;0<g;){var v=31-Ht(g),E=1<<v;u[v]=-1,g&=~E}a!==0&&Mh(n,a,o)}function Ba(){return(Be&6)===0?(ar(0),!1):!0}function Hc(){if(Ne!==null){if(Oe===0)var n=Ne.return;else n=Ne,Vn=Ki=null,oc(n),Lo=null,qs=0,n=Ne;for(;n!==null;)jm(n.alternate,n),n=n.return;Ne=null}}function Jo(n,o){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Pb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Xn=0,Hc(),Ke=n,Ne=a=Pn(n.current,null),Re=o,Oe=0,Kt=null,yi=!1,qo=As(n,o),Lc=!1,Fo=Xt=Vc=no=vi=tt=0,Gt=sr=null,Gc=!1,(o&8)!==0&&(o|=o&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=o;0<u;){var g=31-Ht(u),v=1<<g;o|=n[g],u&=~v}return Kn=o,aa(),a}function Tg(n,o){Ee=null,F.H=Qs,o===Po||o===ma?(o=Lp(),Oe=3):o===Ju?(o=Lp(),Oe=4):Oe=o===Tc?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Kt=o,Ne===null&&(tt=1,Ma(n,en(o,n.current)))}function Sg(){var n=Yt.current;return n===null?!0:(Re&4194048)===Re?sn===null:(Re&62914560)===Re||(Re&536870912)!==0?n===sn:!1}function Eg(){var n=F.H;return F.H=Qs,n===null?Qs:n}function _g(){var n=F.A;return F.A=hb,n}function Oa(){tt=4,yi||(Re&4194048)!==Re&&Yt.current!==null||(qo=!0),(vi&134217727)===0&&(no&134217727)===0||Ke===null||Si(Ke,Re,Xt,!1)}function qc(n,o,a){var u=Be;Be|=2;var g=Eg(),v=_g();(Ke!==n||Re!==o)&&(za=null,Jo(n,o)),o=!1;var E=tt;e:do try{if(Oe!==0&&Ne!==null){var C=Ne,M=Kt;switch(Oe){case 8:Hc(),E=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(o=!0);var O=Oe;if(Oe=0,Kt=null,Ko(n,C,M,O),a&&qo){E=0;break e}break;default:O=Oe,Oe=0,Kt=null,Ko(n,C,M,O)}}gb(),E=tt;break}catch(J){Tg(n,J)}while(!0);return o&&n.shellSuspendCounter++,Vn=Ki=null,Be=u,F.H=g,F.A=v,Ne===null&&(Ke=null,Re=0,aa()),E}function gb(){for(;Ne!==null;)bg(Ne)}function yb(n,o){var a=Be;Be|=2;var u=Eg(),g=_g();Ke!==n||Re!==o?(za=null,Ga=_t()+500,Jo(n,o)):qo=As(n,o);e:do try{if(Oe!==0&&Ne!==null){o=Ne;var v=Kt;t:switch(Oe){case 1:Oe=0,Kt=null,Ko(n,o,v,1);break;case 2:case 9:if(Up(v)){Oe=0,Kt=null,Cg(o);break}o=function(){Oe!==2&&Oe!==9||Ke!==n||(Oe=7),Nn(n)},v.then(o,o);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Up(v)?(Oe=0,Kt=null,Cg(o)):(Oe=0,Kt=null,Ko(n,o,v,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var C=Ne;if(E?cy(E):C.stateNode.complete){Oe=0,Kt=null;var M=C.sibling;if(M!==null)Ne=M;else{var O=C.return;O!==null?(Ne=O,Ha(O)):Ne=null}break t}}Oe=0,Kt=null,Ko(n,o,v,5);break;case 6:Oe=0,Kt=null,Ko(n,o,v,6);break;case 8:Hc(),tt=6;break e;default:throw Error(s(462))}}vb();break}catch(J){Tg(n,J)}while(!0);return Vn=Ki=null,F.H=u,F.A=g,Be=a,Ne!==null?0:(Ke=null,Re=0,aa(),tt)}function vb(){for(;Ne!==null&&!iu();)bg(Ne)}function bg(n){var o=Xm(n.alternate,n,Kn);n.memoizedProps=n.pendingProps,o===null?Ha(n):Ne=o}function Cg(n){var o=n,a=o.alternate;switch(o.tag){case 15:case 0:o=Hm(a,o,o.pendingProps,o.type,void 0,Re);break;case 11:o=Hm(a,o,o.pendingProps,o.type.render,o.ref,Re);break;case 5:oc(o);default:jm(a,o),o=Ne=_p(o,Kn),o=Xm(a,o,Kn)}n.memoizedProps=n.pendingProps,o===null?Ha(n):Ne=o}function Ko(n,o,a,u){Vn=Ki=null,oc(o),Lo=null,qs=0;var g=o.return;try{if(rb(n,g,o,a,Re)){tt=1,Ma(n,en(a,n.current)),Ne=null;return}}catch(v){if(g!==null)throw Ne=g,v;tt=1,Ma(n,en(a,n.current)),Ne=null;return}o.flags&32768?(ke||u===1?n=!0:qo||(Re&536870912)!==0?n=!1:(yi=n=!0,(u===2||u===9||u===3||u===6)&&(u=Yt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ag(o,n)):Ha(o)}function Ha(n){var o=n;do{if((o.flags&32768)!==0){Ag(o,yi);return}n=o.return;var a=ub(o.alternate,o,Kn);if(a!==null){Ne=a;return}if(o=o.sibling,o!==null){Ne=o;return}Ne=o=n}while(o!==null);tt===0&&(tt=5)}function Ag(n,o){do{var a=cb(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);tt=6,Ne=null}function wg(n,o,a,u,g,v,E,C,M){n.cancelPendingCommit=null;do qa();while(ct!==0);if((Be&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(v=o.lanes|o.childLanes,v|=Du,QE(n,a,v,E,C,M),n===Ke&&(Ne=Ke=null,Re=0),Yo=o,Ti=n,Xn=a,zc=v,Bc=g,gg=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Eb(ve,function(){return Ig(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,g=W.p,W.p=2,E=Be,Be|=4;try{fb(n,o,a)}finally{Be=E,W.p=g,F.T=u}}ct=1,Ng(),Mg(),Rg()}}function Ng(){if(ct===1){ct=0;var n=Ti,o=Yo,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var u=W.p;W.p=2;var g=Be;Be|=4;try{lg(o,n);var v=tf,E=pp(n.containerInfo),C=v.focusedElem,M=v.selectionRange;if(E!==C&&C&&C.ownerDocument&&hp(C.ownerDocument.documentElement,C)){if(M!==null&&Au(C)){var O=M.start,J=M.end;if(J===void 0&&(J=O),"selectionStart"in C)C.selectionStart=O,C.selectionEnd=Math.min(J,C.value.length);else{var Q=C.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ae=C.textContent.length,ge=Math.min(M.start,ae),Je=M.end===void 0?ge:Math.min(M.end,ae);!Y.extend&&ge>Je&&(E=Je,Je=ge,ge=E);var k=dp(C,ge),R=dp(C,Je);if(k&&R&&(Y.rangeCount!==1||Y.anchorNode!==k.node||Y.anchorOffset!==k.offset||Y.focusNode!==R.node||Y.focusOffset!==R.offset)){var G=Q.createRange();G.setStart(k.node,k.offset),Y.removeAllRanges(),ge>Je?(Y.addRange(G),Y.extend(R.node,R.offset)):(G.setEnd(R.node,R.offset),Y.addRange(G))}}}}for(Q=[],Y=C;Y=Y.parentNode;)Y.nodeType===1&&Q.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<Q.length;C++){var $=Q[C];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}tl=!!ef,tf=ef=null}finally{Be=g,W.p=u,F.T=a}}n.current=o,ct=2}}function Mg(){if(ct===2){ct=0;var n=Ti,o=Yo,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var u=W.p;W.p=2;var g=Be;Be|=4;try{ig(n,o.alternate,o)}finally{Be=g,W.p=u,F.T=a}}ct=3}}function Rg(){if(ct===4||ct===3){ct=0,ou();var n=Ti,o=Yo,a=Xn,u=gg;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ct=5:(ct=0,Yo=Ti=null,Dg(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(xi=null),au(a),o=o.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Cs,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=F.T,g=W.p,W.p=2,F.T=null;try{for(var v=n.onRecoverableError,E=0;E<u.length;E++){var C=u[E];v(C.value,{componentStack:C.stack})}}finally{F.T=o,W.p=g}}(Xn&3)!==0&&qa(),Nn(n),g=n.pendingLanes,(a&261930)!==0&&(g&42)!==0?n===Oc?rr++:(rr=0,Oc=n):rr=0,ar(0)}}function Dg(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Os(o)))}function qa(){return Ng(),Mg(),Rg(),Ig()}function Ig(){if(ct!==5)return!1;var n=Ti,o=zc;zc=0;var a=au(Xn),u=F.T,g=W.p;try{W.p=32>a?32:a,F.T=null,a=Bc,Bc=null;var v=Ti,E=Xn;if(ct=0,Yo=Ti=null,Xn=0,(Be&6)!==0)throw Error(s(331));var C=Be;if(Be|=4,hg(v.current),cg(v,v.current,E,a),Be=C,ar(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Cs,v)}catch{}return!0}finally{W.p=g,F.T=u,Dg(n,o)}}function kg(n,o,a){o=en(a,o),o=xc(n.stateNode,o,2),n=hi(n,o,2),n!==null&&(ws(n,2),Nn(n))}function He(n,o,a){if(n.tag===3)kg(n,n,a);else for(;o!==null;){if(o.tag===3){kg(o,n,a);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xi===null||!xi.has(u))){n=en(a,n),a=Um(2),u=hi(o,a,2),u!==null&&(Pm(a,u,o,n),ws(u,2),Nn(u));break}}o=o.return}}function Fc(n,o,a){var u=n.pingCache;if(u===null){u=n.pingCache=new pb;var g=new Set;u.set(o,g)}else g=u.get(o),g===void 0&&(g=new Set,u.set(o,g));g.has(a)||(Lc=!0,g.add(a),n=xb.bind(null,n,o,a),o.then(n,n))}function xb(n,o,a){var u=n.pingCache;u!==null&&u.delete(o),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ke===n&&(Re&a)===a&&(tt===4||tt===3&&(Re&62914560)===Re&&300>_t()-Va?(Be&2)===0&&Jo(n,0):Vc|=a,Fo===Re&&(Fo=0)),Nn(n)}function Ug(n,o){o===0&&(o=Nh()),n=Fi(n,o),n!==null&&(ws(n,o),Nn(n))}function Tb(n){var o=n.memoizedState,a=0;o!==null&&(a=o.retryLane),Ug(n,a)}function Sb(n,o){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(o),Ug(n,a)}function Eb(n,o){return ii(n,o)}var Fa=null,Xo=null,Yc=!1,Ya=!1,Jc=!1,Ei=0;function Nn(n){n!==Xo&&n.next===null&&(Xo===null?Fa=Xo=n:Xo=Xo.next=n),Ya=!0,Yc||(Yc=!0,bb())}function ar(n,o){if(!Jc&&Ya){Jc=!0;do for(var a=!1,u=Fa;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var E=u.suspendedLanes,C=u.pingedLanes;v=(1<<31-Ht(42|n)+1)-1,v&=g&~(E&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Gg(u,v))}else v=Re,v=$r(u,u===Ke?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||As(u,v)||(a=!0,Gg(u,v));u=u.next}while(a);Jc=!1}}function _b(){Pg()}function Pg(){Ya=Yc=!1;var n=0;Ei!==0&&Ub()&&(n=Ei);for(var o=_t(),a=null,u=Fa;u!==null;){var g=u.next,v=Lg(u,o);v===0?(u.next=null,a===null?Fa=g:a.next=g,g===null&&(Xo=a)):(a=u,(n!==0||(v&3)!==0)&&(Ya=!0)),u=g}ct!==0&&ct!==5||ar(n),Ei!==0&&(Ei=0)}function Lg(n,o){for(var a=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-Ht(v),C=1<<E,M=g[E];M===-1?((C&a)===0||(C&u)!==0)&&(g[E]=jE(C,o)):M<=o&&(n.expiredLanes|=C),v&=~C}if(o=Ke,a=Re,a=$r(n,n===o?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===o&&(Oe===2||Oe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&_s(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||As(n,a)){if(o=a&-a,o===n.callbackPriority)return o;switch(u!==null&&_s(u),au(a)){case 2:case 8:a=te;break;case 32:a=ve;break;case 268435456:a=Bt;break;default:a=ve}return u=Vg.bind(null,n),a=ii(a,u),n.callbackPriority=o,n.callbackNode=a,o}return u!==null&&u!==null&&_s(u),n.callbackPriority=2,n.callbackNode=null,2}function Vg(n,o){if(ct!==0&&ct!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(qa()&&n.callbackNode!==a)return null;var u=Re;return u=$r(n,n===Ke?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(vg(n,u,o),Lg(n,_t()),n.callbackNode!=null&&n.callbackNode===a?Vg.bind(null,n):null)}function Gg(n,o){if(qa())return null;vg(n,o,!0)}function bb(){Lb(function(){(Be&6)!==0?ii(Z,_b):Pg()})}function Kc(){if(Ei===0){var n=ko;n===0&&(n=Jr,Jr<<=1,(Jr&261888)===0&&(Jr=256)),Ei=n}return Ei}function zg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zr(""+n)}function Bg(n,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,n.id&&a.setAttribute("form",n.id),o.parentNode.insertBefore(a,o),n=new FormData(n),a.parentNode.removeChild(a),n}function Cb(n,o,a,u,g){if(o==="submit"&&a&&a.stateNode===g){var v=zg((g[kt]||null).action),E=u.submitter;E&&(o=(o=E[kt]||null)?zg(o.formAction):E.getAttribute("formAction"),o!==null&&(v=o,E=null));var C=new ia("action","action",null,u,g);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ei!==0){var M=E?Bg(g,E):new FormData(g);hc(a,{pending:!0,data:M,method:g.method,action:v},null,M)}}else typeof v=="function"&&(C.preventDefault(),M=E?Bg(g,E):new FormData(g),hc(a,{pending:!0,data:M,method:g.method,action:v},v,M))},currentTarget:g}]})}}for(var Xc=0;Xc<Ru.length;Xc++){var $c=Ru[Xc],Ab=$c.toLowerCase(),wb=$c[0].toUpperCase()+$c.slice(1);dn(Ab,"on"+wb)}dn(yp,"onAnimationEnd"),dn(vp,"onAnimationIteration"),dn(xp,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(q_,"onTransitionRun"),dn(F_,"onTransitionStart"),dn(Y_,"onTransitionCancel"),dn(Tp,"onTransitionEnd"),xo("onMouseEnter",["mouseout","mouseover"]),xo("onMouseLeave",["mouseout","mouseover"]),xo("onPointerEnter",["pointerout","pointerover"]),xo("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lr));function Og(n,o){o=(o&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],g=u.event;u=u.listeners;e:{var v=void 0;if(o)for(var E=u.length-1;0<=E;E--){var C=u[E],M=C.instance,O=C.currentTarget;if(C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=O;try{v(g)}catch(J){ra(J)}g.currentTarget=null,v=M}else for(E=0;E<u.length;E++){if(C=u[E],M=C.instance,O=C.currentTarget,C=C.listener,M!==v&&g.isPropagationStopped())break e;v=C,g.currentTarget=O;try{v(g)}catch(J){ra(J)}g.currentTarget=null,v=M}}}}function Me(n,o){var a=o[lu];a===void 0&&(a=o[lu]=new Set);var u=n+"__bubble";a.has(u)||(Hg(o,n,2,!1),a.add(u))}function jc(n,o,a){var u=0;o&&(u|=4),Hg(a,n,u,o)}var Ja="_reactListening"+Math.random().toString(36).slice(2);function Qc(n){if(!n[Ja]){n[Ja]=!0,Ph.forEach(function(a){a!=="selectionchange"&&(Nb.has(a)||jc(a,!1,n),jc(a,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Ja]||(o[Ja]=!0,jc("selectionchange",!1,o))}}function Hg(n,o,a,u){switch(yy(o)){case 2:var g=nC;break;case 8:g=iC;break;default:g=hf}a=g.bind(null,o,a,n),g=void 0,!yu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(o,a,{capture:!0,passive:g}):n.addEventListener(o,a,!0):g!==void 0?n.addEventListener(o,a,{passive:g}):n.addEventListener(o,a,!1)}function Wc(n,o,a,u,g){var v=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===g)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;C!==null;){if(E=go(C),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=v=E;continue e}C=C.parentNode}}u=u.return}Kh(function(){var O=v,J=mu(a),Q=[];e:{var H=Sp.get(n);if(H!==void 0){var Y=ia,ae=n;switch(n){case"keypress":if(ta(a)===0)break e;case"keydown":case"keyup":Y=S_;break;case"focusin":ae="focus",Y=Su;break;case"focusout":ae="blur",Y=Su;break;case"beforeblur":case"afterblur":Y=Su;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=u_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=b_;break;case yp:case vp:case xp:Y=d_;break;case Tp:Y=A_;break;case"scroll":case"scrollend":Y=a_;break;case"wheel":Y=N_;break;case"copy":case"cut":case"paste":Y=p_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Wh;break;case"toggle":case"beforetoggle":Y=R_}var ge=(o&4)!==0,Je=!ge&&(n==="scroll"||n==="scrollend"),k=ge?H!==null?H+"Capture":null:H;ge=[];for(var R=O,G;R!==null;){var $=R;if(G=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||G===null||k===null||($=Rs(R,k),$!=null&&ge.push(ur(R,$,G))),Je)break;R=R.return}0<ge.length&&(H=new Y(H,ae,null,a,J),Q.push({event:H,listeners:ge}))}}if((o&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",H&&a!==pu&&(ae=a.relatedTarget||a.fromElement)&&(go(ae)||ae[mo]))break e;if((Y||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ae=a.relatedTarget||a.toElement,Y=O,ae=ae?go(ae):null,ae!==null&&(Je=l(ae),ge=ae.tag,ae!==Je||ge!==5&&ge!==27&&ge!==6)&&(ae=null)):(Y=null,ae=O),Y!==ae)){if(ge=jh,$="onMouseLeave",k="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(ge=Wh,$="onPointerLeave",k="onPointerEnter",R="pointer"),Je=Y==null?H:Ms(Y),G=ae==null?H:Ms(ae),H=new ge($,R+"leave",Y,a,J),H.target=Je,H.relatedTarget=G,$=null,go(J)===O&&(ge=new ge(k,R+"enter",ae,a,J),ge.target=G,ge.relatedTarget=Je,$=ge),Je=$,Y&&ae)t:{for(ge=Mb,k=Y,R=ae,G=0,$=k;$;$=ge($))G++;$=0;for(var pe=R;pe;pe=ge(pe))$++;for(;0<G-$;)k=ge(k),G--;for(;0<$-G;)R=ge(R),$--;for(;G--;){if(k===R||R!==null&&k===R.alternate){ge=k;break t}k=ge(k),R=ge(R)}ge=null}else ge=null;Y!==null&&qg(Q,H,Y,ge,!1),ae!==null&&Je!==null&&qg(Q,Je,ae,ge,!0)}}e:{if(H=O?Ms(O):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Le=rp;else if(op(H))if(ap)Le=B_;else{Le=G_;var de=V_}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?O&&hu(O.elementType)&&(Le=rp):Le=z_;if(Le&&(Le=Le(n,O))){sp(Q,Le,a,J);break e}de&&de(n,H,O),n==="focusout"&&O&&H.type==="number"&&O.memoizedProps.value!=null&&du(H,"number",H.value)}switch(de=O?Ms(O):window,n){case"focusin":(op(de)||de.contentEditable==="true")&&(Co=de,wu=O,Gs=null);break;case"focusout":Gs=wu=Co=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,mp(Q,a,J);break;case"selectionchange":if(H_)break;case"keydown":case"keyup":mp(Q,a,J)}var be;if(_u)e:{switch(n){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else bo?np(n,a)&&(De="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(Zh&&a.locale!=="ko"&&(bo||De!=="onCompositionStart"?De==="onCompositionEnd"&&bo&&(be=Xh()):(ri=J,vu="value"in ri?ri.value:ri.textContent,bo=!0)),de=Ka(O,De),0<de.length&&(De=new Qh(De,n,null,a,J),Q.push({event:De,listeners:de}),be?De.data=be:(be=ip(a),be!==null&&(De.data=be)))),(be=I_?k_(n,a):U_(n,a))&&(De=Ka(O,"onBeforeInput"),0<De.length&&(de=new Qh("onBeforeInput","beforeinput",null,a,J),Q.push({event:de,listeners:De}),de.data=be)),Cb(Q,n,O,a,J)}Og(Q,o)})}function ur(n,o,a){return{instance:n,listener:o,currentTarget:a}}function Ka(n,o){for(var a=o+"Capture",u=[];n!==null;){var g=n,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Rs(n,a),g!=null&&u.unshift(ur(n,g,v)),g=Rs(n,o),g!=null&&u.push(ur(n,g,v))),n.tag===3)return u;n=n.return}return[]}function Mb(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function qg(n,o,a,u,g){for(var v=o._reactName,E=[];a!==null&&a!==u;){var C=a,M=C.alternate,O=C.stateNode;if(C=C.tag,M!==null&&M===u)break;C!==5&&C!==26&&C!==27||O===null||(M=O,g?(O=Rs(a,v),O!=null&&E.unshift(ur(a,O,M))):g||(O=Rs(a,v),O!=null&&E.push(ur(a,O,M)))),a=a.return}E.length!==0&&n.push({event:o,listeners:E})}var Rb=/\r\n?/g,Db=/\u0000|\uFFFD/g;function Fg(n){return(typeof n=="string"?n:""+n).replace(Rb,`
`).replace(Db,"")}function Yg(n,o){return o=Fg(o),Fg(n)===o}function Ye(n,o,a,u,g,v){switch(a){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||So(n,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&So(n,""+u);break;case"className":Qr(n,"class",u);break;case"tabIndex":Qr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(n,a,u);break;case"style":Yh(n,u,v);break;case"data":if(o!=="object"){Qr(n,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Zr(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(o!=="input"&&Ye(n,o,"name",g.name,g,null),Ye(n,o,"formEncType",g.formEncType,g,null),Ye(n,o,"formMethod",g.formMethod,g,null),Ye(n,o,"formTarget",g.formTarget,g,null)):(Ye(n,o,"encType",g.encType,g,null),Ye(n,o,"method",g.method,g,null),Ye(n,o,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Zr(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=kn);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Zr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Me("beforetoggle",n),Me("toggle",n),jr(n,"popover",u);break;case"xlinkActuate":In(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":In(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":In(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":In(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":In(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":In(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":In(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":In(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":In(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":jr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=s_.get(a)||a,jr(n,a,u))}}function Zc(n,o,a,u,g,v){switch(a){case"style":Yh(n,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?So(n,u):(typeof u=="number"||typeof u=="bigint")&&So(n,""+u);break;case"onScroll":u!=null&&Me("scroll",n);break;case"onScrollEnd":u!=null&&Me("scrollend",n);break;case"onClick":u!=null&&(n.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),o=a.slice(2,g?a.length-7:void 0),v=n[kt]||null,v=v!=null?v[a]:null,typeof v=="function"&&n.removeEventListener(o,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(o,u,g);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):jr(n,a,u)}}}function St(n,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var E=a[v];if(E!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ye(n,o,v,E,a,null)}}g&&Ye(n,o,"srcSet",a.srcSet,a,null),u&&Ye(n,o,"src",a.src,a,null);return;case"input":Me("invalid",n);var C=v=E=g=null,M=null,O=null;for(u in a)if(a.hasOwnProperty(u)){var J=a[u];if(J!=null)switch(u){case"name":g=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":O=J;break;case"value":v=J;break;case"defaultValue":C=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,o));break;default:Ye(n,o,u,J,a,null)}}Oh(n,v,C,M,O,E,g,!1);return;case"select":Me("invalid",n),u=E=v=null;for(g in a)if(a.hasOwnProperty(g)&&(C=a[g],C!=null))switch(g){case"value":v=C;break;case"defaultValue":E=C;break;case"multiple":u=C;default:Ye(n,o,g,C,a,null)}o=v,a=E,n.multiple=!!u,o!=null?To(n,!!u,o,!1):a!=null&&To(n,!!u,a,!0);return;case"textarea":Me("invalid",n),v=g=u=null;for(E in a)if(a.hasOwnProperty(E)&&(C=a[E],C!=null))switch(E){case"value":u=C;break;case"defaultValue":g=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Ye(n,o,E,C,a,null)}qh(n,u,g,v);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(u=a[M],u!=null))switch(M){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ye(n,o,M,u,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(u=0;u<lr.length;u++)Me(lr[u],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ye(n,o,O,u,a,null)}return;default:if(hu(o)){for(J in a)a.hasOwnProperty(J)&&(u=a[J],u!==void 0&&Zc(n,o,J,u,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(u=a[C],u!=null&&Ye(n,o,C,u,a,null))}function Ib(n,o,a,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,E=null,C=null,M=null,O=null,J=null;for(Y in a){var Q=a[Y];if(a.hasOwnProperty(Y)&&Q!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":M=Q;default:u.hasOwnProperty(Y)||Ye(n,o,Y,null,u,Q)}}for(var H in u){var Y=u[H];if(Q=a[H],u.hasOwnProperty(H)&&(Y!=null||Q!=null))switch(H){case"type":v=Y;break;case"name":g=Y;break;case"checked":O=Y;break;case"defaultChecked":J=Y;break;case"value":E=Y;break;case"defaultValue":C=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,o));break;default:Y!==Q&&Ye(n,o,H,Y,u,Q)}}fu(n,E,C,M,O,J,v,g);return;case"select":Y=E=C=H=null;for(v in a)if(M=a[v],a.hasOwnProperty(v)&&M!=null)switch(v){case"value":break;case"multiple":Y=M;default:u.hasOwnProperty(v)||Ye(n,o,v,null,u,M)}for(g in u)if(v=u[g],M=a[g],u.hasOwnProperty(g)&&(v!=null||M!=null))switch(g){case"value":H=v;break;case"defaultValue":C=v;break;case"multiple":E=v;default:v!==M&&Ye(n,o,g,v,u,M)}o=C,a=E,u=Y,H!=null?To(n,!!a,H,!1):!!u!=!!a&&(o!=null?To(n,!!a,o,!0):To(n,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(C in a)if(g=a[C],a.hasOwnProperty(C)&&g!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ye(n,o,C,null,u,g)}for(E in u)if(g=u[E],v=a[E],u.hasOwnProperty(E)&&(g!=null||v!=null))switch(E){case"value":H=g;break;case"defaultValue":Y=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==v&&Ye(n,o,E,g,u,v)}Hh(n,H,Y);return;case"option":for(var ae in a)if(H=a[ae],a.hasOwnProperty(ae)&&H!=null&&!u.hasOwnProperty(ae))switch(ae){case"selected":n.selected=!1;break;default:Ye(n,o,ae,null,u,H)}for(M in u)if(H=u[M],Y=a[M],u.hasOwnProperty(M)&&H!==Y&&(H!=null||Y!=null))switch(M){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ye(n,o,M,H,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!u.hasOwnProperty(ge)&&Ye(n,o,ge,null,u,H);for(O in u)if(H=u[O],Y=a[O],u.hasOwnProperty(O)&&H!==Y&&(H!=null||Y!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,o));break;default:Ye(n,o,O,H,u,Y)}return;default:if(hu(o)){for(var Je in a)H=a[Je],a.hasOwnProperty(Je)&&H!==void 0&&!u.hasOwnProperty(Je)&&Zc(n,o,Je,void 0,u,H);for(J in u)H=u[J],Y=a[J],!u.hasOwnProperty(J)||H===Y||H===void 0&&Y===void 0||Zc(n,o,J,H,u,Y);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!u.hasOwnProperty(k)&&Ye(n,o,k,null,u,H);for(Q in u)H=u[Q],Y=a[Q],!u.hasOwnProperty(Q)||H===Y||H==null&&Y==null||Ye(n,o,Q,H,u,Y)}function Jg(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kb(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],v=g.transferSize,E=g.initiatorType,C=g.duration;if(v&&C&&Jg(E)){for(E=0,C=g.responseEnd,u+=1;u<a.length;u++){var M=a[u],O=M.startTime;if(O>C)break;var J=M.transferSize,Q=M.initiatorType;J&&Jg(Q)&&(M=M.responseEnd,E+=J*(M<C?1:(C-O)/(M-O)))}if(--u,o+=8*(v+E)/(g.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var ef=null,tf=null;function Xa(n){return n.nodeType===9?n:n.ownerDocument}function Kg(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function nf(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var of=null;function Ub(){var n=window.event;return n&&n.type==="popstate"?n===of?!1:(of=n,!0):(of=null,!1)}var $g=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,jg=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof jg<"u"?function(n){return jg.resolve(null).then(n).catch(Vb)}:$g;function Vb(n){setTimeout(function(){throw n})}function _i(n){return n==="head"}function Qg(n,o){var a=o,u=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(g),Wo(o);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")cr(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,cr(a);for(var v=a.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Ns]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}else a==="body"&&cr(n.ownerDocument.body);a=g}while(a);Wo(o)}function Wg(n,o){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function sf(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sf(a),uu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Gb(n,o,a,u){for(;n.nodeType===1;){var g=a;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ns])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=rn(n.nextSibling),n===null)break}return null}function zb(n,o,a){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=rn(n.nextSibling),n===null))return null;return n}function Zg(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=rn(n.nextSibling),n===null))return null;return n}function rf(n){return n.data==="$?"||n.data==="$~"}function af(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Bb(n,o){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||a.readyState!=="loading")o();else{var u=function(){o(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function rn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var lf=null;function ey(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(o===0)return rn(n.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}n=n.nextSibling}return null}function ty(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return n;o--}else a!=="/$"&&a!=="/&"||o++}n=n.previousSibling}return null}function ny(n,o,a){switch(o=Xa(a),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function cr(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);uu(n)}var an=new Map,iy=new Set;function $a(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var $n=W.d;W.d={f:Ob,r:Hb,D:qb,C:Fb,L:Yb,m:Jb,X:Xb,S:Kb,M:$b};function Ob(){var n=$n.f(),o=Ba();return n||o}function Hb(n){var o=yo(n);o!==null&&o.tag===5&&o.type==="form"?Tm(o):$n.r(n)}var $o=typeof document>"u"?null:document;function oy(n,o,a){var u=$o;if(u&&typeof o=="string"&&o){var g=Wt(o);g='link[rel="'+n+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),iy.has(g)||(iy.add(g),n={rel:n,crossOrigin:a,href:o},u.querySelector(g)===null&&(o=u.createElement("link"),St(o,"link",n),ht(o),u.head.appendChild(o)))}}function qb(n){$n.D(n),oy("dns-prefetch",n,null)}function Fb(n,o){$n.C(n,o),oy("preconnect",n,o)}function Yb(n,o,a){$n.L(n,o,a);var u=$o;if(u&&n&&o){var g='link[rel="preload"][as="'+Wt(o)+'"]';o==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+Wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+Wt(a.imageSizes)+'"]')):g+='[href="'+Wt(n)+'"]';var v=g;switch(o){case"style":v=jo(n);break;case"script":v=Qo(n)}an.has(v)||(n=T({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:n,as:o},a),an.set(v,n),u.querySelector(g)!==null||o==="style"&&u.querySelector(fr(v))||o==="script"&&u.querySelector(dr(v))||(o=u.createElement("link"),St(o,"link",n),ht(o),u.head.appendChild(o)))}}function Jb(n,o){$n.m(n,o);var a=$o;if(a&&n){var u=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Wt(u)+'"][href="'+Wt(n)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Qo(n)}if(!an.has(v)&&(n=T({rel:"modulepreload",href:n},o),an.set(v,n),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dr(v)))return}u=a.createElement("link"),St(u,"link",n),ht(u),a.head.appendChild(u)}}}function Kb(n,o,a){$n.S(n,o,a);var u=$o;if(u&&n){var g=vo(u).hoistableStyles,v=jo(n);o=o||"default";var E=g.get(v);if(!E){var C={loading:0,preload:null};if(E=u.querySelector(fr(v)))C.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":o},a),(a=an.get(v))&&uf(n,a);var M=E=u.createElement("link");ht(M),St(M,"link",n),M._p=new Promise(function(O,J){M.onload=O,M.onerror=J}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,ja(E,o,u)}E={type:"stylesheet",instance:E,count:1,state:C},g.set(v,E)}}}function Xb(n,o){$n.X(n,o);var a=$o;if(a&&n){var u=vo(a).hoistableScripts,g=Qo(n),v=u.get(g);v||(v=a.querySelector(dr(g)),v||(n=T({src:n,async:!0},o),(o=an.get(g))&&cf(n,o),v=a.createElement("script"),ht(v),St(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function $b(n,o){$n.M(n,o);var a=$o;if(a&&n){var u=vo(a).hoistableScripts,g=Qo(n),v=u.get(g);v||(v=a.querySelector(dr(g)),v||(n=T({src:n,async:!0,type:"module"},o),(o=an.get(g))&&cf(n,o),v=a.createElement("script"),ht(v),St(v,"link",n),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function sy(n,o,a,u){var g=(g=he.current)?$a(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=jo(a.href),a=vo(g).hoistableStyles,u=a.get(o),u||(u={type:"style",instance:null,count:0,state:null},a.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=jo(a.href);var v=vo(g).hoistableStyles,E=v.get(n);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=g.querySelector(fr(n)))&&!v._p&&(E.instance=v,E.state.loading=5),an.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},an.set(n,a),v||jb(g,n,a,E.state))),o&&u===null)throw Error(s(528,""));return E}if(o&&u!==null)throw Error(s(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qo(a),a=vo(g).hoistableScripts,u=a.get(o),u||(u={type:"script",instance:null,count:0,state:null},a.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function jo(n){return'href="'+Wt(n)+'"'}function fr(n){return'link[rel="stylesheet"]['+n+"]"}function ry(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function jb(n,o,a,u){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=n.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),St(o,"link",a),ht(o),n.head.appendChild(o))}function Qo(n){return'[src="'+Wt(n)+'"]'}function dr(n){return"script[async]"+n}function ay(n,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var u=n.querySelector('style[data-href~="'+Wt(a.href)+'"]');if(u)return o.instance=u,ht(u),u;var g=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ht(u),St(u,"style",g),ja(u,a.precedence,n),o.instance=u;case"stylesheet":g=jo(a.href);var v=n.querySelector(fr(g));if(v)return o.state.loading|=4,o.instance=v,ht(v),v;u=ry(a),(g=an.get(g))&&uf(u,g),v=(n.ownerDocument||n).createElement("link"),ht(v);var E=v;return E._p=new Promise(function(C,M){E.onload=C,E.onerror=M}),St(v,"link",u),o.state.loading|=4,ja(v,a.precedence,n),o.instance=v;case"script":return v=Qo(a.src),(g=n.querySelector(dr(v)))?(o.instance=g,ht(g),g):(u=a,(g=an.get(v))&&(u=T({},a),cf(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),ht(g),St(g,"link",u),n.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,ja(u,a.precedence,n));return o.instance}function ja(n,o,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,E=0;E<u.length;E++){var C=u[E];if(C.dataset.precedence===o)v=C;else if(v!==g)break}v?v.parentNode.insertBefore(n,v.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(n,o.firstChild))}function uf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function cf(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var Qa=null;function ly(n,o,a){if(Qa===null){var u=new Map,g=Qa=new Map;g.set(a,u)}else g=Qa,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),g=0;g<a.length;g++){var v=a[g];if(!(v[Ns]||v[yt]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(o)||"";E=n+E;var C=u.get(E);C?C.push(v):u.set(E,[v])}}return u}function uy(n,o,a){n=n.ownerDocument||n,n.head.insertBefore(a,o==="title"?n.querySelector("head > title"):null)}function Qb(n,o,a){if(a===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function cy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Wb(n,o,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=jo(u.href),v=o.querySelector(fr(g));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=Wa.bind(n),o.then(n,n)),a.state.loading|=4,a.instance=v,ht(v);return}v=o.ownerDocument||o,u=ry(u),(g=an.get(g))&&uf(u,g),v=v.createElement("link"),ht(v);var E=v;E._p=new Promise(function(C,M){E.onload=C,E.onerror=M}),St(v,"link",u),a.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Wa.bind(n),o.addEventListener("load",a),o.addEventListener("error",a))}}var ff=0;function Zb(n,o){return n.stylesheets&&n.count===0&&el(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&el(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+o);0<n.imgBytes&&ff===0&&(ff=62500*kb());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&el(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>ff?50:800)+o);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Wa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)el(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Za=null;function el(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Za=new Map,o.forEach(eC,n),Za=null,Wa.call(n))}function eC(n,o){if(!(o.state.loading&4)){var a=Za.get(n);if(a)var u=a.get(null);else{a=new Map,Za.set(n,a);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var E=g[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}g=o.instance,E=g.getAttribute("data-precedence"),v=a.get(E)||u,v===u&&a.set(null,g),a.set(E,g),this.count++,u=Wa.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),o.state.loading|=4}}var hr={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function tC(n,o,a,u,g,v,E,C,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=su(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=su(0),this.hiddenUpdates=su(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function fy(n,o,a,u,g,v,E,C,M,O,J,Q){return n=new tC(n,o,a,E,M,O,J,Q,C),o=1,v===!0&&(o|=24),v=Ft(3,null,null,o),n.current=v,v.stateNode=n,o=qu(),o.refCount++,n.pooledCache=o,o.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:o},Ku(v),n}function dy(n){return n?(n=No,n):No}function hy(n,o,a,u,g,v){g=dy(g),u.context===null?u.context=g:u.pendingContext=g,u=di(o),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=hi(n,u,o),a!==null&&(zt(a,n,o),Ys(a,n,o))}function py(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<o?a:o}}function df(n,o){py(n,o),(n=n.alternate)&&py(n,o)}function my(n){if(n.tag===13||n.tag===31){var o=Fi(n,67108864);o!==null&&zt(o,n,67108864),df(n,67108864)}}function gy(n){if(n.tag===13||n.tag===31){var o=$t();o=ru(o);var a=Fi(n,o);a!==null&&zt(a,n,o),df(n,o)}}var tl=!0;function nC(n,o,a,u){var g=F.T;F.T=null;var v=W.p;try{W.p=2,hf(n,o,a,u)}finally{W.p=v,F.T=g}}function iC(n,o,a,u){var g=F.T;F.T=null;var v=W.p;try{W.p=8,hf(n,o,a,u)}finally{W.p=v,F.T=g}}function hf(n,o,a,u){if(tl){var g=pf(u);if(g===null)Wc(n,o,u,nl,a),vy(n,u);else if(sC(g,n,o,a,u))u.stopPropagation();else if(vy(n,u),o&4&&-1<oC.indexOf(n)){for(;g!==null;){var v=yo(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=zi(v.pendingLanes);if(E!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var M=1<<31-Ht(E);C.entanglements[1]|=M,E&=~M}Nn(v),(Be&6)===0&&(Ga=_t()+500,ar(0))}}break;case 31:case 13:C=Fi(v,2),C!==null&&zt(C,v,2),Ba(),df(v,2)}if(v=pf(u),v===null&&Wc(n,o,u,nl,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else Wc(n,o,u,null,a)}}function pf(n){return n=mu(n),mf(n)}var nl=null;function mf(n){if(nl=null,n=go(n),n!==null){var o=l(n);if(o===null)n=null;else{var a=o.tag;if(a===13){if(n=c(o),n!==null)return n;n=null}else if(a===31){if(n=d(o),n!==null)return n;n=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return nl=n,null}function yy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case Z:return 2;case te:return 8;case ve:case qe:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var gf=!1,bi=null,Ci=null,Ai=null,pr=new Map,mr=new Map,wi=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vy(n,o){switch(n){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":pr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(o.pointerId)}}function gr(n,o,a,u,g,v){return n===null||n.nativeEvent!==v?(n={blockedOn:o,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},o!==null&&(o=yo(o),o!==null&&my(o)),n):(n.eventSystemFlags|=u,o=n.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),n)}function sC(n,o,a,u,g){switch(o){case"focusin":return bi=gr(bi,n,o,a,u,g),!0;case"dragenter":return Ci=gr(Ci,n,o,a,u,g),!0;case"mouseover":return Ai=gr(Ai,n,o,a,u,g),!0;case"pointerover":var v=g.pointerId;return pr.set(v,gr(pr.get(v)||null,n,o,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,mr.set(v,gr(mr.get(v)||null,n,o,a,u,g)),!0}return!1}function xy(n){var o=go(n.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){n.blockedOn=o,kh(n.priority,function(){gy(a)});return}}else if(o===31){if(o=d(a),o!==null){n.blockedOn=o,kh(n.priority,function(){gy(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function il(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var a=pf(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);pu=u,a.target.dispatchEvent(u),pu=null}else return o=yo(a),o!==null&&my(o),n.blockedOn=a,!1;o.shift()}return!0}function Ty(n,o,a){il(n)&&a.delete(o)}function rC(){gf=!1,bi!==null&&il(bi)&&(bi=null),Ci!==null&&il(Ci)&&(Ci=null),Ai!==null&&il(Ai)&&(Ai=null),pr.forEach(Ty),mr.forEach(Ty)}function ol(n,o){n.blockedOn===o&&(n.blockedOn=null,gf||(gf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rC)))}var sl=null;function Sy(n){sl!==n&&(sl=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){sl===n&&(sl=null);for(var o=0;o<n.length;o+=3){var a=n[o],u=n[o+1],g=n[o+2];if(typeof u!="function"){if(mf(u||a)===null)continue;break}var v=yo(a);v!==null&&(n.splice(o,3),o-=3,hc(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function Wo(n){function o(M){return ol(M,n)}bi!==null&&ol(bi,n),Ci!==null&&ol(Ci,n),Ai!==null&&ol(Ai,n),pr.forEach(o),mr.forEach(o);for(var a=0;a<wi.length;a++){var u=wi[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<wi.length&&(a=wi[0],a.blockedOn===null);)xy(a),a.blockedOn===null&&wi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],E=g[kt]||null;if(typeof v=="function")E||Sy(a);else if(E){var C=null;if(v&&v.hasAttribute("formAction")){if(g=v,E=v[kt]||null)C=E.formAction;else if(mf(g)!==null)continue}else C=E.action;typeof C=="function"?a[u+1]=C:(a.splice(u,3),u-=3),Sy(a)}}}function Ey(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function yf(n){this._internalRoot=n}rl.prototype.render=yf.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var a=o.current,u=$t();hy(a,u,n,o,null,null)},rl.prototype.unmount=yf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;hy(n.current,2,null,n,null,null),Ba(),o[mo]=null}};function rl(n){this._internalRoot=n}rl.prototype.unstable_scheduleHydration=function(n){if(n){var o=Ih();n={blockedOn:null,target:n,priority:o};for(var a=0;a<wi.length&&o!==0&&o<wi[a].priority;a++);wi.splice(a,0,n),a===0&&xy(n)}};var _y=t.version;if(_y!=="19.2.4")throw Error(s(527,_y,"19.2.4"));W.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=h(o),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var aC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Cs=al.inject(aC),Ot=al}catch{}}return vr.createRoot=function(n,o){if(!r(n))throw Error(s(299));var a=!1,u="",g=Rm,v=Dm,E=Im;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=fy(n,1,!1,null,null,a,u,null,g,v,E,Ey),n[mo]=o.current,Qc(n),new yf(o)},vr.hydrateRoot=function(n,o,a){if(!r(n))throw Error(s(299));var u=!1,g="",v=Rm,E=Dm,C=Im,M=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),o=fy(n,1,!0,o,a??null,u,g,M,v,E,C,Ey),o.context=dy(null),a=o.current,u=$t(),u=ru(u),g=di(u),g.callback=null,hi(a,g,u),a=u,o.current.lanes=a,ws(o,a),Nn(o),n[mo]=o.current,Qc(n),new rl(o)},vr.version="19.2.4",vr}var ky;function vC(){if(ky)return Tf.exports;ky=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tf.exports=yC(),Tf.exports}var xC=vC();/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),Uy=e=>{const t=SC(e);return t.charAt(0).toUpperCase()+t.slice(1)},Jx=(...e)=>e.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),EC=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=K.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:c,...d},m)=>K.createElement("svg",{ref:m,..._C,width:t,height:t,stroke:e,strokeWidth:s?Number(i)*24/Number(t):i,className:Jx("lucide",r),...!l&&!EC(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,y])=>K.createElement(h,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(e,t)=>{const i=K.forwardRef(({className:s,...r},l)=>K.createElement(bC,{ref:l,iconNode:t,className:Jx(`lucide-${TC(Uy(e))}`,`lucide-${e}`,s),...r}));return i.displayName=Uy(e),i};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],AC=Pe("arrow-left",CC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Py=Pe("bell",wC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MC=Pe("calendar",NC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DC=Pe("chart-column",RC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kC=Pe("circle-check-big",IC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],PC=Pe("circle-x",UC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kx=Pe("clock",LC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],GC=Pe("database",VC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],BC=Pe("dices",zC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xx=Pe("download",OC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jf=Pe("external-link",HC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ly=Pe("eye-off",qC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vy=Pe("eye",FC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],JC=Pe("file-json",YC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],fo=Pe("film",KC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$C=Pe("info",XC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],QC=Pe("key",jC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ls=Pe("loader-circle",WC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M5 12h14",key:"1ays0h"}]],$x=Pe("minus",ZC);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],tA=Pe("monitor",eA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yl=Pe("play",nA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hs=Pe("plus",iA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],sA=Pe("refresh-ccw",oA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gd=Pe("search",rA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lA=Pe("settings",aA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bf=Pe("sparkles",uA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],yn=Pe("star",cA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dA=Pe("trash-2",fA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pA=Pe("trending-up",hA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Jl=Pe("tv",mA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],jx=Pe("upload",gA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vA=Pe("user",yA);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gr=Pe("x",xA);function Qx(e){var t,i,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(i=Qx(e[t]))&&(s&&(s+=" "),s+=i)}else for(i in e)e[i]&&(s&&(s+=" "),s+=i);return s}function TA(){for(var e,t,i=0,s="",r=arguments.length;i<r;i++)(e=arguments[i])&&(t=Qx(e))&&(s&&(s+=" "),s+=t);return s}const SA=(e,t)=>{const i=new Array(e.length+t.length);for(let s=0;s<e.length;s++)i[s]=e[s];for(let s=0;s<t.length;s++)i[e.length+s]=t[s];return i},EA=(e,t)=>({classGroupId:e,validator:t}),Wx=(e=new Map,t=null,i)=>({nextPart:e,validators:t,classGroupId:i}),Nl="-",Gy=[],_A="arbitrary..",bA=e=>{const t=AA(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return CA(c);const d=c.split(Nl),m=d[0]===""&&d.length>1?1:0;return Zx(d,m,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=s[c],h=i[c];return m?h?SA(h,m):m:h||Gy}return i[c]||Gy}}},Zx=(e,t,i)=>{if(e.length-t===0)return i.classGroupId;const r=e[t],l=i.nextPart.get(r);if(l){const h=Zx(e,t+1,l);if(h)return h}const c=i.validators;if(c===null)return;const d=t===0?e.join(Nl):e.slice(t).join(Nl),m=c.length;for(let h=0;h<m;h++){const y=c[h];if(y.validator(d))return y.classGroupId}},CA=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),i=t.indexOf(":"),s=t.slice(0,i);return s?_A+s:void 0})(),AA=e=>{const{theme:t,classGroups:i}=e;return wA(i,t)},wA=(e,t)=>{const i=Wx();for(const s in e){const r=e[s];zd(r,i,s,t)}return i},zd=(e,t,i,s)=>{const r=e.length;for(let l=0;l<r;l++){const c=e[l];NA(c,t,i,s)}},NA=(e,t,i,s)=>{if(typeof e=="string"){MA(e,t,i);return}if(typeof e=="function"){RA(e,t,i,s);return}DA(e,t,i,s)},MA=(e,t,i)=>{const s=e===""?t:eT(t,e);s.classGroupId=i},RA=(e,t,i,s)=>{if(IA(e)){zd(e(s),t,i,s);return}t.validators===null&&(t.validators=[]),t.validators.push(EA(i,e))},DA=(e,t,i,s)=>{const r=Object.entries(e),l=r.length;for(let c=0;c<l;c++){const[d,m]=r[c];zd(m,eT(t,d),i,s)}},eT=(e,t)=>{let i=e;const s=t.split(Nl),r=s.length;for(let l=0;l<r;l++){const c=s[l];let d=i.nextPart.get(c);d||(d=Wx(),i.nextPart.set(c,d)),i=d}return i},IA=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,kA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,i=Object.create(null),s=Object.create(null);const r=(l,c)=>{i[l]=c,t++,t>e&&(t=0,s=i,i=Object.create(null))};return{get(l){let c=i[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return r(l,c),c},set(l,c){l in i?i[l]=c:r(l,c)}}},Qf="!",zy=":",UA=[],By=(e,t,i,s,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:i,maybePostfixModifierPosition:s,isExternal:r}),PA=e=>{const{prefix:t,experimentalParseClassName:i}=e;let s=r=>{const l=[];let c=0,d=0,m=0,h;const y=r.length;for(let A=0;A<y;A++){const w=r[A];if(c===0&&d===0){if(w===zy){l.push(r.slice(m,A)),m=A+1;continue}if(w==="/"){h=A;continue}}w==="["?c++:w==="]"?c--:w==="("?d++:w===")"&&d--}const T=l.length===0?r:r.slice(m);let x=T,_=!1;T.endsWith(Qf)?(x=T.slice(0,-1),_=!0):T.startsWith(Qf)&&(x=T.slice(1),_=!0);const b=h&&h>m?h-m:void 0;return By(l,_,x,b)};if(t){const r=t+zy,l=s;s=c=>c.startsWith(r)?l(c.slice(r.length)):By(UA,!1,c,void 0,!0)}if(i){const r=s;s=l=>i({className:l,parseClassName:r})}return s},LA=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((i,s)=>{t.set(i,1e6+s)}),i=>{const s=[];let r=[];for(let l=0;l<i.length;l++){const c=i[l],d=c[0]==="[",m=t.has(c);d||m?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(c)):r.push(c)}return r.length>0&&(r.sort(),s.push(...r)),s}},VA=e=>({cache:kA(e.cacheSize),parseClassName:PA(e),sortModifiers:LA(e),...bA(e)}),GA=/\s+/,zA=(e,t)=>{const{parseClassName:i,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:l}=t,c=[],d=e.trim().split(GA);let m="";for(let h=d.length-1;h>=0;h-=1){const y=d[h],{isExternal:T,modifiers:x,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:A}=i(y);if(T){m=y+(m.length>0?" "+m:m);continue}let w=!!A,N=s(w?b.substring(0,A):b);if(!N){if(!w){m=y+(m.length>0?" "+m:m);continue}if(N=s(b),!N){m=y+(m.length>0?" "+m:m);continue}w=!1}const P=x.length===0?"":x.length===1?x[0]:l(x).join(":"),I=_?P+Qf:P,z=I+N;if(c.indexOf(z)>-1)continue;c.push(z);const q=r(N,w);for(let L=0;L<q.length;++L){const U=q[L];c.push(I+U)}m=y+(m.length>0?" "+m:m)}return m},BA=(...e)=>{let t=0,i,s,r="";for(;t<e.length;)(i=e[t++])&&(s=tT(i))&&(r&&(r+=" "),r+=s);return r},tT=e=>{if(typeof e=="string")return e;let t,i="";for(let s=0;s<e.length;s++)e[s]&&(t=tT(e[s]))&&(i&&(i+=" "),i+=t);return i},OA=(e,...t)=>{let i,s,r,l;const c=m=>{const h=t.reduce((y,T)=>T(y),e());return i=VA(h),s=i.cache.get,r=i.cache.set,l=d,d(m)},d=m=>{const h=s(m);if(h)return h;const y=zA(m,i);return r(m,y),y};return l=c,(...m)=>l(BA(...m))},HA=[],ft=e=>{const t=i=>i[e]||HA;return t.isThemeGetter=!0,t},nT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,iT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qA=/^\d+(?:\.\d+)?\/\d+(?:\.\d+)?$/,FA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mi=e=>qA.test(e),Ce=e=>!!e&&!Number.isNaN(Number(e)),Ri=e=>!!e&&Number.isInteger(Number(e)),Cf=e=>e.endsWith("%")&&Ce(e.slice(0,-1)),jn=e=>FA.test(e),oT=()=>!0,$A=e=>YA.test(e)&&!JA.test(e),Bd=()=>!1,jA=e=>KA.test(e),QA=e=>XA.test(e),WA=e=>!le(e)&&!ce(e),ZA=e=>Li(e,aT,Bd),le=e=>nT.test(e),io=e=>Li(e,lT,$A),Oy=e=>Li(e,aw,Ce),ew=e=>Li(e,cT,oT),tw=e=>Li(e,uT,Bd),Hy=e=>Li(e,sT,Bd),nw=e=>Li(e,rT,QA),ll=e=>Li(e,fT,jA),ce=e=>iT.test(e),xr=e=>ho(e,lT),iw=e=>ho(e,uT),qy=e=>ho(e,sT),ow=e=>ho(e,aT),sw=e=>ho(e,rT),ul=e=>ho(e,fT,!0),rw=e=>ho(e,cT,!0),Li=(e,t,i)=>{const s=nT.exec(e);return s?s[1]?t(s[1]):i(s[2]):!1},ho=(e,t,i=!1)=>{const s=iT.exec(e);return s?s[1]?t(s[1]):i:!1},sT=e=>e==="position"||e==="percentage",rT=e=>e==="image"||e==="url",aT=e=>e==="length"||e==="size"||e==="bg-size",lT=e=>e==="length",aw=e=>e==="number",uT=e=>e==="family-name",cT=e=>e==="number"||e==="weight",fT=e=>e==="shadow",lw=()=>{const e=ft("color"),t=ft("font"),i=ft("text"),s=ft("font-weight"),r=ft("tracking"),l=ft("leading"),c=ft("breakpoint"),d=ft("container"),m=ft("spacing"),h=ft("radius"),y=ft("shadow"),T=ft("inset-shadow"),x=ft("text-shadow"),_=ft("drop-shadow"),b=ft("blur"),A=ft("perspective"),w=ft("aspect"),N=ft("ease"),P=ft("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...z(),ce,le],L=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],B=()=>[ce,le,m],V=()=>[Mi,"full","auto",...B()],se=()=>[Ri,"none","subgrid",ce,le],ye=()=>["auto",{span:["full",Ri,ce,le]},Ri,ce,le],_e=()=>[Ri,"auto",ce,le],Ue=()=>["auto","min","max","fr",ce,le],Ie=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ze=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...B()],W=()=>[Mi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],ie=()=>[Mi,"screen","full","dvw","lvw","svw","min","max","fit",...B()],me=()=>[Mi,"screen","full","lh","dvh","lvh","svh","min","max","fit",...B()],ee=()=>[e,ce,le],D=()=>[...z(),qy,Hy,{position:[ce,le]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ne=()=>["auto","cover","contain",ow,ZA,{size:[ce,le]}],re=()=>[Cf,xr,io],fe=()=>["","none","full",h,ce,le],he=()=>["",Ce,xr,io],Ae=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Ce,Cf,qy,Hy],_n=()=>["","none",b,ce,le],fn=()=>["none",Ce,ce,le],bn=()=>["none",Ce,ce,le],ni=()=>[Ce,ce,le],It=()=>[Mi,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[jn],breakpoint:[jn],color:[oT],container:[jn],"drop-shadow":[jn],ease:["in","out","in-out"],font:[WA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[jn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[jn],shadow:[jn],spacing:["px",Ce],text:[jn],"text-shadow":[jn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mi,le,ce,w]}],container:["container"],columns:[{columns:[Ce,le,ce,d]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{"inset-s":V(),start:V()}],end:[{"inset-e":V(),end:V()}],"inset-bs":[{"inset-bs":V()}],"inset-be":[{"inset-be":V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[Ri,"auto",ce,le]}],basis:[{basis:[Mi,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,Mi,"auto","initial","none",le]}],grow:[{grow:["",Ce,ce,le]}],shrink:[{shrink:["",Ce,ce,le]}],order:[{order:[Ri,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":se()}],"col-start-end":[{col:ye()}],"col-start":[{"col-start":_e()}],"col-end":[{"col-end":_e()}],"grid-rows":[{"grid-rows":se()}],"row-start-end":[{row:ye()}],"row-start":[{"row-start":_e()}],"row-end":[{"row-end":_e()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ue()}],"auto-rows":[{"auto-rows":Ue()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Ie(),"normal"]}],"justify-items":[{"justify-items":[...ze(),"normal"]}],"justify-self":[{"justify-self":["auto",...ze()]}],"align-content":[{content:["normal",...Ie()]}],"align-items":[{items:[...ze(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ze(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ie()}],"place-items":[{"place-items":[...ze(),"baseline"]}],"place-self":[{"place-self":["auto",...ze()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pbs:[{pbs:B()}],pbe:[{pbe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mbs:[{mbs:F()}],mbe:[{mbe:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],"inline-size":[{inline:["auto",...ie()]}],"min-inline-size":[{"min-inline":["auto",...ie()]}],"max-inline-size":[{"max-inline":["none",...ie()]}],"block-size":[{block:["auto",...me()]}],"min-block-size":[{"min-block":["auto",...me()]}],"max-block-size":[{"max-block":["none",...me()]}],w:[{w:[d,"screen",...W()]}],"min-w":[{"min-w":[d,"screen","none",...W()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",i,xr,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,rw,ew]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Cf,le]}],"font-family":[{font:[iw,tw,t]}],"font-features":[{"font-features":[le]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ce,le]}],"line-clamp":[{"line-clamp":[Ce,"none",ce,Oy]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ee()}],"text-color":[{text:ee()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",ce,io]}],"text-decoration-color":[{decoration:ee()}],"underline-offset":[{"underline-offset":[Ce,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:ne()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ri,ce,le],radial:["",ce,le],conic:[Ri,ce,le]},sw,nw]}],"bg-color":[{bg:ee()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:ee()}],"gradient-via":[{via:ee()}],"gradient-to":[{to:ee()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-bs":[{"border-bs":he()}],"border-w-be":[{"border-be":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:ee()}],"border-color-x":[{"border-x":ee()}],"border-color-y":[{"border-y":ee()}],"border-color-s":[{"border-s":ee()}],"border-color-e":[{"border-e":ee()}],"border-color-bs":[{"border-bs":ee()}],"border-color-be":[{"border-be":ee()}],"border-color-t":[{"border-t":ee()}],"border-color-r":[{"border-r":ee()}],"border-color-b":[{"border-b":ee()}],"border-color-l":[{"border-l":ee()}],"divide-color":[{divide:ee()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,ce,le]}],"outline-w":[{outline:["",Ce,xr,io]}],"outline-color":[{outline:ee()}],shadow:[{shadow:["","none",y,ul,ll]}],"shadow-color":[{shadow:ee()}],"inset-shadow":[{"inset-shadow":["none",T,ul,ll]}],"inset-shadow-color":[{"inset-shadow":ee()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ee()}],"ring-offset-w":[{"ring-offset":[Ce,io]}],"ring-offset-color":[{"ring-offset":ee()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":ee()}],"text-shadow":[{"text-shadow":["none",x,ul,ll]}],"text-shadow-color":[{"text-shadow":ee()}],opacity:[{opacity:[Ce,ce,le]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":ee()}],"mask-image-linear-to-color":[{"mask-linear-to":ee()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":ee()}],"mask-image-t-to-color":[{"mask-t-to":ee()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":ee()}],"mask-image-r-to-color":[{"mask-r-to":ee()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":ee()}],"mask-image-b-to-color":[{"mask-b-to":ee()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":ee()}],"mask-image-l-to-color":[{"mask-l-to":ee()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":ee()}],"mask-image-x-to-color":[{"mask-x-to":ee()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":ee()}],"mask-image-y-to-color":[{"mask-y-to":ee()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":ee()}],"mask-image-radial-to-color":[{"mask-radial-to":ee()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":ee()}],"mask-image-conic-to-color":[{"mask-conic-to":ee()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:ne()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:_n()}],brightness:[{brightness:[Ce,ce,le]}],contrast:[{contrast:[Ce,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",_,ul,ll]}],"drop-shadow-color":[{"drop-shadow":ee()}],grayscale:[{grayscale:["",Ce,ce,le]}],"hue-rotate":[{"hue-rotate":[Ce,ce,le]}],invert:[{invert:["",Ce,ce,le]}],saturate:[{saturate:[Ce,ce,le]}],sepia:[{sepia:["",Ce,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":_n()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",Ce,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",ce,le]}],ease:[{ease:["linear","initial",N,ce,le]}],delay:[{delay:[Ce,ce,le]}],animate:[{animate:["none",P,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ce,le]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:fn()}],"rotate-x":[{"rotate-x":fn()}],"rotate-y":[{"rotate-y":fn()}],"rotate-z":[{"rotate-z":fn()}],scale:[{scale:bn()}],"scale-x":[{"scale-x":bn()}],"scale-y":[{"scale-y":bn()}],"scale-z":[{"scale-z":bn()}],"scale-3d":["scale-3d"],skew:[{skew:ni()}],"skew-x":[{"skew-x":ni()}],"skew-y":[{"skew-y":ni()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:It()}],"translate-x":[{"translate-x":It()}],"translate-y":[{"translate-y":It()}],"translate-z":[{"translate-z":It()}],"translate-none":["translate-none"],accent:[{accent:ee()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ee()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mbs":[{"scroll-mbs":B()}],"scroll-mbe":[{"scroll-mbe":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pbs":[{"scroll-pbs":B()}],"scroll-pbe":[{"scroll-pbe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...ee()]}],"stroke-w":[{stroke:[Ce,xr,io,Oy]}],stroke:[{stroke:["none",...ee()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","inset-bs","inset-be","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pbs","pbe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mbs","mbe","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-bs","border-w-be","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-bs","border-color-be","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mbs","scroll-mbe","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pbs","scroll-pbe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uw=OA(lw);function Nt(...e){return uw(TA(e))}function Ml(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"")}function Qn(){return crypto.randomUUID()}function cw(e){const t={};e.forEach(s=>{s.rating.overall!==null&&s.genres.forEach(r=>{t[r]||(t[r]={total:0,count:0}),t[r].total+=s.rating.overall,t[r].count+=1})});const i={};return Object.entries(t).forEach(([s,r])=>{i[s]=r.total/r.count}),i}function Af(e,t){var d;if(e.status==="watched")return 0;let i=50;const s=cw(t);e.genres.forEach(m=>{const h=s[m];h&&(i+=h*5)}),e.tmdbPopularity>100?i+=10:e.tmdbPopularity>50&&(i+=5);const r=new Date;r.setMonth(r.getMonth()-6),new Date(e.dateAdded)<r&&(i+=8);const c=(d=Object.entries(s).sort((m,h)=>h[1]-m[1])[0])==null?void 0:d[0];return c&&!e.genres.includes(c)&&(i+=5),Math.min(100,i)}function fw(e,t){const i=new Date().toISOString().split("T")[0],s=e.lastWatchedDate;if(!t.some(m=>{var h;return((h=m.dateWatched)==null?void 0:h.split("T")[0])===i}))return e;const l={...e};if(s===i)return e;const c=new Date;c.setDate(c.getDate()-1);const d=c.toISOString().split("T")[0];return s===d?l.currentStreak+=1:l.currentStreak=1,l.currentStreak>l.bestStreak&&(l.bestStreak=l.currentStreak),l.lastWatchedDate=i,l}function dw(e,t,i){const s=Ml(e);return i.some(r=>Ml(r.title)===s&&r.year===t)}const Od=K.createContext({});function Hd(e){const t=K.useRef(null);return t.current===null&&(t.current=e()),t.current}const dT=typeof window<"u",hT=dT?K.useLayoutEffect:K.useEffect,Kl=K.createContext(null);function qd(e,t){e.indexOf(t)===-1&&e.push(t)}function Rl(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Dn=(e,t,i)=>i>t?t:i<e?e:i;let Fd=()=>{};const Wn={},pT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function mT(e){return typeof e=="object"&&e!==null}const gT=e=>/^0[^.\s]+$/u.test(e);function yT(e){let t;return()=>(t===void 0&&(t=e()),t)}const un=e=>e,hw=(e,t)=>i=>t(e(i)),zr=(...e)=>e.reduce(hw),Rr=(e,t,i)=>{const s=t-e;return s===0?1:(i-e)/s};class Yd{constructor(){this.subscriptions=[]}add(t){return qd(this.subscriptions,t),()=>Rl(this.subscriptions,t)}notify(t,i,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,i,s);else for(let l=0;l<r;l++){const c=this.subscriptions[l];c&&c(t,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vn=e=>e*1e3,ln=e=>e/1e3;function vT(e,t){return t?e*(1e3/t):0}const xT=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,pw=1e-7,mw=12;function gw(e,t,i,s,r){let l,c,d=0;do c=t+(i-t)/2,l=xT(c,s,r)-e,l>0?i=c:t=c;while(Math.abs(l)>pw&&++d<mw);return c}function Br(e,t,i,s){if(e===t&&i===s)return un;const r=l=>gw(l,0,1,e,i);return l=>l===0||l===1?l:xT(r(l),t,s)}const TT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ST=e=>t=>1-e(1-t),ET=Br(.33,1.53,.69,.99),Jd=ST(ET),_T=TT(Jd),bT=e=>(e*=2)<1?.5*Jd(e):.5*(2-Math.pow(2,-10*(e-1))),Kd=e=>1-Math.sin(Math.acos(e)),CT=ST(Kd),AT=TT(Kd),yw=Br(.42,0,1,1),vw=Br(0,0,.58,1),wT=Br(.42,0,.58,1),xw=e=>Array.isArray(e)&&typeof e[0]!="number",NT=e=>Array.isArray(e)&&typeof e[0]=="number",Tw={linear:un,easeIn:yw,easeInOut:wT,easeOut:vw,circIn:Kd,circInOut:AT,circOut:CT,backIn:Jd,backInOut:_T,backOut:ET,anticipate:bT},Sw=e=>typeof e=="string",Fy=e=>{if(NT(e)){Fd(e.length===4);const[t,i,s,r]=e;return Br(t,i,s,r)}else if(Sw(e))return Tw[e];return e},cl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ew(e,t){let i=new Set,s=new Set,r=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(y){c.has(y)&&(h.schedule(y),e()),y(d)}const h={schedule:(y,T=!1,x=!1)=>{const b=x&&r?i:s;return T&&c.add(y),b.has(y)||b.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(d=y,r){l=!0;return}r=!0,[i,s]=[s,i],i.forEach(m),i.clear(),r=!1,l&&(l=!1,h.process(y))}};return h}const _w=40;function MT(e,t){let i=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},l=()=>i=!0,c=cl.reduce((I,z)=>(I[z]=Ew(l),I),{}),{setup:d,read:m,resolveKeyframes:h,preUpdate:y,update:T,preRender:x,render:_,postRender:b}=c,A=()=>{const I=Wn.useManualTiming?r.timestamp:performance.now();i=!1,Wn.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(I-r.timestamp,_w),1)),r.timestamp=I,r.isProcessing=!0,d.process(r),m.process(r),h.process(r),y.process(r),T.process(r),x.process(r),_.process(r),b.process(r),r.isProcessing=!1,i&&t&&(s=!1,e(A))},w=()=>{i=!0,s=!0,r.isProcessing||e(A)};return{schedule:cl.reduce((I,z)=>{const q=c[z];return I[z]=(L,U=!1,B=!1)=>(i||w(),q.schedule(L,U,B)),I},{}),cancel:I=>{for(let z=0;z<cl.length;z++)c[cl[z]].cancel(I)},state:r,steps:c}}const{schedule:Xe,cancel:Pi,state:Et,steps:wf}=MT(typeof requestAnimationFrame<"u"?requestAnimationFrame:un,!0);let Tl;function bw(){Tl=void 0}const Mt={now:()=>(Tl===void 0&&Mt.set(Et.isProcessing||Wn.useManualTiming?Et.timestamp:performance.now()),Tl),set:e=>{Tl=e,queueMicrotask(bw)}},RT=e=>t=>typeof t=="string"&&t.startsWith(e),DT=RT("--"),Cw=RT("var(--"),Xd=e=>Cw(e)?Aw.test(e.split("/*")[0].trim()):!1,Aw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Yy(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Dr={...ps,transform:e=>Dn(0,1,e)},fl={...ps,default:1},Ar=e=>Math.round(e*1e5)/1e5,$d=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ww(e){return e==null}const Nw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jd=(e,t)=>i=>!!(typeof i=="string"&&Nw.test(i)&&i.startsWith(e)||t&&!ww(i)&&Object.prototype.hasOwnProperty.call(i,t)),IT=(e,t,i)=>s=>{if(typeof s!="string")return s;const[r,l,c,d]=s.match($d);return{[e]:parseFloat(r),[t]:parseFloat(l),[i]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Mw=e=>Dn(0,255,e),Nf={...ps,transform:e=>Math.round(Mw(e))},ao={test:jd("rgb","red"),parse:IT("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+Nf.transform(e)+", "+Nf.transform(t)+", "+Nf.transform(i)+", "+Ar(Dr.transform(s))+")"};function Rw(e){let t="",i="",s="",r="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,i+=i,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Wf={test:jd("#"),parse:Rw,transform:ao.transform},Or=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Di=Or("deg"),Rn=Or("%"),ue=Or("px"),Dw=Or("vh"),Iw=Or("vw"),Jy={...Rn,parse:e=>Rn.parse(e)/100,transform:e=>Rn.transform(e*100)},ts={test:jd("hsl","hue"),parse:IT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+Rn.transform(Ar(t))+", "+Rn.transform(Ar(i))+", "+Ar(Dr.transform(s))+")"},ut={test:e=>ao.test(e)||Wf.test(e)||ts.test(e),parse:e=>ao.test(e)?ao.parse(e):ts.test(e)?ts.parse(e):Wf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ao.transform(e):ts.transform(e),getAnimatableNone:e=>{const t=ut.parse(e);return t.alpha=0,ut.transform(t)}},kw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Uw(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match($d))==null?void 0:t.length)||0)+(((i=e.match(kw))==null?void 0:i.length)||0)>0}const kT="number",UT="color",Pw="var",Lw="var(",Ky="${}",Vw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ir(e){const t=e.toString(),i=[],s={color:[],number:[],var:[]},r=[];let l=0;const d=t.replace(Vw,m=>(ut.test(m)?(s.color.push(l),r.push(UT),i.push(ut.parse(m))):m.startsWith(Lw)?(s.var.push(l),r.push(Pw),i.push(m)):(s.number.push(l),r.push(kT),i.push(parseFloat(m))),++l,Ky)).split(Ky);return{values:i,split:d,indexes:s,types:r}}function PT(e){return Ir(e).values}function LT(e){const{split:t,types:i}=Ir(e),s=t.length;return r=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],r[c]!==void 0){const d=i[c];d===kT?l+=Ar(r[c]):d===UT?l+=ut.transform(r[c]):l+=r[c]}return l}}const Gw=e=>typeof e=="number"?0:ut.test(e)?ut.getAnimatableNone(e):e;function zw(e){const t=PT(e);return LT(e)(t.map(Gw))}const xn={test:Uw,parse:PT,createTransformer:LT,getAnimatableNone:zw};function Mf(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Bw({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,t/=100,i/=100;let r=0,l=0,c=0;if(!t)r=l=c=i;else{const d=i<.5?i*(1+t):i+t-i*t,m=2*i-d;r=Mf(m,d,e+1/3),l=Mf(m,d,e),c=Mf(m,d,e-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Dl(e,t){return i=>i>0?t:e}const Ze=(e,t,i)=>e+(t-e)*i,Rf=(e,t,i)=>{const s=e*e,r=i*(t*t-s)+s;return r<0?0:Math.sqrt(r)},Ow=[Wf,ao,ts],Hw=e=>Ow.find(t=>t.test(e));function Xy(e){const t=Hw(e);if(!t)return!1;let i=t.parse(e);return t===ts&&(i=Bw(i)),i}const $y=(e,t)=>{const i=Xy(e),s=Xy(t);if(!i||!s)return Dl(e,t);const r={...i};return l=>(r.red=Rf(i.red,s.red,l),r.green=Rf(i.green,s.green,l),r.blue=Rf(i.blue,s.blue,l),r.alpha=Ze(i.alpha,s.alpha,l),ao.transform(r))},Zf=new Set(["none","hidden"]);function qw(e,t){return Zf.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function Fw(e,t){return i=>Ze(e,t,i)}function Qd(e){return typeof e=="number"?Fw:typeof e=="string"?Xd(e)?Dl:ut.test(e)?$y:Kw:Array.isArray(e)?VT:typeof e=="object"?ut.test(e)?$y:Yw:Dl}function VT(e,t){const i=[...e],s=i.length,r=e.map((l,c)=>Qd(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)i[c]=r[c](l);return i}}function Yw(e,t){const i={...e,...t},s={};for(const r in i)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Qd(e[r])(e[r],t[r]));return r=>{for(const l in s)i[l]=s[l](r);return i}}function Jw(e,t){const i=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const l=t.types[r],c=e.indexes[l][s[l]],d=e.values[c]??0;i[r]=d,s[l]++}return i}const Kw=(e,t)=>{const i=xn.createTransformer(t),s=Ir(e),r=Ir(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?Zf.has(e)&&!r.values.length||Zf.has(t)&&!s.values.length?qw(e,t):zr(VT(Jw(s,r),r.values),i):Dl(e,t)};function GT(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?Ze(e,t,i):Qd(e)(e,t)}const Xw=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>Xe.update(t,i),stop:()=>Pi(t),now:()=>Et.isProcessing?Et.timestamp:Mt.now()}},zT=(e,t,i=10)=>{let s="";const r=Math.max(Math.round(t/i),2);for(let l=0;l<r;l++)s+=Math.round(e(l/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Il=2e4;function Wd(e){let t=0;const i=50;let s=e.next(t);for(;!s.done&&t<Il;)t+=i,s=e.next(t);return t>=Il?1/0:t}function $w(e,t=100,i){const s=i({...e,keyframes:[0,t]}),r=Math.min(Wd(s),Il);return{type:"keyframes",ease:l=>s.next(r*l).value/t,duration:ln(r)}}const jw=5;function BT(e,t,i){const s=Math.max(t-jw,0);return vT(i-e(s),t-s)}const nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Df=.001;function Qw({duration:e=nt.duration,bounce:t=nt.bounce,velocity:i=nt.velocity,mass:s=nt.mass}){let r,l,c=1-t;c=Dn(nt.minDamping,nt.maxDamping,c),e=Dn(nt.minDuration,nt.maxDuration,ln(e)),c<1?(r=h=>{const y=h*c,T=y*e,x=y-i,_=ed(h,c),b=Math.exp(-T);return Df-x/_*b},l=h=>{const T=h*c*e,x=T*i+i,_=Math.pow(c,2)*Math.pow(h,2)*e,b=Math.exp(-T),A=ed(Math.pow(h,2),c);return(-r(h)+Df>0?-1:1)*((x-_)*b)/A}):(r=h=>{const y=Math.exp(-h*e),T=(h-i)*e+1;return-Df+y*T},l=h=>{const y=Math.exp(-h*e),T=(i-h)*(e*e);return y*T});const d=5/e,m=Zw(r,l,d);if(e=vn(e),isNaN(m))return{stiffness:nt.stiffness,damping:nt.damping,duration:e};{const h=Math.pow(m,2)*s;return{stiffness:h,damping:c*2*Math.sqrt(s*h),duration:e}}}const Ww=12;function Zw(e,t,i){let s=i;for(let r=1;r<Ww;r++)s=s-e(s)/t(s);return s}function ed(e,t){return e*Math.sqrt(1-t*t)}const e1=["duration","bounce"],t1=["stiffness","damping","mass"];function jy(e,t){return t.some(i=>e[i]!==void 0)}function n1(e){let t={velocity:nt.velocity,stiffness:nt.stiffness,damping:nt.damping,mass:nt.mass,isResolvedFromDuration:!1,...e};if(!jy(e,t1)&&jy(e,e1))if(t.velocity=0,e.visualDuration){const i=e.visualDuration,s=2*Math.PI/(i*1.2),r=s*s,l=2*Dn(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:nt.mass,stiffness:r,damping:l}}else{const i=Qw({...e,velocity:0});t={...t,...i,mass:nt.mass},t.isResolvedFromDuration=!0}return t}function kl(e=nt.visualDuration,t=nt.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=i;const l=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:h,mass:y,duration:T,velocity:x,isResolvedFromDuration:_}=n1({...i,velocity:-ln(i.velocity||0)}),b=x||0,A=h/(2*Math.sqrt(m*y)),w=c-l,N=ln(Math.sqrt(m/y)),P=Math.abs(w)<5;s||(s=P?nt.restSpeed.granular:nt.restSpeed.default),r||(r=P?nt.restDelta.granular:nt.restDelta.default);let I;if(A<1){const q=ed(N,A);I=L=>{const U=Math.exp(-A*N*L);return c-U*((b+A*N*w)/q*Math.sin(q*L)+w*Math.cos(q*L))}}else if(A===1)I=q=>c-Math.exp(-N*q)*(w+(b+N*w)*q);else{const q=N*Math.sqrt(A*A-1);I=L=>{const U=Math.exp(-A*N*L),B=Math.min(q*L,300);return c-U*((b+A*N*w)*Math.sinh(B)+q*w*Math.cosh(B))/q}}const z={calculatedDuration:_&&T||null,next:q=>{const L=I(q);if(_)d.done=q>=T;else{let U=q===0?b:0;A<1&&(U=q===0?vn(b):BT(I,q,L));const B=Math.abs(U)<=s,V=Math.abs(c-L)<=r;d.done=B&&V}return d.value=d.done?c:L,d},toString:()=>{const q=Math.min(Wd(z),Il),L=zT(U=>z.next(q*U).value,q,30);return q+"ms "+L},toTransition:()=>{}};return z}kl.applyToOptions=e=>{const t=$w(e,100,kl);return e.ease=t.ease,e.duration=vn(t.duration),e.type="keyframes",e};function td({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:h=.5,restSpeed:y}){const T=e[0],x={done:!1,value:T},_=B=>d!==void 0&&B<d||m!==void 0&&B>m,b=B=>d===void 0?m:m===void 0||Math.abs(d-B)<Math.abs(m-B)?d:m;let A=i*t;const w=T+A,N=c===void 0?w:c(w);N!==w&&(A=N-T);const P=B=>-A*Math.exp(-B/s),I=B=>N+P(B),z=B=>{const V=P(B),se=I(B);x.done=Math.abs(V)<=h,x.value=x.done?N:se};let q,L;const U=B=>{_(x.value)&&(q=B,L=kl({keyframes:[x.value,b(x.value)],velocity:BT(I,B,x.value),damping:r,stiffness:l,restDelta:h,restSpeed:y}))};return U(0),{calculatedDuration:null,next:B=>{let V=!1;return!L&&q===void 0&&(V=!0,z(B),U(B)),q!==void 0&&B>=q?L.next(B-q):(!V&&z(B),x)}}}function i1(e,t,i){const s=[],r=i||Wn.mix||GT,l=e.length-1;for(let c=0;c<l;c++){let d=r(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||un:t;d=zr(m,d)}s.push(d)}return s}function o1(e,t,{clamp:i=!0,ease:s,mixer:r}={}){const l=e.length;if(Fd(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=i1(t,s,r),m=d.length,h=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const x=Rr(e[T],e[T+1],y);return d[T](x)};return i?y=>h(Dn(e[0],e[l-1],y)):h}function s1(e,t){const i=e[e.length-1];for(let s=1;s<=t;s++){const r=Rr(0,t,s);e.push(Ze(i,1,r))}}function r1(e){const t=[0];return s1(t,e.length-1),t}function a1(e,t){return e.map(i=>i*t)}function l1(e,t){return e.map(()=>t||wT).splice(0,e.length-1)}function wr({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const r=xw(s)?s.map(Fy):Fy(s),l={done:!1,value:t[0]},c=a1(i&&i.length===t.length?i:r1(t),e),d=o1(c,t,{ease:Array.isArray(r)?r:l1(t,r)});return{calculatedDuration:e,next:m=>(l.value=d(m),l.done=m>=e,l)}}const u1=e=>e!==null;function Zd(e,{repeat:t,repeatType:i="loop"},s,r=1){const l=e.filter(u1),d=r<0||t&&i!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const c1={decay:td,inertia:td,tween:wr,keyframes:wr,spring:kl};function OT(e){typeof e.type=="string"&&(e.type=c1[e.type])}class eh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const f1=e=>e/100;class th extends eh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:i}=this.options;i&&i.updatedAt!==Mt.now()&&this.tick(Mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;OT(t);const{type:i=wr,repeat:s=0,repeatDelay:r=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const m=i||wr;m!==wr&&typeof d[0]!="number"&&(this.mixKeyframes=zr(f1,GT(d[0],d[1])),d=[0,100]);const h=m({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=Wd(h));const{calculatedDuration:y}=h;this.calculatedDuration=y,this.resolvedDuration=y+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:s,totalDuration:r,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:y,repeat:T,repeatType:x,repeatDelay:_,type:b,onUpdate:A,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?N<0:N>r;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let I=this.currentTime,z=s;if(T){const B=Math.min(this.currentTime,r)/d;let V=Math.floor(B),se=B%1;!se&&B>=1&&(se=1),se===1&&V--,V=Math.min(V,T+1),!!(V%2)&&(x==="reverse"?(se=1-se,_&&(se-=_/d)):x==="mirror"&&(z=c)),I=Dn(0,1,se)*d}const q=P?{done:!1,value:y[0]}:z.next(I);l&&(q.value=l(q.value));let{done:L}=q;!P&&m!==null&&(L=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return U&&b!==td&&(q.value=Zd(y,this.options,w,this.speed)),A&&A(q.value),U&&this.finish(),q}then(t,i){return this.finished.then(t,i)}get duration(){return ln(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ln(t)}get time(){return ln(this.currentTime)}set time(t){var i;t=vn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mt.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=ln(this.currentTime))}play(){var r,l;if(this.isStopped)return;const{driver:t=Xw,startTime:i}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(r=this.options).onPlay)==null||l.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function d1(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lo=e=>e*180/Math.PI,nd=e=>{const t=lo(Math.atan2(e[1],e[0]));return id(t)},h1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:nd,rotateZ:nd,skewX:e=>lo(Math.atan(e[1])),skewY:e=>lo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},id=e=>(e=e%360,e<0&&(e+=360),e),Qy=nd,Wy=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Zy=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),p1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wy,scaleY:Zy,scale:e=>(Wy(e)+Zy(e))/2,rotateX:e=>id(lo(Math.atan2(e[6],e[5]))),rotateY:e=>id(lo(Math.atan2(-e[2],e[0]))),rotateZ:Qy,rotate:Qy,skewX:e=>lo(Math.atan(e[4])),skewY:e=>lo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function od(e){return e.includes("scale")?1:0}function sd(e,t){if(!e||e==="none")return od(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(i)s=p1,r=i;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=h1,r=d}if(!r)return od(t);const l=s[t],c=r[1].split(",").map(g1);return typeof l=="function"?l(c):c[l]}const m1=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return sd(i,t)};function g1(e){return parseFloat(e.trim())}const ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gs=new Set(ms),ev=e=>e===ps||e===ue,y1=new Set(["x","y","z"]),v1=ms.filter(e=>!y1.has(e));function x1(e){const t=[];return v1.forEach(i=>{const s=e.getValue(i);s!==void 0&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),t}const ki={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>sd(t,"x"),y:(e,{transform:t})=>sd(t,"y")};ki.translateX=ki.x;ki.translateY=ki.y;const uo=new Set;let rd=!1,ad=!1,ld=!1;function HT(){if(ad){const e=Array.from(uo).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),i=new Map;t.forEach(s=>{const r=x1(s);r.length&&(i.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=i.get(s);r&&r.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ad=!1,rd=!1,uo.forEach(e=>e.complete(ld)),uo.clear()}function qT(){uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ad=!0)})}function T1(){ld=!0,qT(),HT(),ld=!1}class nh{constructor(t,i,s,r,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=s,this.motionValue=r,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(uo.add(this),rd||(rd=!0,Xe.read(qT),Xe.resolveKeyframes(HT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:s,motionValue:r}=this;if(t[0]===null){const l=r==null?void 0:r.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&i){const d=s.readValue(i,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),r&&l===void 0&&r.set(t[0])}d1(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uo.delete(this)}cancel(){this.state==="scheduled"&&(uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S1=e=>e.startsWith("--");function E1(e,t,i){S1(t)?e.style.setProperty(t,i):e.style[t]=i}const _1={};function FT(e,t){const i=yT(e);return()=>_1[t]??i()}const b1=FT(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),YT=FT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),br=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:br([0,.65,.55,1]),circOut:br([.55,0,1,.45]),backIn:br([.31,.01,.66,-.59]),backOut:br([.33,1.53,.69,.99])};function JT(e,t){if(e)return typeof e=="function"?YT()?zT(e,t):"ease-out":NT(e)?br(e):Array.isArray(e)?e.map(i=>JT(i,t)||tv.easeOut):tv[e]}function C1(e,t,i,{delay:s=0,duration:r=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},h=void 0){const y={[t]:i};m&&(y.offset=m);const T=JT(d,r);Array.isArray(T)&&(y.easing=T);const x={delay:s,duration:r,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),e.animate(y,x)}function KT(e){return typeof e=="function"&&"applyToOptions"in e}function A1({type:e,...t}){return KT(e)&&YT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class XT extends eh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:i,name:s,keyframes:r,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Fd(typeof t.type!="string");const h=A1(t);this.animation=C1(i,s,r,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Zd(r,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(y):E1(i,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,s,r;const t=(i=this.options)==null?void 0:i.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((r=(s=this.animation).commitStyles)==null||r.call(s))}get duration(){var i,s;const t=((s=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:s.call(i).duration)||0;return ln(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ln(t)}get time(){return ln(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&b1()?(this.animation.timeline=t,un):i(this)}}const $T={anticipate:bT,backInOut:_T,circInOut:AT};function w1(e){return e in $T}function N1(e){typeof e.ease=="string"&&w1(e.ease)&&(e.ease=$T[e.ease])}const If=10;class M1 extends XT{constructor(t){N1(t),OT(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:s,onComplete:r,element:l,...c}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new th({...c,autoplay:!1}),m=Math.max(If,Mt.now()-this.startTime),h=Dn(0,If,m-If);i.setWithVelocity(d.sample(Math.max(0,m-h)).value,d.sample(m).value,h),d.stop()}}const nv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(xn.test(e)||e==="0")&&!e.startsWith("url("));function R1(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function D1(e,t,i,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=nv(r,t),d=nv(l,t);return!c||!d?!1:R1(e)||(i==="spring"||KT(i))&&s}function ud(e){e.duration=0,e.type="keyframes"}const I1=new Set(["opacity","clipPath","filter","transform"]),k1=yT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function U1(e){var y;const{motionValue:t,name:i,repeatDelay:s,repeatType:r,damping:l,type:c}=e;if(!(((y=t==null?void 0:t.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=t.owner.getProps();return k1()&&i&&I1.has(i)&&(i!=="transform"||!h)&&!m&&!s&&r!=="mirror"&&l!==0&&c!=="inertia"}const P1=40;class L1 extends eh{constructor({autoplay:t=!0,delay:i=0,type:s="keyframes",repeat:r=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:h,element:y,...T}){var b;super(),this.stop=()=>{var A,w;this._animation&&(this._animation.stop(),(A=this.stopTimeline)==null||A.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Mt.now();const x={autoplay:t,delay:i,type:s,repeat:r,repeatDelay:l,repeatType:c,name:m,motionValue:h,element:y,...T},_=(y==null?void 0:y.KeyframeResolver)||nh;this.keyframeResolver=new _(d,(A,w,N)=>this.onKeyframesResolved(A,w,x,!N),m,h,y),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,i,s,r){var w,N;this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:h,onUpdate:y}=s;this.resolvedAt=Mt.now(),D1(t,l,c,d)||((Wn.instantAnimations||!m)&&(y==null||y(Zd(t,s,i))),t[0]=t[t.length-1],ud(s),s.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>P1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:t},_=!h&&U1(x),b=(N=(w=x.motionValue)==null?void 0:w.owner)==null?void 0:N.current,A=_?new M1({...x,element:b}):new th(x);A.finished.then(()=>{this.notifyFinished()}).catch(un),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),T1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function jT(e,t,i,s=0,r=1){const l=Array.from(e).sort((h,y)=>h.sortNodePosition(y)).indexOf(t),c=e.size,d=(c-1)*s;return typeof i=="function"?i(l,c):r===1?l*s:d-l*s}const V1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G1(e){const t=V1.exec(e);if(!t)return[,];const[,i,s,r]=t;return[`--${i??s}`,r]}function QT(e,t,i=1){const[s,r]=G1(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return pT(c)?parseFloat(c):c}return Xd(r)?QT(r,t,i+1):r}const z1={type:"spring",stiffness:500,damping:25,restSpeed:10},B1=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),O1={type:"keyframes",duration:.8},H1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q1=(e,{keyframes:t})=>t.length>2?O1:gs.has(e)?e.startsWith("scale")?B1(t[1]):z1:H1,F1=e=>e!==null;function Y1(e,{repeat:t,repeatType:i="loop"},s){const r=e.filter(F1),l=t&&i!=="loop"&&t%2===1?0:r.length-1;return r[l]}function WT(e,t){if(e!=null&&e.inherit&&t){const{inherit:i,...s}=e;return{...t,...s}}return e}function ih(e,t){const i=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return i!==e?WT(i,e):i}function J1({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:r,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:h,...y}){return!!Object.keys(y).length}const oh=(e,t,i,s={},r,l)=>c=>{const d=ih(s,e)||{},m=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-vn(m);const y={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:r};J1(d)||Object.assign(y,q1(e,y)),y.duration&&(y.duration=vn(y.duration)),y.repeatDelay&&(y.repeatDelay=vn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ud(y),y.delay===0&&(T=!0)),(Wn.instantAnimations||Wn.skipAnimations||r!=null&&r.shouldSkipAnimations)&&(T=!0,ud(y),y.delay=0),y.allowFlatten=!d.type&&!d.ease,T&&!l&&t.get()!==void 0){const x=Y1(y.keyframes,d);if(x!==void 0){Xe.update(()=>{y.onUpdate(x),y.onComplete()});return}}return d.isSync?new th(y):new L1(y)};function iv(e){const t=[{},{}];return e==null||e.values.forEach((i,s)=>{t[0][s]=i.get(),t[1][s]=i.getVelocity()}),t}function sh(e,t,i,s){if(typeof t=="function"){const[r,l]=iv(s);t=t(i!==void 0?i:e.custom,r,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,l]=iv(s);t=t(i!==void 0?i:e.custom,r,l)}return t}function us(e,t,i){const s=e.getProps();return sh(s,t,i!==void 0?i:s.custom,e)}const ZT=new Set(["width","height","top","left","right","bottom",...ms]),ov=30,K1=e=>!isNaN(parseFloat(e));class X1{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const r=Mt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=K1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new Yd);const s=this.events[t].add(i);return t==="change"?()=>{s(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ov)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,ov);return vT(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ds(e,t){return new X1(e,t)}const cd=e=>Array.isArray(e);function $1(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,ds(i))}function j1(e){return cd(e)?e[e.length-1]||0:e}function Q1(e,t){const i=us(e,t);let{transitionEnd:s={},transition:r={},...l}=i||{};l={...l,...s};for(const c in l){const d=j1(l[c]);$1(e,c,d)}}const Ct=e=>!!(e&&e.getVelocity);function W1(e){return!!(Ct(e)&&e.add)}function fd(e,t){const i=e.getValue("willChange");if(W1(i))return i.add(t);if(!i&&Wn.WillChange){const s=new Wn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function rh(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const Z1="framerAppearId",eS="data-"+rh(Z1);function tS(e){return e.props[eS]}function eN({protectedKeys:e,needsAnimating:t},i){const s=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,s}function nS(e,t,{delay:i=0,transitionOverride:s,type:r}={}){let{transition:l,transitionEnd:c,...d}=t;const m=e.getDefaultTransition();l=l?WT(l,m):m;const h=l==null?void 0:l.reduceMotion;s&&(l=s);const y=[],T=r&&e.animationState&&e.animationState.getState()[r];for(const x in d){const _=e.getValue(x,e.latestValues[x]??null),b=d[x];if(b===void 0||T&&eN(T,x))continue;const A={delay:i,...ih(l||{},x)},w=_.get();if(w!==void 0&&!_.isAnimating&&!Array.isArray(b)&&b===w&&!A.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const z=tS(e);if(z){const q=window.MotionHandoffAnimation(z,x,Xe);q!==null&&(A.startTime=q,N=!0)}}fd(e,x);const P=h??e.shouldReduceMotion;_.start(oh(x,_,b,P&&ZT.has(x)?{type:!1}:A,e,N));const I=_.animation;I&&y.push(I)}if(c){const x=()=>Xe.update(()=>{c&&Q1(e,c)});y.length?Promise.all(y).then(x):x()}return y}function dd(e,t,i={}){var m;const s=us(e,t,i.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(r=i.transitionOverride);const l=s?()=>Promise.all(nS(e,s,i)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:y=0,staggerChildren:T,staggerDirection:x}=r;return tN(e,t,h,y,T,x,i)}:()=>Promise.resolve(),{when:d}=r;if(d){const[h,y]=d==="beforeChildren"?[l,c]:[c,l];return h().then(()=>y())}else return Promise.all([l(),c(i.delay)])}function tN(e,t,i=0,s=0,r=0,l=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(dd(m,t,{...c,delay:i+(typeof s=="function"?0:s)+jT(e.variantChildren,m,s,r,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function nN(e,t,i={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(l=>dd(e,l,i));s=Promise.all(r)}else if(typeof t=="string")s=dd(e,t,i);else{const r=typeof t=="function"?us(e,t,i.custom):t;s=Promise.all(nS(e,r,i))}return s.then(()=>{e.notify("AnimationComplete",t)})}const iN={test:e=>e==="auto",parse:e=>e},iS=e=>t=>t.test(e),oS=[ps,ue,Rn,Di,Iw,Dw,iN],sv=e=>oS.find(iS(e));function oN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gT(e):!0}const sN=new Set(["brightness","contrast","saturate","opacity"]);function rN(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=i.match($d)||[];if(!s)return e;const r=i.replace(s,"");let l=sN.has(t)?1:0;return s!==i&&(l*=100),t+"("+l+r+")"}const aN=/\b([a-z-]*)\(.*?\)/gu,hd={...xn,getAnimatableNone:e=>{const t=e.match(aN);return t?t.map(rN).join(" "):e}},pd={...xn,getAnimatableNone:e=>{const t=xn.parse(e);return xn.createTransformer(e)(t.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},rv={...ps,transform:Math.round},lN={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:fl,scaleX:fl,scaleY:fl,scaleZ:fl,skew:Di,skewX:Di,skewY:Di,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Dr,originX:Jy,originY:Jy,originZ:ue},ah={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,inset:ue,insetBlock:ue,insetBlockStart:ue,insetBlockEnd:ue,insetInline:ue,insetInlineStart:ue,insetInlineEnd:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,paddingBlock:ue,paddingBlockStart:ue,paddingBlockEnd:ue,paddingInline:ue,paddingInlineStart:ue,paddingInlineEnd:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,marginBlock:ue,marginBlockStart:ue,marginBlockEnd:ue,marginInline:ue,marginInlineStart:ue,marginInlineEnd:ue,fontSize:ue,backgroundPositionX:ue,backgroundPositionY:ue,...lN,zIndex:rv,fillOpacity:Dr,strokeOpacity:Dr,numOctaves:rv},uN={...ah,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:hd,WebkitFilter:hd,mask:pd,WebkitMask:pd},sS=e=>uN[e],cN=new Set([hd,pd]);function rS(e,t){let i=sS(e);return cN.has(i)||(i=xn),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const fN=new Set(["auto","none","0"]);function dN(e,t,i){let s=0,r;for(;s<e.length&&!r;){const l=e[s];typeof l=="string"&&!fN.has(l)&&Ir(l).values.length&&(r=e[s]),s++}if(r&&i)for(const l of t)e[l]=rS(i,r)}class hN extends nh{constructor(t,i,s,r,l){super(t,i,s,r,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let T=t[y];if(typeof T=="string"&&(T=T.trim(),Xd(T))){const x=QT(T,i.current);x!==void 0&&(t[y]=x),y===t.length-1&&(this.finalKeyframe=T)}}if(this.resolveNoneKeyframes(),!ZT.has(s)||t.length!==2)return;const[r,l]=t,c=sv(r),d=sv(l),m=Yy(r),h=Yy(l);if(m!==h&&ki[s]){this.needsMeasurement=!0;return}if(c!==d)if(ev(c)&&ev(d))for(let y=0;y<t.length;y++){const T=t[y];typeof T=="string"&&(t[y]=parseFloat(T))}else ki[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||oN(t[r]))&&s.push(r);s.length&&dN(t,s,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ki[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const r=i[i.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ki[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,h])=>{t.getValue(m).set(h)}),this.resolveNoneKeyframes()}}const pN=new Set(["opacity","clipPath","filter","transform"]);function aS(e,t,i){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const r=(i==null?void 0:i[e])??s.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(s=>s!=null)}const lS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function md(e){return mT(e)&&"offsetHeight"in e}const{schedule:lh}=MT(queueMicrotask,!1),gn={x:!1,y:!1};function uS(){return gn.x||gn.y}function mN(e){return e==="x"||e==="y"?gn[e]?null:(gn[e]=!0,()=>{gn[e]=!1}):gn.x||gn.y?null:(gn.x=gn.y=!0,()=>{gn.x=gn.y=!1})}function cS(e,t){const i=aS(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[i,r,()=>s.abort()]}function gN(e){return!(e.pointerType==="touch"||uS())}function yN(e,t,i={}){const[s,r,l]=cS(e,i);return s.forEach(c=>{let d=!1,m=!1,h;const y=()=>{c.removeEventListener("pointerleave",b)},T=w=>{h&&(h(w),h=void 0),y()},x=w=>{d=!1,window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",x),m&&(m=!1,T(w))},_=()=>{d=!0,window.addEventListener("pointerup",x,r),window.addEventListener("pointercancel",x,r)},b=w=>{if(w.pointerType!=="touch"){if(d){m=!0;return}T(w)}},A=w=>{if(!gN(w))return;m=!1;const N=t(c,w);typeof N=="function"&&(h=N,c.addEventListener("pointerleave",b,r))};c.addEventListener("pointerenter",A,r),c.addEventListener("pointerdown",_,r)}),l}const fS=(e,t)=>t?e===t?!0:fS(e,t.parentElement):!1,uh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,vN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xN(e){return vN.has(e.tagName)||e.isContentEditable===!0}const TN=new Set(["INPUT","SELECT","TEXTAREA"]);function SN(e){return TN.has(e.tagName)||e.isContentEditable===!0}const Sl=new WeakSet;function av(e){return t=>{t.key==="Enter"&&e(t)}}function kf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const EN=(e,t)=>{const i=e.currentTarget;if(!i)return;const s=av(()=>{if(Sl.has(i))return;kf(i,"down");const r=av(()=>{kf(i,"up")}),l=()=>kf(i,"cancel");i.addEventListener("keyup",r,t),i.addEventListener("blur",l,t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)};function lv(e){return uh(e)&&!uS()}const uv=new WeakSet;function _N(e,t,i={}){const[s,r,l]=cS(e,i),c=d=>{const m=d.currentTarget;if(!lv(d)||uv.has(d))return;Sl.add(m),i.stopPropagation&&uv.add(d);const h=t(m,d),y=(_,b)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",x),Sl.has(m)&&Sl.delete(m),lv(_)&&typeof h=="function"&&h(_,{success:b})},T=_=>{y(_,m===window||m===document||i.useGlobalTarget||fS(m,_.target))},x=_=>{y(_,!1)};window.addEventListener("pointerup",T,r),window.addEventListener("pointercancel",x,r)};return s.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",c,r),md(d)&&(d.addEventListener("focus",h=>EN(h,r)),!xN(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ch(e){return mT(e)&&"ownerSVGElement"in e}const El=new WeakMap;let Ii;const dS=(e,t,i)=>(s,r)=>r&&r[0]?r[0][e+"Size"]:ch(s)&&"getBBox"in s?s.getBBox()[t]:s[i],bN=dS("inline","width","offsetWidth"),CN=dS("block","height","offsetHeight");function AN({target:e,borderBoxSize:t}){var i;(i=El.get(e))==null||i.forEach(s=>{s(e,{get width(){return bN(e,t)},get height(){return CN(e,t)}})})}function wN(e){e.forEach(AN)}function NN(){typeof ResizeObserver>"u"||(Ii=new ResizeObserver(wN))}function MN(e,t){Ii||NN();const i=aS(e);return i.forEach(s=>{let r=El.get(s);r||(r=new Set,El.set(s,r)),r.add(t),Ii==null||Ii.observe(s)}),()=>{i.forEach(s=>{const r=El.get(s);r==null||r.delete(t),r!=null&&r.size||Ii==null||Ii.unobserve(s)})}}const _l=new Set;let ns;function RN(){ns=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};_l.forEach(t=>t(e))},window.addEventListener("resize",ns)}function DN(e){return _l.add(e),ns||RN(),()=>{_l.delete(e),!_l.size&&typeof ns=="function"&&(window.removeEventListener("resize",ns),ns=void 0)}}function cv(e,t){return typeof e=="function"?DN(e):MN(e,t)}function IN(e){return ch(e)&&e.tagName==="svg"}const kN=[...oS,ut,xn],UN=e=>kN.find(iS(e)),fv=()=>({translate:0,scale:1,origin:0,originPoint:0}),is=()=>({x:fv(),y:fv()}),dv=()=>({min:0,max:0}),dt=()=>({x:dv(),y:dv()}),PN=new WeakMap;function Xl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function kr(e){return typeof e=="string"||Array.isArray(e)}const fh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dh=["initial",...fh];function $l(e){return Xl(e.animate)||dh.some(t=>kr(e[t]))}function hS(e){return!!($l(e)||e.variants)}function LN(e,t,i){for(const s in t){const r=t[s],l=i[s];if(Ct(r))e.addValue(s,r);else if(Ct(l))e.addValue(s,ds(r,{owner:e}));else if(l!==r)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(r):c.hasAnimated||c.set(r)}else{const c=e.getStaticValue(s);e.addValue(s,ds(c!==void 0?c:r,{owner:e}))}}for(const s in i)t[s]===void 0&&e.removeValue(s);return t}const gd={current:null},pS={current:!1},VN=typeof window<"u";function GN(){if(pS.current=!0,!!VN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gd.current=e.matches;e.addEventListener("change",t),t()}else gd.current=!1}const hv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ul={};function mS(e){Ul=e}function zN(){return Ul}class BN{scrapeMotionValuesFromProps(t,i,s){return{}}constructor({parent:t,props:i,presenceContext:s,reducedMotionConfig:r,skipAnimations:l,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=nh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Mt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Xe.render(this.render,!1,!0))};const{latestValues:h,renderState:y}=d;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=y,this.parent=t,this.props=i,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=$l(i),this.isVariantNode=hS(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...x}=this.scrapeMotionValuesFromProps(i,{},this);for(const _ in x){const b=x[_];h[_]!==void 0&&Ct(b)&&b.set(h[_])}}mount(t){var i,s;if(this.hasBeenMounted)for(const r in this.initialValues)(i=this.values.get(r))==null||i.jump(this.initialValues[r]),this.latestValues[r]=this.initialValues[r];this.current=t,PN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,l)=>this.bindToMotionValue(l,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(pS.current||GN(),this.shouldReduceMotion=gd.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Pi(this.notifyUpdate),Pi(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),i.accelerate&&pN.has(t)&&this.current instanceof HTMLElement){const{factory:c,keyframes:d,times:m,ease:h,duration:y}=i.accelerate,T=new XT({element:this.current,name:t,keyframes:d,times:m,ease:h,duration:vn(y)}),x=c(T);this.valueSubscriptions.set(t,()=>{x(),T.cancel()});return}const s=gs.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=i.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Xe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{r(),l&&l(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ul){const i=Ul[t];if(!i)continue;const{isEnabled:s,Feature:r}=i;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<hv.length;s++){const r=hv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const l="on"+r,c=t[l];c&&(this.propEventSubscriptions[r]=this.on(r,c))}this.prevMotionValues=LN(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const s=this.values.get(t);i!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&i!==void 0&&(s=ds(i===null?void 0:i,{owner:this}),this.addValue(t,s)),s}readValue(t,i){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(pT(s)||gT(s))?s=parseFloat(s):!UN(s)&&xn.test(i)&&(s=rS(t,i)),this.setBaseTarget(t,Ct(s)?s.get():s)),Ct(s)?s.get():s}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var l;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const c=sh(this.props,i,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Ct(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new Yd),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){lh.render(this.render)}}class gS extends BN{constructor(){super(...arguments),this.KeyframeResolver=hN}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){const s=t.style;return s?s[i]:void 0}removeValueFromRenderState(t,{vars:i,style:s}){delete i[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ct(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class Vi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function yS({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function ON({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HN(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function Uf(e){return e===void 0||e===1}function yd({scale:e,scaleX:t,scaleY:i}){return!Uf(e)||!Uf(t)||!Uf(i)}function so(e){return yd(e)||vS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vS(e){return pv(e.x)||pv(e.y)}function pv(e){return e&&e!=="0%"}function Pl(e,t,i){const s=e-i,r=t*s;return i+r}function mv(e,t,i,s,r){return r!==void 0&&(e=Pl(e,r,s)),Pl(e,i,s)+t}function vd(e,t=0,i=1,s,r){e.min=mv(e.min,t,i,s,r),e.max=mv(e.max,t,i,s,r)}function xS(e,{x:t,y:i}){vd(e.x,t.translate,t.scale,t.originPoint),vd(e.y,i.translate,i.scale,i.originPoint)}const gv=.999999999999,yv=1.0000000000001;function qN(e,t,i,s=!1){const r=i.length;if(!r)return;t.x=t.y=1;let l,c;for(let d=0;d<r;d++){l=i[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ss(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,xS(e,c)),s&&so(l.latestValues)&&ss(e,l.latestValues))}t.x<yv&&t.x>gv&&(t.x=1),t.y<yv&&t.y>gv&&(t.y=1)}function os(e,t){e.min=e.min+t,e.max=e.max+t}function vv(e,t,i,s,r=.5){const l=Ze(e.min,e.max,r);vd(e,t,i,l,s)}function ss(e,t){vv(e.x,t.x,t.scaleX,t.scale,t.originX),vv(e.y,t.y,t.scaleY,t.scale,t.originY)}function TS(e,t){return yS(HN(e.getBoundingClientRect(),t))}function FN(e,t,i){const s=TS(e,i),{scroll:r}=t;return r&&(os(s.x,r.offset.x),os(s.y,r.offset.y)),s}const YN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JN=ms.length;function KN(e,t,i){let s="",r=!0;for(let l=0;l<JN;l++){const c=ms[l],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number")m=d===(c.startsWith("scale")?1:0);else{const h=parseFloat(d);m=c.startsWith("scale")?h===1:h===0}if(!m||i){const h=lS(d,ah[c]);if(!m){r=!1;const y=YN[c]||c;s+=`${y}(${h}) `}i&&(t[c]=h)}}return s=s.trim(),i?s=i(t,r?"":s):r&&(s="none"),s}function hh(e,t,i){const{style:s,vars:r,transformOrigin:l}=e;let c=!1,d=!1;for(const m in t){const h=t[m];if(gs.has(m)){c=!0;continue}else if(DT(m)){r[m]=h;continue}else{const y=lS(h,ah[m]);m.startsWith("origin")?(d=!0,l[m]=y):s[m]=y}}if(t.transform||(c||i?s.transform=KN(t,e.transform,i):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:h="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${h} ${y}`}}function SS(e,{style:t,vars:i},s,r){const l=e.style;let c;for(c in t)l[c]=t[c];r==null||r.applyProjectionStyles(l,s);for(c in i)l.setProperty(c,i[c])}function xv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Tr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const i=xv(e,t.target.x),s=xv(e,t.target.y);return`${i}% ${s}%`}},XN={correct:(e,{treeScale:t,projectionDelta:i})=>{const s=e,r=xn.parse(e);if(r.length>5)return s;const l=xn.createTransformer(e),c=typeof r[0]!="number"?1:0,d=i.x.scale*t.x,m=i.y.scale*t.y;r[0+c]/=d,r[1+c]/=m;const h=Ze(d,m,.5);return typeof r[2+c]=="number"&&(r[2+c]/=h),typeof r[3+c]=="number"&&(r[3+c]/=h),l(r)}},xd={borderRadius:{...Tr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tr,borderTopRightRadius:Tr,borderBottomLeftRadius:Tr,borderBottomRightRadius:Tr,boxShadow:XN};function ES(e,{layout:t,layoutId:i}){return gs.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!xd[e]||e==="opacity")}function ph(e,t,i){var c;const s=e.style,r=t==null?void 0:t.style,l={};if(!s)return l;for(const d in s)(Ct(s[d])||r&&Ct(r[d])||ES(d,e)||((c=i==null?void 0:i.getValue(d))==null?void 0:c.liveStyle)!==void 0)&&(l[d]=s[d]);return l}function $N(e){return window.getComputedStyle(e)}class jN extends gS{constructor(){super(...arguments),this.type="html",this.renderInstance=SS}readValueFromInstance(t,i){var s;if(gs.has(i))return(s=this.projection)!=null&&s.isProjecting?od(i):m1(t,i);{const r=$N(t),l=(DT(i)?r.getPropertyValue(i):r[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:i}){return TS(t,i)}build(t,i,s){hh(t,i,s.transformTemplate)}scrapeMotionValuesFromProps(t,i,s){return ph(t,i,s)}}const QN={offset:"stroke-dashoffset",array:"stroke-dasharray"},WN={offset:"strokeDashoffset",array:"strokeDasharray"};function ZN(e,t,i=1,s=0,r=!0){e.pathLength=1;const l=r?QN:WN;e[l.offset]=`${-s}`,e[l.array]=`${t} ${i}`}const eM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function _S(e,{attrX:t,attrY:i,attrScale:s,pathLength:r,pathSpacing:l=1,pathOffset:c=0,...d},m,h,y){if(hh(e,d,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:x}=e;T.transform&&(x.transform=T.transform,delete T.transform),(x.transform||T.transformOrigin)&&(x.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),x.transform&&(x.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete T.transformBox);for(const _ of eM)T[_]!==void 0&&(x[_]=T[_],delete T[_]);t!==void 0&&(T.x=t),i!==void 0&&(T.y=i),s!==void 0&&(T.scale=s),r!==void 0&&ZN(T,r,l,c,!1)}const bS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),CS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tM(e,t,i,s){SS(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(bS.has(r)?r:rh(r),t.attrs[r])}function AS(e,t,i){const s=ph(e,t,i);for(const r in e)if(Ct(e[r])||Ct(t[r])){const l=ms.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[l]=e[r]}return s}class nM extends gS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(gs.has(i)){const s=sS(i);return s&&s.default||0}return i=bS.has(i)?i:rh(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,s){return AS(t,i,s)}build(t,i,s){_S(t,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,i,s,r){tM(t,i,s,r)}mount(t){this.isSVGTag=CS(t.tagName),super.mount(t)}}const iM=dh.length;function wS(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?wS(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<iM;i++){const s=dh[i],r=e.props[s];(kr(r)||r===!1)&&(t[s]=r)}return t}function NS(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}const oM=[...fh].reverse(),sM=fh.length;function rM(e){return t=>Promise.all(t.map(({animation:i,options:s})=>nN(e,i,s)))}function aM(e){let t=rM(e),i=Tv(),s=!0;const r=m=>(h,y)=>{var x;const T=us(e,y,m==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(T){const{transition:_,transitionEnd:b,...A}=T;h={...h,...A,...b}}return h};function l(m){t=m(e)}function c(m){const{props:h}=e,y=wS(e.parent)||{},T=[],x=new Set;let _={},b=1/0;for(let w=0;w<sM;w++){const N=oM[w],P=i[N],I=h[N]!==void 0?h[N]:y[N],z=kr(I),q=N===m?P.isActive:null;q===!1&&(b=w);let L=I===y[N]&&I!==h[N]&&z;if(L&&s&&e.manuallyAnimateOnMount&&(L=!1),P.protectedKeys={..._},!P.isActive&&q===null||!I&&!P.prevProp||Xl(I)||typeof I=="boolean")continue;if(N==="exit"&&P.isActive&&q!==!0){P.prevResolvedValues&&(_={..._,...P.prevResolvedValues});continue}const U=lM(P.prevProp,I);let B=U||N===m&&P.isActive&&!L&&z||w>b&&z,V=!1;const se=Array.isArray(I)?I:[I];let ye=se.reduce(r(N),{});q===!1&&(ye={});const{prevResolvedValues:_e={}}=P,Ue={..._e,...ye},Ie=W=>{B=!0,x.has(W)&&(V=!0,x.delete(W)),P.needsAnimating[W]=!0;const ie=e.getValue(W);ie&&(ie.liveStyle=!1)};for(const W in Ue){const ie=ye[W],me=_e[W];if(_.hasOwnProperty(W))continue;let ee=!1;cd(ie)&&cd(me)?ee=!NS(ie,me):ee=ie!==me,ee?ie!=null?Ie(W):x.add(W):ie!==void 0&&x.has(W)?Ie(W):P.protectedKeys[W]=!0}P.prevProp=I,P.prevResolvedValues=ye,P.isActive&&(_={..._,...ye}),s&&e.blockInitialAnimation&&(B=!1);const ze=L&&U;B&&(!ze||V)&&T.push(...se.map(W=>{const ie={type:N};if(typeof W=="string"&&s&&!ze&&e.manuallyAnimateOnMount&&e.parent){const{parent:me}=e,ee=us(me,W);if(me.enteringChildren&&ee){const{delayChildren:D}=ee.transition||{};ie.delay=jT(me.enteringChildren,e,D)}}return{animation:W,options:ie}}))}if(x.size){const w={};if(typeof h.initial!="boolean"){const N=us(e,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(w.transition=N.transition)}x.forEach(N=>{const P=e.getBaseTarget(N),I=e.getValue(N);I&&(I.liveStyle=!0),w[N]=P??null}),T.push({animation:w})}let A=!!T.length;return s&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(A=!1),s=!1,A?t(T):Promise.resolve()}function d(m,h){var T;if(i[m].isActive===h)return Promise.resolve();(T=e.variantChildren)==null||T.forEach(x=>{var _;return(_=x.animationState)==null?void 0:_.setActive(m,h)}),i[m].isActive=h;const y=c(m);for(const x in i)i[x].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>i,reset:()=>{i=Tv()}}}function lM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!NS(t,e):!1}function oo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tv(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}function Sv(e,t){e.min=t.min,e.max=t.max}function mn(e,t){Sv(e.x,t.x),Sv(e.y,t.y)}function Ev(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const MS=1e-4,uM=1-MS,cM=1+MS,RS=.01,fM=0-RS,dM=0+RS;function Rt(e){return e.max-e.min}function hM(e,t,i){return Math.abs(e-t)<=i}function _v(e,t,i,s=.5){e.origin=s,e.originPoint=Ze(t.min,t.max,e.origin),e.scale=Rt(i)/Rt(t),e.translate=Ze(i.min,i.max,e.origin)-e.originPoint,(e.scale>=uM&&e.scale<=cM||isNaN(e.scale))&&(e.scale=1),(e.translate>=fM&&e.translate<=dM||isNaN(e.translate))&&(e.translate=0)}function Nr(e,t,i,s){_v(e.x,t.x,i.x,s?s.originX:void 0),_v(e.y,t.y,i.y,s?s.originY:void 0)}function bv(e,t,i){e.min=i.min+t.min,e.max=e.min+Rt(t)}function pM(e,t,i){bv(e.x,t.x,i.x),bv(e.y,t.y,i.y)}function Cv(e,t,i){e.min=t.min-i.min,e.max=e.min+Rt(t)}function Ll(e,t,i){Cv(e.x,t.x,i.x),Cv(e.y,t.y,i.y)}function Av(e,t,i,s,r){return e-=t,e=Pl(e,1/i,s),r!==void 0&&(e=Pl(e,1/r,s)),e}function mM(e,t=0,i=1,s=.5,r,l=e,c=e){if(Rn.test(t)&&(t=parseFloat(t),t=Ze(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ze(l.min,l.max,s);e===l&&(d-=t),e.min=Av(e.min,t,i,d,r),e.max=Av(e.max,t,i,d,r)}function wv(e,t,[i,s,r],l,c){mM(e,t[i],t[s],t[r],t.scale,l,c)}const gM=["x","scaleX","originX"],yM=["y","scaleY","originY"];function Nv(e,t,i,s){wv(e.x,t,gM,i?i.x:void 0,s?s.x:void 0),wv(e.y,t,yM,i?i.y:void 0,s?s.y:void 0)}function Mv(e){return e.translate===0&&e.scale===1}function DS(e){return Mv(e.x)&&Mv(e.y)}function Rv(e,t){return e.min===t.min&&e.max===t.max}function vM(e,t){return Rv(e.x,t.x)&&Rv(e.y,t.y)}function Dv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function IS(e,t){return Dv(e.x,t.x)&&Dv(e.y,t.y)}function Iv(e){return Rt(e.x)/Rt(e.y)}function kv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Mn(e){return[e("x"),e("y")]}function xM(e,t,i){let s="";const r=e.x.translate/t.x,l=e.y.translate/t.y,c=(i==null?void 0:i.z)||0;if((r||l||c)&&(s=`translate3d(${r}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:h,rotate:y,rotateX:T,rotateY:x,skewX:_,skewY:b}=i;h&&(s=`perspective(${h}px) ${s}`),y&&(s+=`rotate(${y}deg) `),T&&(s+=`rotateX(${T}deg) `),x&&(s+=`rotateY(${x}deg) `),_&&(s+=`skewX(${_}deg) `),b&&(s+=`skewY(${b}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const kS=["TopLeft","TopRight","BottomLeft","BottomRight"],TM=kS.length,Uv=e=>typeof e=="string"?parseFloat(e):e,Pv=e=>typeof e=="number"||ue.test(e);function SM(e,t,i,s,r,l){r?(e.opacity=Ze(0,i.opacity??1,EM(s)),e.opacityExit=Ze(t.opacity??1,0,_M(s))):l&&(e.opacity=Ze(t.opacity??1,i.opacity??1,s));for(let c=0;c<TM;c++){const d=`border${kS[c]}Radius`;let m=Lv(t,d),h=Lv(i,d);if(m===void 0&&h===void 0)continue;m||(m=0),h||(h=0),m===0||h===0||Pv(m)===Pv(h)?(e[d]=Math.max(Ze(Uv(m),Uv(h),s),0),(Rn.test(h)||Rn.test(m))&&(e[d]+="%")):e[d]=h}(t.rotate||i.rotate)&&(e.rotate=Ze(t.rotate||0,i.rotate||0,s))}function Lv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EM=US(0,.5,CT),_M=US(.5,.95,un);function US(e,t,i){return s=>s<e?0:s>t?1:i(Rr(e,t,s))}function bM(e,t,i){const s=Ct(e)?e:ds(e);return s.start(oh("",s,t,i)),s.animation}function Ur(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}const CM=(e,t)=>e.depth-t.depth;class AM{constructor(){this.children=[],this.isDirty=!1}add(t){qd(this.children,t),this.isDirty=!0}remove(t){Rl(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CM),this.isDirty=!1,this.children.forEach(t)}}function wM(e,t){const i=Mt.now(),s=({timestamp:r})=>{const l=r-i;l>=t&&(Pi(s),e(l-t))};return Xe.setup(s,!0),()=>Pi(s)}function bl(e){return Ct(e)?e.get():e}class NM{constructor(){this.members=[]}add(t){qd(this.members,t);for(let i=this.members.length-1;i>=0;i--){const s=this.members[i];if(s===t||s===this.lead||s===this.prevLead)continue;const r=s.instance;r&&r.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Rl(this.members,s)}t.scheduleRender()}remove(t){if(Rl(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(r=>t===r);if(i===0)return!1;let s;for(let r=i;r>=0;r--){const l=this.members[r],c=l.instance;if(l.isPresent!==!1&&(!c||c.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,i){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const r=s.options.layoutDependency,l=t.options.layoutDependency;if(!(r!==void 0&&l!==void 0&&r===l)){const m=s.instance;m&&m.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,i&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:d}=t.options;d===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:s}=t;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Pf=["","X","Y","Z"],MM=1e3;let RM=0;function Lf(e,t,i,s){const{latestValues:r}=t;r[e]&&(i[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function PS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=tS(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:r,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",Xe,!(r||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&PS(s)}function LS({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(c={},d=t==null?void 0:t()){this.id=RM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kM),this.nodes.forEach(VM),this.nodes.forEach(GM),this.nodes.forEach(UM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new AM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Yd),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=ch(c)&&!IN(c),this.instance=c;const{layoutId:d,layout:m,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let y,T=0;const x=()=>this.root.updateBlockedByResize=!1;Xe.read(()=>{T=window.innerWidth}),e(c,()=>{const _=window.innerWidth;_!==T&&(T=_,this.root.updateBlockedByResize=!0,y&&y(),y=wM(x,250),Cl.hasAnimatedSinceResize&&(Cl.hasAnimatedSinceResize=!1,this.nodes.forEach(zv)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:x,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||qM,{onLayoutAnimationStart:A,onLayoutAnimationComplete:w}=h.getProps(),N=!this.targetLayout||!IS(this.targetLayout,_),P=!T&&x;if(this.options.layoutRoot||this.resumeFrom||P||T&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...ih(b,"layout"),onPlay:A,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(y,P)}else T||zv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LM),this.nodes.forEach(DM),this.nodes.forEach(IM)):this.nodes.forEach(Gv),this.clearAllSnapshots();const d=Mt.now();Et.delta=Dn(0,1e3/60,d-Et.timestamp),Et.timestamp=d,Et.isProcessing=!0,wf.update.process(Et),wf.preRender.process(Et),wf.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PM),this.sharedNodes.forEach(BM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!r)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!DS(this.projectionDelta),m=this.getTransformTemplate(),h=m?m(this.latestValues,""):void 0,y=h!==this.prevTransformTemplateValue;c&&this.instance&&(d||so(this.latestValues)||y)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),FM(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return dt();const d=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(YM))){const{scroll:y}=this.root;y&&(os(d.x,y.offset.x),os(d.y,y.offset.y))}return d}removeElementScroll(c){var m;const d=dt();if(mn(d,c),(m=this.scroll)!=null&&m.wasRoot)return d;for(let h=0;h<this.path.length;h++){const y=this.path[h],{scroll:T,options:x}=y;y!==this.root&&T&&x.layoutScroll&&(T.wasRoot&&mn(d,c),os(d.x,T.offset.x),os(d.y,T.offset.y))}return d}applyTransform(c,d=!1){const m=dt();mn(m,c);for(let h=0;h<this.path.length;h++){const y=this.path[h];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ss(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),so(y.latestValues)&&ss(m,y.latestValues)}return so(this.latestValues)&&ss(m,this.latestValues),m}removeTransform(c){const d=dt();mn(d,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];if(!h.instance||!so(h.latestValues))continue;yd(h.latestValues)&&h.updateSnapshot();const y=dt(),T=h.measurePageBox();mn(y,T),Nv(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,y)}return so(this.latestValues)&&Nv(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var _;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!this.layout||!(y||T))return;this.resolvedRelativeTargetAt=Et.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mn(this.target,this.layout.layoutBox),xS(this.target,this.targetDelta)):mn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||yd(this.parent.latestValues)||vS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Ll(this.relativeTargetOrigin,d,m),mn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(m=!1),m)return;const{layout:h,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||y))return;mn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,x=this.treeScale.y;qN(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=dt());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ev(this.prevProjectionDelta.x,this.projectionDelta.x),Ev(this.prevProjectionDelta.y,this.projectionDelta.y)),Nr(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==x||!kv(this.projectionDelta.x,this.prevProjectionDelta.x)||!kv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=is(),this.projectionDelta=is(),this.projectionDeltaWithTransform=is()}setAnimationOrigin(c,d=!1){const m=this.snapshot,h=m?m.latestValues:{},y={...this.latestValues},T=is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=dt(),_=m?m.source:void 0,b=this.layout?this.layout.source:void 0,A=_!==b,w=this.getStack(),N=!w||w.members.length<=1,P=!!(A&&!N&&this.options.crossfade===!0&&!this.path.some(HM));this.animationProgress=0;let I;this.mixTargetDelta=z=>{const q=z/1e3;Bv(T.x,c.x,q),Bv(T.y,c.y,q),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OM(this.relativeTarget,this.relativeTargetOrigin,x,q),I&&vM(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=dt()),mn(I,this.relativeTarget)),A&&(this.animationValues=y,SM(y,h,this.latestValues,q,P,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,m,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Pi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Cl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ds(0)),this.motionValue.jump(0,!1),this.currentAnimation=bM(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(MM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:h,latestValues:y}=c;if(!(!d||!m||!h)){if(this!==c&&this.layout&&h&&VS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){m=this.target||dt();const T=Rt(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const x=Rt(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}mn(d,m),ss(d,y),Nr(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new NM),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const h=this.getStack();h&&h.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const h={};m.z&&Lf("z",c,h,this.animationValues);for(let y=0;y<Pf.length;y++)Lf(`rotate${Pf[y]}`,c,h,this.animationValues),Lf(`skew${Pf[y]}`,c,h,this.animationValues);c.render();for(const y in h)c.setStaticValue(y,h[y]),this.animationValues&&(this.animationValues[y]=h[y]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=bl(d==null?void 0:d.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=bl(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!so(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=h.animationValues||h.latestValues;this.applyTransformsToTarget();let T=xM(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x,y:_}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${_.origin*100}% 0`,h.animationValues?c.opacity=h===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=h===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const b in xd){if(y[b]===void 0)continue;const{correct:A,applyTo:w,isCSSVariable:N}=xd[b],P=T==="none"?y[b]:A(y[b],h);if(w){const I=w.length;for(let z=0;z<I;z++)c[w[z]]=P}else N?this.options.visualElement.renderState.vars[b]=P:c[b]=P}this.options.layoutId&&(c.pointerEvents=h===this?bl(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Vv),this.root.sharedNodes.clear()}}}function DM(e){e.updateLayout()}function IM(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Mn(T=>{const x=c?t.measuredBox[T]:t.layoutBox[T],_=Rt(x);x.min=s[T].min,x.max=x.min+_}):VS(l,t.layoutBox,s)&&Mn(T=>{const x=c?t.measuredBox[T]:t.layoutBox[T],_=Rt(s[T]);x.max=x.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[T].max=e.relativeTarget[T].min+_)});const d=is();Nr(d,s,t.layoutBox);const m=is();c?Nr(m,e.applyTransform(r,!0),t.measuredBox):Nr(m,s,t.layoutBox);const h=!DS(d);let y=!1;if(!e.resumeFrom){const T=e.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:x,layout:_}=T;if(x&&_){const b=dt();Ll(b,t.layoutBox,x.layoutBox);const A=dt();Ll(A,s,_.layoutBox),IS(b,A)||(y=!0),T.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=b,e.relativeParent=T)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function kM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PM(e){e.clearSnapshot()}function Vv(e){e.clearMeasurements()}function Gv(e){e.isLayoutDirty=!1}function LM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function VM(e){e.resolveTargetDelta()}function GM(e){e.calcProjection()}function zM(e){e.resetSkewAndRotation()}function BM(e){e.removeLeadSnapshot()}function Bv(e,t,i){e.translate=Ze(t.translate,0,i),e.scale=Ze(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function Ov(e,t,i,s){e.min=Ze(t.min,i.min,s),e.max=Ze(t.max,i.max,s)}function OM(e,t,i,s){Ov(e.x,t.x,i.x,s),Ov(e.y,t.y,i.y,s)}function HM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qM={duration:.45,ease:[.4,0,.1,1]},Hv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qv=Hv("applewebkit/")&&!Hv("chrome/")?Math.round:un;function Fv(e){e.min=qv(e.min),e.max=qv(e.max)}function FM(e){Fv(e.x),Fv(e.y)}function VS(e,t,i){return e==="position"||e==="preserve-aspect"&&!hM(Iv(t),Iv(i),.2)}function YM(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const JM=LS({attachResizeListener:(e,t)=>Ur(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Vf={current:void 0},GS=LS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vf.current){const e=new JM({});e.mount(window),e.setOptions({layoutScroll:!0}),Vf.current=e}return Vf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mh=K.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Yv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function KM(...e){return t=>{let i=!1;const s=e.map(r=>{const l=Yv(r,t);return!i&&typeof l=="function"&&(i=!0),l});if(i)return()=>{for(let r=0;r<s.length;r++){const l=s[r];typeof l=="function"?l():Yv(e[r],null)}}}}function XM(...e){return K.useCallback(KM(...e),e)}class $M extends K.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=i.offsetParent,r=md(s)&&s.offsetWidth||0,l=md(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=i.offsetHeight||0,c.width=i.offsetWidth||0,c.top=i.offsetTop,c.left=i.offsetLeft,c.right=r-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function jM({children:e,isPresent:t,anchorX:i,anchorY:s,root:r,pop:l}){var x;const c=K.useId(),d=K.useRef(null),m=K.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=K.useContext(mh),y=((x=e.props)==null?void 0:x.ref)??(e==null?void 0:e.ref),T=XM(d,y);return K.useInsertionEffect(()=>{const{width:_,height:b,top:A,left:w,right:N,bottom:P}=m.current;if(t||l===!1||!d.current||!_||!b)return;const I=i==="left"?`left: ${w}`:`right: ${N}`,z=s==="bottom"?`bottom: ${P}`:`top: ${A}`;d.current.dataset.motionPopId=c;const q=document.createElement("style");h&&(q.nonce=h);const L=r??document.head;return L.appendChild(q),q.sheet&&q.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${b}px !important;
            ${I}px !important;
            ${z}px !important;
          }
        `),()=>{L.contains(q)&&L.removeChild(q)}},[t]),S.jsx($M,{isPresent:t,childRef:d,sizeRef:m,pop:l,children:l===!1?e:K.cloneElement(e,{ref:T})})}const QM=({children:e,initial:t,isPresent:i,onExitComplete:s,custom:r,presenceAffectsLayout:l,mode:c,anchorX:d,anchorY:m,root:h})=>{const y=Hd(WM),T=K.useId();let x=!0,_=K.useMemo(()=>(x=!1,{id:T,initial:t,isPresent:i,custom:r,onExitComplete:b=>{y.set(b,!0);for(const A of y.values())if(!A)return;s&&s()},register:b=>(y.set(b,!1),()=>y.delete(b))}),[i,y,s]);return l&&x&&(_={..._}),K.useMemo(()=>{y.forEach((b,A)=>y.set(A,!1))},[i]),K.useEffect(()=>{!i&&!y.size&&s&&s()},[i]),e=S.jsx(jM,{pop:c==="popLayout",isPresent:i,anchorX:d,anchorY:m,root:h,children:e}),S.jsx(Kl.Provider,{value:_,children:e})};function WM(){return new Map}function zS(e=!0){const t=K.useContext(Kl);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:r}=t,l=K.useId();K.useEffect(()=>{if(e)return r(l)},[e]);const c=K.useCallback(()=>e&&s&&s(l),[l,s,e]);return!i&&s?[!1,c]:[!0]}const dl=e=>e.key||"";function Jv(e){const t=[];return K.Children.forEach(e,i=>{K.isValidElement(i)&&t.push(i)}),t}const co=({children:e,custom:t,initial:i=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",anchorY:m="top",root:h})=>{const[y,T]=zS(c),x=K.useMemo(()=>Jv(e),[e]),_=c&&!y?[]:x.map(dl),b=K.useRef(!0),A=K.useRef(x),w=Hd(()=>new Map),N=K.useRef(new Set),[P,I]=K.useState(x),[z,q]=K.useState(x);hT(()=>{b.current=!1,A.current=x;for(let B=0;B<z.length;B++){const V=dl(z[B]);_.includes(V)?(w.delete(V),N.current.delete(V)):w.get(V)!==!0&&w.set(V,!1)}},[z,_.length,_.join("-")]);const L=[];if(x!==P){let B=[...x];for(let V=0;V<z.length;V++){const se=z[V],ye=dl(se);_.includes(ye)||(B.splice(V,0,se),L.push(se))}return l==="wait"&&L.length&&(B=L),q(Jv(B)),I(x),null}const{forceRender:U}=K.useContext(Od);return S.jsx(S.Fragment,{children:z.map(B=>{const V=dl(B),se=c&&!y?!1:x===z||_.includes(V),ye=()=>{if(N.current.has(V))return;if(N.current.add(V),w.has(V))w.set(V,!0);else return;let _e=!0;w.forEach(Ue=>{Ue||(_e=!1)}),_e&&(U==null||U(),q(A.current),c&&(T==null||T()),s&&s())};return S.jsx(QM,{isPresent:se,initial:!b.current||i?void 0:!1,custom:t,presenceAffectsLayout:r,mode:l,root:h,onExitComplete:se?void 0:ye,anchorX:d,anchorY:m,children:B},V)})})},BS=K.createContext({strict:!1}),Kv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Xv=!1;function ZM(){if(Xv)return;const e={};for(const t in Kv)e[t]={isEnabled:i=>Kv[t].some(s=>!!i[s])};mS(e),Xv=!0}function OS(){return ZM(),zN()}function eR(e){const t=OS();for(const i in e)t[i]={...t[i],...e[i]};mS(t)}const tR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Vl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tR.has(e)}let HS=e=>!Vl(e);function nR(e){typeof e=="function"&&(HS=t=>t.startsWith("on")?!Vl(t):e(t))}try{nR(require("@emotion/is-prop-valid").default)}catch{}function iR(e,t,i){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(HS(r)||i===!0&&Vl(r)||!t&&!Vl(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const jl=K.createContext({});function oR(e,t){if($l(e)){const{initial:i,animate:s}=e;return{initial:i===!1||kr(i)?i:void 0,animate:kr(s)?s:void 0}}return e.inherit!==!1?t:{}}function sR(e){const{initial:t,animate:i}=oR(e,K.useContext(jl));return K.useMemo(()=>({initial:t,animate:i}),[$v(t),$v(i)])}function $v(e){return Array.isArray(e)?e.join(" "):e}const gh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qS(e,t,i){for(const s in t)!Ct(t[s])&&!ES(s,i)&&(e[s]=t[s])}function rR({transformTemplate:e},t){return K.useMemo(()=>{const i=gh();return hh(i,t,e),Object.assign({},i.vars,i.style)},[t])}function aR(e,t){const i=e.style||{},s={};return qS(s,i,e),Object.assign(s,rR(e,t)),s}function lR(e,t){const i={},s=aR(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i}const FS=()=>({...gh(),attrs:{}});function uR(e,t,i,s){const r=K.useMemo(()=>{const l=FS();return _S(l,t,CS(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};qS(l,e.style,e),r.style={...l,...r.style}}return r}const cR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yh(e){return typeof e!="string"||e.includes("-")?!1:!!(cR.indexOf(e)>-1||/[A-Z]/u.test(e))}function fR(e,t,i,{latestValues:s},r,l=!1,c){const m=(c??yh(e)?uR:lR)(t,s,r,e),h=iR(t,typeof e=="string",l),y=e!==K.Fragment?{...h,...m,ref:i}:{},{children:T}=t,x=K.useMemo(()=>Ct(T)?T.get():T,[T]);return K.createElement(e,{...y,children:x})}function dR({scrapeMotionValuesFromProps:e,createRenderState:t},i,s,r){return{latestValues:hR(i,s,r,e),renderState:t()}}function hR(e,t,i,s){const r={},l=s(e,{});for(const x in l)r[x]=bl(l[x]);let{initial:c,animate:d}=e;const m=$l(e),h=hS(e);t&&h&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let y=i?i.initial===!1:!1;y=y||c===!1;const T=y?d:c;if(T&&typeof T!="boolean"&&!Xl(T)){const x=Array.isArray(T)?T:[T];for(let _=0;_<x.length;_++){const b=sh(e,x[_]);if(b){const{transitionEnd:A,transition:w,...N}=b;for(const P in N){let I=N[P];if(Array.isArray(I)){const z=y?I.length-1:0;I=I[z]}I!==null&&(r[P]=I)}for(const P in A)r[P]=A[P]}}}return r}const YS=e=>(t,i)=>{const s=K.useContext(jl),r=K.useContext(Kl),l=()=>dR(e,t,s,r);return i?l():Hd(l)},pR=YS({scrapeMotionValuesFromProps:ph,createRenderState:gh}),mR=YS({scrapeMotionValuesFromProps:AS,createRenderState:FS}),gR=Symbol.for("motionComponentSymbol");function yR(e,t,i){const s=K.useRef(i);K.useInsertionEffect(()=>{s.current=i});const r=K.useRef(null);return K.useCallback(l=>{var d;l&&((d=e.onMount)==null||d.call(e,l)),t&&(l?t.mount(l):t.unmount());const c=s.current;if(typeof c=="function")if(l){const m=c(l);typeof m=="function"&&(r.current=m)}else r.current?(r.current(),r.current=null):c(l);else c&&(c.current=l)},[t])}const JS=K.createContext({});function Zo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vR(e,t,i,s,r,l){var I,z;const{visualElement:c}=K.useContext(jl),d=K.useContext(BS),m=K.useContext(Kl),h=K.useContext(mh),y=h.reducedMotion,T=h.skipAnimations,x=K.useRef(null),_=K.useRef(!1);s=s||d.renderer,!x.current&&s&&(x.current=s(e,{visualState:t,parent:c,props:i,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:T,isSVG:l}),_.current&&x.current&&(x.current.manuallyAnimateOnMount=!0));const b=x.current,A=K.useContext(JS);b&&!b.projection&&r&&(b.type==="html"||b.type==="svg")&&xR(x.current,i,r,A);const w=K.useRef(!1);K.useInsertionEffect(()=>{b&&w.current&&b.update(i,m)});const N=i[eS],P=K.useRef(!!N&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,N))&&((z=window.MotionHasOptimisedAnimation)==null?void 0:z.call(window,N)));return hT(()=>{_.current=!0,b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),P.current&&b.animationState&&b.animationState.animateChanges())}),K.useEffect(()=>{b&&(!P.current&&b.animationState&&b.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var q;(q=window.MotionHandoffMarkAsComplete)==null||q.call(window,N)}),P.current=!1),b.enteringChildren=void 0)}),b}function xR(e,t,i,s){const{layoutId:r,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:h,layoutCrossfade:y}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:KS(e.parent)),e.projection.setOptions({layoutId:r,layout:l,alwaysMeasureLayout:!!c||d&&Zo(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:h})}function KS(e){if(e)return e.options.allowProjection!==!1?e.projection:KS(e.parent)}function Gf(e,{forwardMotionProps:t=!1,type:i}={},s,r){s&&eR(s);const l=i?i==="svg":yh(e),c=l?mR:pR;function d(h,y){let T;const x={...K.useContext(mh),...h,layoutId:TR(h)},{isStatic:_}=x,b=sR(h),A=c(h,_);if(!_&&dT){SR();const w=ER(x);T=w.MeasureLayout,b.visualElement=vR(e,A,x,r,w.ProjectionNode,l)}return S.jsxs(jl.Provider,{value:b,children:[T&&b.visualElement?S.jsx(T,{visualElement:b.visualElement,...x}):null,fR(e,h,yR(A,b.visualElement,y),A,_,t,l)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=K.forwardRef(d);return m[gR]=e,m}function TR({layoutId:e}){const t=K.useContext(Od).id;return t&&e!==void 0?t+"-"+e:e}function SR(e,t){K.useContext(BS).strict}function ER(e){const t=OS(),{drag:i,layout:s}=t;if(!i&&!s)return{};const r={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function _R(e,t){if(typeof Proxy>"u")return Gf;const i=new Map,s=(l,c)=>Gf(l,c,e,t),r=(l,c)=>s(l,c);return new Proxy(r,{get:(l,c)=>c==="create"?s:(i.has(c)||i.set(c,Gf(c,void 0,e,t)),i.get(c))})}const bR=(e,t)=>t.isSVG??yh(e)?new nM(t):new jN(t,{allowProjection:e!==K.Fragment});class CR extends Vi{constructor(t){super(t),t.animationState||(t.animationState=aM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Xl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let AR=0;class wR extends Vi{constructor(){super(...arguments),this.id=AR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);i&&!t&&r.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const NR={animation:{Feature:CR},exit:{Feature:wR}};function Hr(e){return{point:{x:e.pageX,y:e.pageY}}}const MR=e=>t=>uh(t)&&e(t,Hr(t));function Mr(e,t,i,s){return Ur(e,t,MR(i),s)}const XS=({current:e})=>e?e.ownerDocument.defaultView:null,jv=(e,t)=>Math.abs(e-t);function RR(e,t){const i=jv(e.x,t.x),s=jv(e.y,t.y);return Math.sqrt(i**2+s**2)}const Qv=new Set(["auto","scroll"]);class $S{constructor(t,i,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Bf(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=RR(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!A)return;const{point:w}=_,{timestamp:N}=Et;this.history.push({...w,timestamp:N});const{onStart:P,onMove:I}=this.handlers;b||(P&&P(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=zf(b,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Bf(_.type==="pointercancel"?this.lastMoveEventInfo:zf(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,P),w&&w(_,P)},!uh(t))return;this.dragSnapToOrigin=l,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=r||window;const m=Hr(t),h=zf(m,this.transformPagePoint),{point:y}=h,{timestamp:T}=Et;this.history=[{...y,timestamp:T}];const{onSessionStart:x}=i;x&&x(t,Bf(h,this.history)),this.removeListeners=zr(Mr(this.contextWindow,"pointermove",this.handlePointerMove),Mr(this.contextWindow,"pointerup",this.handlePointerUp),Mr(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(t){let i=t.parentElement;for(;i;){const s=getComputedStyle(i);(Qv.has(s.overflowX)||Qv.has(s.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const i=this.scrollPositions.get(t);if(!i)return;const s=t===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:r.x-i.x,y:r.y-i.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,r),Xe.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Pi(this.updatePoint)}}function zf(e,t){return t?{point:t(e.point)}:e}function Wv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bf({point:e},t){return{point:e,delta:Wv(e,jS(t)),offset:Wv(e,DR(t)),velocity:IR(t,.1)}}function DR(e){return e[0]}function jS(e){return e[e.length-1]}function IR(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null;const r=jS(e);for(;i>=0&&(s=e[i],!(r.timestamp-s.timestamp>vn(t)));)i--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&r.timestamp-s.timestamp>vn(t)*2&&(s=e[1]);const l=ln(r.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(r.x-s.x)/l,y:(r.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function kR(e,{min:t,max:i},s){return t!==void 0&&e<t?e=s?Ze(t,e,s.min):Math.max(e,t):i!==void 0&&e>i&&(e=s?Ze(i,e,s.max):Math.min(e,i)),e}function Zv(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function UR(e,{top:t,left:i,bottom:s,right:r}){return{x:Zv(e.x,i,r),y:Zv(e.y,t,s)}}function e0(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function PR(e,t){return{x:e0(e.x,t.x),y:e0(e.y,t.y)}}function LR(e,t){let i=.5;const s=Rt(e),r=Rt(t);return r>s?i=Rr(t.min,t.max-s,e.min):s>r&&(i=Rr(e.min,e.max-r,t.min)),Dn(0,1,i)}function VR(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Td=.35;function GR(e=Td){return e===!1?e=0:e===!0&&(e=Td),{x:t0(e,"left","right"),y:t0(e,"top","bottom")}}function t0(e,t,i){return{min:n0(e,t),max:n0(e,i)}}function n0(e,t){return typeof e=="number"?e:e[t]||0}const zR=new WeakMap;class BR{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const l=T=>{i&&this.snapToCursor(Hr(T).point),this.stopAnimation()},c=(T,x)=>{const{drag:_,dragPropagation:b,onDragStart:A}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mN(_),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(N=>{let P=this.getAxisMotionValue(N).get()||0;if(Rn.test(P)){const{projection:I}=this.visualElement;if(I&&I.layout){const z=I.layout.layoutBox[N];z&&(P=Rt(z)*(parseFloat(P)/100))}}this.originPoint[N]=P}),A&&Xe.update(()=>A(T,x),!1,!0),fd(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},d=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x;const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:A,onDrag:w}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=x;if(b&&this.currentDirection===null){this.currentDirection=HR(N),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),w&&Xe.update(()=>w(T,x),!1,!0)},m=(T,x)=>{this.latestPointerEvent=T,this.latestPanInfo=x,this.stop(T,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>{const{dragSnapToOrigin:T}=this.getProps();(T||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new $S(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:XS(this.visualElement),element:this.visualElement.current})}stop(t,i){const s=t||this.latestPointerEvent,r=i||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!r||!s)return;const{velocity:c}=r;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Xe.postRender(()=>d(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,i,s){const{drag:r}=this.getProps();if(!s||!hl(t,r,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=kR(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,r=this.constraints;t&&Zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=UR(s.layoutBox,t):this.constraints=!1,this.elastic=GR(i),r!==this.constraints&&!Zo(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Mn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=VR(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Zo(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const l=FN(s,r.root,this.visualElement.getTransformPagePoint());let c=PR(r.layout.layoutBox,l);if(i){const d=i(ON(c));this.hasMutatedConstraints=!!d,d&&(c=yS(d))}return c}startAnimation(t){const{drag:i,dragMomentum:s,dragElastic:r,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},h=Mn(y=>{if(!hl(y,i,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const x=r?200:1e6,_=r?40:1e7,b={type:"inertia",velocity:s?t[y]:0,bounceStiffness:x,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,b)});return Promise.all(h).then(d)}startAxisValueAnimation(t,i){const s=this.getAxisMotionValue(t);return fd(this.visualElement,t),s.start(oh(t,s,0,i,this.visualElement,!1))}stopAnimation(){Mn(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[i];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Mn(i=>{const{drag:s}=this.getProps();if(!hl(i,s,this.currentDirection))return;const{projection:r}=this.visualElement,l=this.getAxisMotionValue(i);if(r&&r.layout){const{min:c,max:d}=r.layout.layoutBox[i],m=l.get()||0;l.set(t[i]-Ze(c,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Zo(i)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Mn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();r[c]=LR({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Mn(c=>{if(!hl(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:h}=this.constraints[c];d.set(Ze(m,h,r[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;zR.set(this.visualElement,this);const t=this.visualElement.current,i=Mr(t,"pointerdown",h=>{const{drag:y,dragListener:T=!0}=this.getProps(),x=h.target,_=x!==t&&SN(x);y&&T&&!_&&this.start(h)});let s;const r=()=>{const{dragConstraints:h}=this.getProps();Zo(h)&&h.current&&(this.constraints=this.resolveRefConstraints(),s||(s=OR(t,h.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Xe.read(r);const d=Ur(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:y})=>{this.isDragging&&y&&(Mn(T=>{const x=this.getAxisMotionValue(T);x&&(this.originPoint[T]+=h[T].translate,x.set(x.get()+h[T].translate))}),this.visualElement.render())}));return()=>{d(),i(),c(),m&&m(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:l=!1,dragElastic:c=Td,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:s,dragPropagation:r,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function i0(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function OR(e,t,i){const s=cv(e,i0(i)),r=cv(t,i0(i));return()=>{s(),r()}}function hl(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function HR(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class qR extends Vi{constructor(t){super(t),this.removeGroupControls=un,this.removeListeners=un,this.controls=new BR(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}update(){const{dragControls:t}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};t!==i&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Of=e=>(t,i)=>{e&&Xe.update(()=>e(t,i),!1,!0)};class FR extends Vi{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(t){this.session=new $S(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:XS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Of(t),onStart:Of(i),onMove:Of(s),onEnd:(l,c)=>{delete this.session,r&&Xe.postRender(()=>r(l,c))}}}mount(){this.removePointerDownListener=Mr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Hf=!1;class YR extends K.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s,layoutId:r}=this.props,{projection:l}=t;l&&(i.group&&i.group.add(l),s&&s.register&&r&&s.register(l),Hf&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:s,drag:r,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,t.layoutDependency!==i&&c.setOptions({...c.options,layoutDependency:i}),Hf=!0,r||t.layoutDependency!==i||i===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Xe.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),lh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:r}=t;Hf=!0,r&&(r.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function QS(e){const[t,i]=zS(),s=K.useContext(Od);return S.jsx(YR,{...e,layoutGroup:s,switchLayoutGroup:K.useContext(JS),isPresent:t,safeToRemove:i})}const JR={pan:{Feature:FR},drag:{Feature:qR,ProjectionNode:GS,MeasureLayout:QS}};function o0(e,t,i){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",i==="Start");const r="onHover"+i,l=s[r];l&&Xe.postRender(()=>l(t,Hr(t)))}class KR extends Vi{mount(){const{current:t}=this.node;t&&(this.unmount=yN(t,(i,s)=>(o0(this.node,s,"Start"),r=>o0(this.node,r,"End"))))}unmount(){}}class XR extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(Ur(this.node.current,"focus",()=>this.onFocus()),Ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s0(e,t,i){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",i==="Start");const r="onTap"+(i==="End"?"":i),l=s[r];l&&Xe.postRender(()=>l(t,Hr(t)))}class $R extends Vi{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:i,propagate:s}=this.node.props;this.unmount=_N(t,(r,l)=>(s0(this.node,l,"Start"),(c,{success:d})=>s0(this.node,c,d?"End":"Cancel")),{useGlobalTarget:i,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const Sd=new WeakMap,qf=new WeakMap,jR=e=>{const t=Sd.get(e.target);t&&t(e)},QR=e=>{e.forEach(jR)};function WR({root:e,...t}){const i=e||document;qf.has(i)||qf.set(i,{});const s=qf.get(i),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(QR,{root:e,...t})),s[r]}function ZR(e,t,i){const s=WR(t);return Sd.set(e,i),s.observe(e),()=>{Sd.delete(e),s.unobserve(e)}}const eD={some:0,all:1};class tD extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:s,amount:r="some",once:l}=t,c={root:i?i.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:eD[r]},d=m=>{const{isIntersecting:h}=m;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),x=h?y:T;x&&x(m)};return ZR(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(nD(t,i))&&this.startObserver()}unmount(){}}function nD({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const iD={inView:{Feature:tD},tap:{Feature:$R},focus:{Feature:XR},hover:{Feature:KR}},oD={layout:{ProjectionNode:GS,MeasureLayout:QS}},sD={...NR,...iD,...JR,...oD},We=_R(sD,bR),rD=({activeTab:e,setActiveTab:t,onAdd:i,onSurprise:s,onImport:r,onSettings:l,notifications:c,onMarkRead:d,onMarkAllRead:m,isSaved:h})=>{const[y,T]=K.useState(!1),x=c.filter(b=>!b.read).length,_=[{id:"movies",label:"Movies"},{id:"series",label:"Series"},{id:"favorites",label:"Favorites"},{id:"history",label:"History"},{id:"suggestions",label:"Suggestions"},{id:"stats",label:"Stats"}];return S.jsxs("nav",{className:"fixed top-0 left-0 right-0 h-[60px] bg-background/80 backdrop-blur-xl border-b border-white/5 z-[100] flex items-center justify-between px-6",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(fo,{size:20,className:"text-accent"}),S.jsx("h1",{className:"font-bebas text-[28px] tracking-[3px] text-white leading-none",children:"REELTRACK"})]}),S.jsx("div",{className:"hidden lg:flex items-center gap-8",children:_.map(b=>S.jsxs("button",{onClick:()=>t(b.id),className:Nt("text-[13px] font-bold uppercase tracking-[0.1em] transition-all relative py-2",e===b.id?"text-accent":"text-text-secondary hover:text-white"),children:[b.label,e===b.id&&S.jsx(We.div,{layoutId:"navTab",className:"absolute bottom-0 left-0 right-0 h-[2px] bg-accent rounded-full"})]},b.id))}),S.jsxs("div",{className:"flex items-center gap-4",children:[h&&S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-1.5 text-green text-[10px] font-bold uppercase tracking-widest",children:S.jsx("span",{children:" Saved"})}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("button",{onClick:s,title:"Surprise Me",className:"p-2 text-text-secondary hover:text-accent transition-colors",children:S.jsx(BC,{size:18})}),S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>T(!y),className:Nt("p-2 text-text-secondary hover:text-accent transition-colors relative",y&&"text-accent"),children:[S.jsx(Py,{size:18}),x>0&&S.jsx("span",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-accent text-background text-[9px] font-bold rounded-full flex items-center justify-center border border-background",children:x})]}),S.jsx(co,{children:y&&S.jsxs(We.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute top-full right-0 mt-3 w-[280px] glass-panel rounded-2xl overflow-hidden z-[110]",children:[S.jsxs("div",{className:"p-4 border-b border-white/5 flex items-center justify-between",children:[S.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Notifications"}),S.jsx("button",{onClick:m,className:"text-[9px] font-bold uppercase tracking-widest text-accent hover:underline",children:"Mark all read"})]}),S.jsx("div",{className:"max-h-[400px] overflow-y-auto custom-scrollbar",children:c.length>0?S.jsx("div",{className:"p-2 space-y-1",children:c.map(b=>S.jsxs("div",{onClick:()=>{d(b.id),T(!1)},className:Nt("p-3 rounded-xl transition-all cursor-pointer flex gap-3",b.read?"opacity-50":"bg-white/5 hover:bg-white/10"),children:[S.jsx("div",{className:"mt-1",children:b.type==="UNRATED_WATCHED"?S.jsx(yn,{size:14,className:"text-accent"}):S.jsx(Py,{size:14,className:"text-text-secondary"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-[11px] leading-relaxed",children:b.message}),S.jsx("p",{className:"text-[9px] text-text-muted mt-1",children:new Date(b.createdAt).toLocaleDateString()})]})]},b.id))}):S.jsx("div",{className:"p-10 text-center text-text-muted text-[10px] uppercase tracking-widest",children:"No notifications"})})]})})]}),S.jsx("button",{onClick:r,title:"Import from Stremio",className:"p-2 text-text-secondary hover:text-accent transition-colors",children:S.jsx(Xx,{size:18})}),S.jsx("button",{onClick:l,title:"Settings",className:"p-2 text-text-secondary hover:text-accent transition-colors",children:S.jsx(lA,{size:18})})]}),S.jsxs("button",{onClick:i,className:"bg-accent text-background px-4 py-1.5 rounded-full text-[11px] font-bold uppercase tracking-widest hover:brightness-110 transition-all flex items-center gap-2",children:[S.jsx(hs,{size:14}),S.jsx("span",{children:"Add"})]})]})]})},aD=({search:e,setSearch:t,type:i,setType:s,status:r,setStatus:l,genre:c,setGenre:d,star:m,setStar:h,sortBy:y,setSortBy:T,genres:x,totalCount:_,filteredCount:b,activeTab:A,suggestions:w=[],isSearchingSuggestions:N=!1,onSelectSuggestion:P})=>{const[I,z]=dC.useState(!1),q=A==="history",L=!1,U=A==="history",B=[{id:"search",label:`Search: ${e}`,active:e!=="",clear:()=>t("")},{id:"type",label:`Type: ${i}`,active:i!=="all"&&q,clear:()=>s("all")},{id:"status",label:`Status: ${r.replace(/_/g," ")}`,active:r!=="all"&&L,clear:()=>l("all")},{id:"genre",label:`Genre: ${c}`,active:c!=="all",clear:()=>d("all")},{id:"star",label:`Rating: ${m}+`,active:m!=="all",clear:()=>h("all")}].filter(V=>V.active);return S.jsxs("div",{className:"sticky top-[60px] left-0 right-0 h-auto min-h-[52px] bg-elevated border-b border-white/5 z-40 flex flex-col px-6 py-2 gap-2",children:[S.jsxs("div",{className:"flex items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[S.jsxs("div",{className:"relative w-full max-w-[240px] group",children:[S.jsx(Gd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted group-focus-within:text-accent transition-colors",size:14}),S.jsx("input",{type:"text",placeholder:"Search titles...",value:e,onChange:V=>t(V.target.value),onFocus:()=>z(!0),onBlur:()=>setTimeout(()=>z(!1),200),className:"bg-white/5 border border-white/5 rounded-lg pl-9 pr-3 py-1.5 text-xs focus:outline-none focus:border-accent/40 w-full transition-all"}),S.jsx(co,{children:I&&e.length>=2&&(w.length>0||N)&&S.jsx(We.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 right-0 mt-2 bg-elevated border border-white/10 rounded-xl shadow-2xl overflow-hidden z-[100] backdrop-blur-xl",children:N?S.jsxs("div",{className:"p-4 flex items-center justify-center text-text-muted gap-2 text-[10px] font-bold uppercase tracking-widest",children:[S.jsx(ls,{size:12,className:"animate-spin text-accent"})," Searching..."]}):S.jsx("div",{className:"flex flex-col",children:w.map(V=>S.jsxs("button",{onClick:()=>P==null?void 0:P(V),className:"flex items-center gap-3 p-2.5 hover:bg-white/5 transition-colors text-left border-b border-white/5 last:border-0",children:[V.poster_path?S.jsx("img",{src:`https://image.tmdb.org/t/p/w92${V.poster_path}`,className:"w-8 h-12 rounded object-cover shadow-lg",alt:""}):S.jsx("div",{className:"w-8 h-12 rounded bg-white/5 flex items-center justify-center text-white/10",children:V.media_type==="movie"?S.jsx(fo,{size:12}):S.jsx(Jl,{size:12})}),S.jsxs("div",{className:"flex flex-col min-w-0",children:[S.jsx("span",{className:"text-[11px] font-bold text-white truncate",children:V.title||V.name}),S.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[S.jsx("span",{className:"text-[9px] text-text-muted font-bold",children:new Date(V.release_date||V.first_air_date||"").getFullYear()||"N/A"}),V.vote_average>0&&S.jsxs("div",{className:"flex items-center gap-0.5 text-yellow-400",children:[S.jsx(yn,{size:8,fill:"currentColor"}),S.jsx("span",{className:"text-[9px] font-bold",children:V.vote_average.toFixed(1)})]})]})]})]},V.id))})})})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[q&&S.jsxs("div",{className:"relative group",children:[S.jsxs("select",{value:i,onChange:V=>s(V.target.value),className:"bg-white/5 border border-white/5 rounded-lg pl-3 pr-8 py-1.5 text-[10px] font-bold uppercase tracking-wider focus:outline-none focus:border-accent/40 cursor-pointer hover:bg-white/10 appearance-none transition-all",children:[S.jsx("option",{value:"all",children:"Type: All"}),S.jsx("option",{value:"movie",children:"Movies"}),S.jsx("option",{value:"series",children:"Series"})]}),S.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted group-hover:text-accent transition-colors",children:S.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M1 1l4 4 4-4"})})})]}),L,U&&S.jsxs("div",{className:"relative group",children:[S.jsxs("select",{value:m,onChange:V=>h(V.target.value==="all"?"all":parseFloat(V.target.value)),className:"bg-white/5 border border-white/5 rounded-lg pl-3 pr-8 py-1.5 text-[10px] font-bold uppercase tracking-wider focus:outline-none focus:border-accent/40 cursor-pointer hover:bg-white/10 appearance-none transition-all",children:[S.jsx("option",{value:"all",children:"Rating: All"}),S.jsx("option",{value:"5",children:"5 Stars"}),S.jsx("option",{value:"4.5",children:"4.5+ Stars"}),S.jsx("option",{value:"4",children:"4+ Stars"}),S.jsx("option",{value:"3.5",children:"3.5+ Stars"}),S.jsx("option",{value:"3",children:"3+ Stars"}),S.jsx("option",{value:"2.5",children:"2.5+ Stars"}),S.jsx("option",{value:"2",children:"2+ Stars"}),S.jsx("option",{value:"1",children:"1+ Star"})]}),S.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted group-hover:text-accent transition-colors",children:S.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M1 1l4 4 4-4"})})})]}),S.jsxs("div",{className:"relative group",children:[S.jsxs("select",{value:c,onChange:V=>d(V.target.value),className:"bg-white/5 border border-white/5 rounded-lg pl-3 pr-8 py-1.5 text-[10px] font-bold uppercase tracking-wider focus:outline-none focus:border-accent/40 cursor-pointer hover:bg-white/10 appearance-none transition-all max-w-[140px]",children:[S.jsx("option",{value:"all",children:"Genre: All"}),x.sort().map(V=>S.jsx("option",{value:V,children:V},V))]}),S.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted group-hover:text-accent transition-colors",children:S.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M1 1l4 4 4-4"})})})]}),S.jsxs("div",{className:"relative group",children:[S.jsxs("select",{value:y,onChange:V=>T(V.target.value),className:"bg-white/5 border border-white/5 rounded-lg pl-3 pr-8 py-1.5 text-[10px] font-bold uppercase tracking-wider focus:outline-none focus:border-accent/40 cursor-pointer hover:bg-white/10 appearance-none transition-all",children:[S.jsx("option",{value:"smartScore",children:"Smart Score "}),S.jsx("option",{value:"dateAdded",children:"Date Added "}),S.jsx("option",{value:"rating",children:"Rating "}),S.jsx("option",{value:"title",children:"Title A-Z"}),S.jsx("option",{value:"year",children:"Year "}),S.jsx("option",{value:"recentlyWatched",children:"Recently Watched"})]}),S.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-text-muted group-hover:text-accent transition-colors",children:S.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M1 1l4 4 4-4"})})})]})]})]}),S.jsxs("div",{className:"text-[10px] font-bold uppercase tracking-widest text-text-muted whitespace-nowrap",children:["Showing ",S.jsx("span",{className:"text-accent",children:b})," of ",S.jsx("span",{className:"text-white",children:_})]})]}),B.length>0&&S.jsxs("div",{className:"flex items-center gap-2 flex-wrap pb-1",children:[B.map(V=>S.jsxs("div",{className:"flex items-center gap-1.5 bg-accent/10 border border-accent/20 text-accent px-2 py-0.5 rounded-full text-[9px] font-bold uppercase tracking-wider",children:[S.jsx("span",{children:V.label}),S.jsx("button",{onClick:V.clear,className:"hover:text-white transition-colors",children:S.jsx(Gr,{size:10})})]},V.id)),S.jsx("button",{onClick:()=>{t(""),s("all"),l("all"),d("all")},className:"text-[9px] font-bold uppercase tracking-widest text-text-muted hover:text-white transition-colors ml-2",children:"Clear All"})]})]})},lD=({entry:e,onEdit:t,onDelete:i,onToggleFavorite:s,onToggleWatched:r,onUpdateEpisode:l,onQuickRate:c,onFindSimilar:d,onClick:m,index:h})=>{const[y,T]=K.useState(!1),x=e.status==="watched",_=e.type==="series";x&&e.rating.overall;const b=(A,w)=>{A.stopPropagation(),c==null||c(e.id,w),T(!0),setTimeout(()=>T(!1),1500)};return S.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Math.min(h*.05,1),duration:.6,ease:[.22,1,.36,1]},className:"group relative flex flex-col w-full cursor-pointer",onClick:()=>m==null?void 0:m(e),children:[S.jsxs("div",{className:"relative aspect-[2/3] rounded-2xl overflow-hidden bg-card border border-white/5 shadow-2xl transition-all duration-500 group-hover:scale-[1.02] group-hover:shadow-accent/20 group-hover:border-accent/30",children:[e.poster?S.jsx("img",{src:e.poster,alt:e.title,loading:"lazy",className:Nt("w-full h-full object-cover transition-all duration-700 group-hover:brightness-50",!x&&"brightness-[0.9]"),referrerPolicy:"no-referrer"}):S.jsx("div",{className:"w-full h-full bg-gradient-to-br from-elevated to-background flex items-center justify-center p-4 text-center",children:S.jsx("span",{className:"font-bebas text-5xl text-white/10",children:e.title.substring(0,2).toUpperCase()})}),S.jsx("button",{onClick:A=>{A.stopPropagation(),d==null||d(e)},title:`Find similar ${e.type}s`,className:"absolute top-3 left-3 z-[45] px-2.5 py-1 rounded-full bg-black/65 backdrop-blur-md text-white text-[10px] font-bold uppercase tracking-wider border border-white/5 hover:bg-accent hover:text-black transition-all",children:" Similar"}),(e.vote_average||0)>0&&S.jsxs("div",{className:"absolute top-3 right-3 z-[45] bg-black/60 backdrop-blur-md px-1.5 py-0.5 rounded text-[10px] font-bold flex items-center gap-1 border border-white/10 text-white",children:[S.jsx(yn,{size:10,className:"text-yellow-400 fill-yellow-400"}),(e.vote_average||0).toFixed(1)]}),e.rewatchCount>0&&S.jsxs("div",{className:"absolute top-10 left-3 z-[45] px-1.5 py-0.5 rounded bg-blue/80 backdrop-blur-sm text-white text-[9px] font-bold",children:[" ",e.rewatchCount]}),S.jsxs("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-all duration-300 flex flex-col items-center justify-center p-4 space-y-4 z-40",children:[S.jsxs("div",{className:"flex flex-col w-full gap-2",children:[S.jsxs("button",{onClick:A=>{A.stopPropagation();const w=e.streamingUrl||`https://www.google.com/search?q=${encodeURIComponent(e.title)}+stremio`;window.open(w,"_blank")},className:"w-full bg-accent text-black py-2.5 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:brightness-110 transition-all flex items-center justify-center gap-2",children:[S.jsx(Yl,{size:12,fill:"currentColor"})," Watch Now"]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:A=>{A.stopPropagation(),t(e)},className:"flex-1 bg-white/10 hover:bg-white/20 py-2 rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all",children:"Edit"}),S.jsx("button",{onClick:A=>{A.stopPropagation(),i(e.id)},className:"flex-1 bg-red/10 hover:bg-red/20 text-red-400 py-2 rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all",children:"Delete"})]})]}),x&&S.jsxs("div",{className:"pt-2 border-t border-white/10 w-full flex flex-col items-center gap-1",children:[S.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(A=>{const w=e.rating.overall||0,N=w>=A,P=w>=A-.5&&w<A;return S.jsxs("button",{onClick:I=>b(I,A),onContextMenu:I=>{I.preventDefault(),b(I,A-.5)},className:"hover:scale-125 transition-transform relative",title:"Left click for full star, Right click for half star",children:[S.jsx(yn,{size:16,className:Nt(N?"text-accent fill-accent":P?"text-accent":"text-white/20")}),P&&S.jsx("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:S.jsx(yn,{size:16,className:"text-accent fill-accent"})})]},A)})}),S.jsx(co,{children:y&&S.jsx(We.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-[9px] text-accent font-bold uppercase tracking-widest",children:" Saved"})})]})]})]}),S.jsxs("div",{className:"mt-3 space-y-1.5 px-1",children:[S.jsx("h3",{className:"font-crimson text-[16px] font-semibold leading-tight line-clamp-2 text-text-primary group-hover:text-accent transition-colors",children:e.title}),S.jsxs("div",{className:"flex items-center justify-between text-[11px] text-text-secondary",children:[S.jsx("span",{children:e.year}),x&&e.rating.overall?S.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(A=>{const w=e.rating.overall,N=w>=A,P=w>=A-.5&&w<A;return S.jsxs("div",{className:"relative",children:[S.jsx(yn,{size:10,className:Nt(N?"text-accent fill-accent":P?"text-accent":"text-white/10")}),P&&S.jsx("div",{className:"absolute inset-0 overflow-hidden w-1/2",children:S.jsx(yn,{size:10,className:"text-accent fill-accent"})})]},A)})}):S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx("div",{className:Nt("w-1.5 h-1.5 rounded-full",e.status==="watched"?"bg-green":e.status==="watching"?"bg-blue":e.status==="want_to_watch"?"bg-accent":"bg-red")}),S.jsx("span",{className:"uppercase tracking-wider text-[9px] font-bold",children:e.status.replace(/_/g," ")})]})]}),_&&e.status==="watching"&&S.jsxs("div",{className:"pt-2 flex items-center justify-between border-t border-white/5",children:[S.jsxs("span",{className:"text-[10px] font-bold text-text-muted uppercase tracking-widest",children:["S",e.currentSeason," E",e.currentEpisode]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:A=>{A.stopPropagation(),l==null||l(e.id,-1)},className:"w-5 h-5 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors text-text-secondary",children:S.jsx($x,{size:10})}),S.jsx("button",{onClick:A=>{A.stopPropagation(),l==null||l(e.id,1)},className:"w-5 h-5 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors text-text-secondary",children:S.jsx(hs,{size:10})})]})]})]})]})},uD=({entries:e,onEdit:t,onDelete:i,onToggleFavorite:s,onToggleWatched:r,onUpdateEpisode:l,onQuickRate:c,onFindSimilar:d,onAdd:m,onClick:h,activeTab:y,isSearching:T=!1})=>e.length===0?S.jsx("div",{className:"flex flex-col items-center justify-center py-20 px-6 text-center animate-fade-in",children:T?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6 text-text-muted",children:S.jsx(Gd,{size:40})}),S.jsx("h2",{className:"text-2xl font-bebas tracking-wide mb-2",children:"No titles match your search"}),S.jsx("p",{className:"text-text-muted max-w-md",children:"Try adjusting your filters or search terms to find what you're looking for."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6 text-accent",children:S.jsx(fo,{size:40})}),S.jsx("h2",{className:"text-2xl font-bebas tracking-wide mb-2",children:"Your collection is empty"}),S.jsx("p",{className:"text-text-muted max-w-md mb-8",children:"Start building your cinematic library by adding your first movie or series."}),m&&S.jsxs("button",{onClick:m,className:"bg-accent text-background px-6 py-2 rounded-full font-bold uppercase tracking-widest flex items-center gap-2",children:[S.jsx(hs,{size:20}),"Add Your First Title"]})]})}):S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-6 p-6",children:e.map((x,_)=>S.jsx(lD,{entry:x,onEdit:t,onDelete:i,onToggleFavorite:s,onToggleWatched:r,onUpdateEpisode:l,onQuickRate:c,onFindSimilar:d,onClick:h,index:_},x.id))}),qr="https://api.themoviedb.org/3";async function Pr(e,t){const i=await fetch(`${qr}/search/multi?api_key=${t}&query=${encodeURIComponent(e)}`);if(!i.ok)throw new Error("TMDB Search failed");return(await i.json()).results.filter(r=>r.media_type==="movie"||r.media_type==="tv")}async function cD(e,t,i){const s=await fetch(`${qr}/${t}/${e}?api_key=${i}`);if(!s.ok)throw new Error("TMDB Details failed");return s.json()}async function fD(e,t,i){const s=await fetch(`${qr}/${t}/${e}/external_ids?api_key=${i}`);if(!s.ok)throw new Error("TMDB External IDs failed");return s.json()}async function WS(e,t,i){const s=await fetch(`${qr}/${t}/${e}/credits?api_key=${i}`);if(!s.ok)throw new Error("TMDB Credits failed");return s.json()}async function dD(e,t,i){const s=await fetch(`${qr}/${t}/${e}/recommendations?api_key=${i}`);if(!s.ok)throw new Error("TMDB Recommendations failed");return(await s.json()).results.map(l=>({id:l.id,title:l.title||l.name,year:new Date(l.release_date||l.first_air_date).getFullYear(),poster:l.poster_path?`https://image.tmdb.org/t/p/w500${l.poster_path}`:"",backdrop:l.backdrop_path?`https://image.tmdb.org/t/p/w780${l.backdrop_path}`:"",type:t==="movie"?"movie":"series",overview:l.overview,rating:l.vote_average}))}async function hD(e,t,i){const s=await WS(e,t,i),r=t==="movie"?s.crew.find(c=>c.job==="Director"):s.crew.find(c=>c.job==="Executive Producer")||s.crew[0],l=s.cast.slice(0,10).map(c=>({id:c.id,name:c.name,character:c.character,profile:c.profile_path?`https://image.tmdb.org/t/p/w185${c.profile_path}`:null}));return{director:r?{name:r.name,profile:r.profile_path?`https://image.tmdb.org/t/p/w185${r.profile_path}`:null}:null,cast:l}}async function Lr(e,t,i){var h,y,T,x;const[s,r,l]=await Promise.all([cD(e,t,i),fD(e,t,i),WS(e,t,i)]),c=t==="movie"?((h=l.crew.find(_=>_.job==="Director"))==null?void 0:h.name)||"":((T=(y=s.created_by)==null?void 0:y[0])==null?void 0:T.name)||"",d=l.cast.slice(0,5).map(_=>_.name),m=r.imdb_id;return{title:s.title||s.name,year:new Date(s.release_date||s.first_air_date).getFullYear(),genres:s.genres.map(_=>_.name),poster:s.poster_path?`https://image.tmdb.org/t/p/w500${s.poster_path}`:"",description:s.overview,director:c,cast:d,runtime:s.runtime||((x=s.episode_run_time)==null?void 0:x[0])||0,seasons:s.number_of_seasons||0,tmdbId:e,imdbId:m,vote_average:s.vote_average,streamingUrl:m?`stremio:///detail/${t==="movie"?"movie":"series"}/${m}`:""}}async function r0(e,t,i){const r=(await Pr(e,i)).find(l=>(l.title||l.name)===e);return r?Lr(r.id,t,i):null}const pD=({isOpen:e,onClose:t,onSave:i,editingEntry:s,tmdbApiKey:r,onToast:l})=>{var I,z,q,L;const[c,d]=K.useState("details"),[m,h]=K.useState({}),[y,T]=K.useState([]),[x,_]=K.useState(!1);K.useEffect(()=>{h(s||{type:"movie",status:"want_to_watch",rating:{story:null,acting:null,visuals:null,overall:null},rewatchCount:0,currentSeason:1,currentEpisode:1,genres:[],cast:[],tags:[],isFavorite:!1,isPinned:!1,notifiedUnrated:!1,tmdbPopularity:0,dateAdded:new Date().toISOString()}),d("details")},[s,e]);const b=async()=>{if(m.title){if(!r){l("info","Add your TMDB API key in Settings ");return}_(!0);try{const U=await Pr(m.title,r);T(U.slice(0,5))}catch{l("error","Failed to search TMDB")}finally{_(!1)}}},A=async U=>{T([]),l("info","Fetching full metadata...");try{const B=await Lr(U.id,U.media_type,r);h(V=>({...V,...B,type:U.media_type==="tv"?"series":"movie"})),l("success","Metadata fetched ")}catch{l("error","Failed to fetch full metadata")}},w=U=>{const B=[U.story,U.acting,U.visuals].filter(V=>V!==null);return B.length===0?null:B.reduce((V,se)=>V+se,0)/B.length},N=(U,B)=>{const V={...m.rating,[U]:B};V.overall=w(V),h(se=>({...se,rating:V}))},P=()=>{if(!m.title){l("error","Title is required");return}i({...m,id:m.id||Qn(),dateAdded:m.dateAdded||new Date().toISOString()})};return e?S.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center p-0 sm:p-6",children:[S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-background/80 backdrop-blur-md"}),S.jsxs(We.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"relative w-full max-w-2xl bg-card border-t sm:border border-white/10 rounded-t-3xl sm:rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[S.jsxs("div",{className:"px-6 py-4 border-b border-white/5 flex items-center justify-between bg-white/5",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>d("details"),className:Nt("text-sm font-bold uppercase tracking-widest transition-all",c==="details"?"text-accent":"text-text-secondary hover:text-text-primary"),children:"Details"}),S.jsx("button",{onClick:()=>d("take"),className:Nt("text-sm font-bold uppercase tracking-widest transition-all",c==="take"?"text-accent":"text-text-secondary hover:text-text-primary"),children:"My Take"})]}),S.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:S.jsx(Gr,{size:20})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-gradient-to-b from-card to-background",children:c==="details"?S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-accent/60",children:"Title"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx("input",{type:"text",value:m.title||"",onChange:U=>h({...m,title:U.target.value}),className:"input-field w-full bg-white/5 border-white/10 focus:border-accent/50 placeholder:text-white/20",placeholder:"Enter movie or series title..."}),S.jsx(co,{children:y.length>0&&S.jsx(We.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 glass-panel rounded-2xl overflow-hidden z-[110] shadow-2xl border border-white/10",children:y.map(U=>S.jsxs("button",{onClick:()=>A(U),className:"w-full px-4 py-3 text-left hover:bg-accent/10 flex items-center gap-4 border-b border-white/5 last:border-0 transition-colors group",children:[S.jsx("div",{className:"w-10 h-14 shrink-0 rounded overflow-hidden bg-white/5 border border-white/10",children:U.poster_path?S.jsx("img",{src:`https://image.tmdb.org/t/p/w92${U.poster_path}`,className:"w-full h-full object-cover"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-[8px] font-bebas opacity-30",children:"NO POSTER"})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-bold group-hover:text-accent transition-colors",children:U.title||U.name}),S.jsxs("div",{className:"text-[10px] text-text-secondary uppercase tracking-wider",children:[U.media_type,"  ",new Date(U.release_date||U.first_air_date).getFullYear()||"N/A"]})]})]},U.id))})})]}),S.jsxs("button",{onClick:b,disabled:x,className:"btn-secondary flex items-center gap-2 px-4 shrink-0 border-accent/20 hover:border-accent/50",children:[x?S.jsx(ls,{size:18,className:"animate-spin text-accent"}):S.jsx(Gd,{size:18,className:"text-accent"}),S.jsx("span",{className:"hidden sm:inline",children:"Fetch Metadata"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-accent/60",children:"Type"}),S.jsxs("div",{className:"flex bg-white/5 p-1 rounded-xl border border-white/5",children:[S.jsxs("button",{onClick:()=>h({...m,type:"movie"}),className:Nt("flex-1 py-2 rounded-lg text-[10px] font-bold tracking-widest transition-all flex items-center justify-center gap-2",m.type==="movie"?"bg-accent text-background shadow-lg":"text-text-secondary hover:text-text-primary"),children:[S.jsx(fo,{size:14})," MOVIE"]}),S.jsxs("button",{onClick:()=>h({...m,type:"series"}),className:Nt("flex-1 py-2 rounded-lg text-[10px] font-bold tracking-widest transition-all flex items-center justify-center gap-2",m.type==="series"?"bg-accent text-background shadow-lg":"text-text-secondary hover:text-text-primary"),children:[S.jsx(Jl,{size:14})," SERIES"]})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-accent/60",children:"Status"}),S.jsxs("select",{value:m.status,onChange:U=>h({...m,status:U.target.value}),className:"input-field w-full text-xs bg-white/5 border-white/10 appearance-none cursor-pointer",children:[S.jsx("option",{value:"want_to_watch",children:"Watchlist"}),S.jsx("option",{value:"watching",children:"Watching"}),S.jsx("option",{value:"watched",children:"Watched"}),S.jsx("option",{value:"dropped",children:"Dropped"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Year"}),S.jsx("input",{type:"number",value:m.year||"",onChange:U=>h({...m,year:parseInt(U.target.value)}),className:"input-field w-full"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Runtime (min)"}),S.jsx("input",{type:"number",value:m.runtime||"",onChange:U=>h({...m,runtime:parseInt(U.target.value)}),className:"input-field w-full"})]})]}),m.type==="series"&&S.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-white/5 rounded-2xl",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase text-text-secondary",children:"Seasons"}),S.jsx("input",{type:"number",value:m.seasons||0,onChange:U=>h({...m,seasons:parseInt(U.target.value)}),className:"input-field w-full text-center"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase text-text-secondary",children:"Current S"}),S.jsx("input",{type:"number",value:m.currentSeason||1,onChange:U=>h({...m,currentSeason:parseInt(U.target.value)}),className:"input-field w-full text-center"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase text-text-secondary",children:"Current E"}),S.jsx("input",{type:"number",value:m.currentEpisode||1,onChange:U=>h({...m,currentEpisode:parseInt(U.target.value)}),className:"input-field w-full text-center"})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Genres (comma separated)"}),S.jsx("input",{type:"text",value:((I=m.genres)==null?void 0:I.join(", "))||"",onChange:U=>h({...m,genres:U.target.value.split(",").map(B=>B.trim()).filter(Boolean)}),className:"input-field w-full"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Poster URL"}),S.jsxs("div",{className:"flex gap-4",children:[m.poster&&S.jsx("img",{src:m.poster,className:"w-16 h-24 rounded-lg object-cover border border-white/10"}),S.jsx("input",{type:"text",value:m.poster||"",onChange:U=>h({...m,poster:U.target.value}),className:"input-field flex-1",placeholder:"https://..."})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Description"}),S.jsx("textarea",{value:m.description||"",onChange:U=>h({...m,description:U.target.value}),className:"input-field w-full h-24 resize-none"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"IMDb ID"}),S.jsx("input",{type:"text",value:m.imdbId||"",onChange:U=>h({...m,imdbId:U.target.value}),className:"input-field w-full",placeholder:"tt1234567"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Streaming URL"}),S.jsx("input",{type:"text",value:m.streamingUrl||"",onChange:U=>h({...m,streamingUrl:U.target.value}),className:"input-field w-full",placeholder:"stremio:///..."})]})]})]}):S.jsxs("div",{className:"space-y-8",children:[S.jsxs("div",{className:"space-y-6",children:[S.jsx("h4",{className:"text-sm font-bold uppercase tracking-widest text-accent",children:"Ratings"}),[{key:"story",label:"Story"},{key:"acting",label:"Acting"},{key:"visuals",label:"Visuals"}].map(U=>{var B,V;return S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[S.jsx("span",{children:U.label}),S.jsxs("span",{className:"text-accent",children:[((B=m.rating)==null?void 0:B[U.key])||0,"/10"]})]}),S.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:((V=m.rating)==null?void 0:V[U.key])||0,onChange:se=>N(U.key,parseFloat(se.target.value)),className:"w-full accent-accent bg-white/10 rounded-lg h-2 appearance-none cursor-pointer"})]},U.key)}),S.jsxs("div",{className:"bg-accent/10 border border-accent/20 p-6 rounded-2xl text-center",children:[S.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-accent mb-1",children:"Overall Score"}),S.jsx("div",{className:"text-4xl font-bebas text-accent",children:(z=m.rating)!=null&&z.overall?m.rating.overall.toFixed(1):""})]})]}),S.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-2xl",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(mD,{size:20,className:"text-accent"}),S.jsx("span",{className:"text-sm font-bold",children:"Rewatched"})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:()=>h({...m,rewatchCount:Math.max(0,(m.rewatchCount||0)-1)}),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10",children:S.jsx($x,{size:16})}),S.jsx("span",{className:"font-bebas text-2xl w-8 text-center",children:m.rewatchCount||0}),S.jsx("button",{onClick:()=>h({...m,rewatchCount:(m.rewatchCount||0)+1}),className:"p-2 bg-white/5 rounded-lg hover:bg-white/10",children:S.jsx(hs,{size:16})})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Personal Note"}),S.jsx("textarea",{value:m.personalNote||"",onChange:U=>h({...m,personalNote:U.target.value}),className:"input-field w-full h-32 resize-none",placeholder:"Your thoughts, quotes you loved, why you'd rewatch..."})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Tags (comma separated)"}),S.jsx("input",{type:"text",value:((q=m.tags)==null?void 0:q.join(", "))||"",onChange:U=>h({...m,tags:U.target.value.split(",").map(B=>B.trim()).filter(Boolean)}),className:"input-field w-full"})]}),m.status==="watched"&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-bold uppercase tracking-wider text-text-secondary",children:"Date Watched"}),S.jsx("input",{type:"date",value:((L=m.dateWatched)==null?void 0:L.split("T")[0])||"",onChange:U=>h({...m,dateWatched:U.target.value?new Date(U.target.value).toISOString():null}),className:"input-field w-full"})]})]})}),S.jsxs("div",{className:"px-6 py-4 border-t border-white/5 bg-white/5 flex items-center justify-end gap-3",children:[S.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),S.jsx("button",{onClick:P,className:"btn-primary",children:"Save Entry"})]})]})]}):null},mD=({size:e,className:t})=>S.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[S.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),S.jsx("path",{d:"M3 3v5h5"})]}),gD=({isOpen:e,onClose:t,onImport:i,tmdbApiKey:s,existingLibrary:r,onToast:l})=>{const[c,d]=K.useState(!1),[m,h]=K.useState({current:0,total:0}),y=K.useRef(null),T=async _=>{d(!0);const b=_.items;h({current:0,total:b.length});const A=[];let w=0;for(const N of b){if(r.find(z=>N.imdb_id&&z.imdbId===N.imdb_id||Ml(z.title)===Ml(N.title))){w++,h(z=>({...z,current:z.current+1}));continue}const I={id:Qn(),title:N.title,type:N.type,year:0,genres:[],poster:"",description:"",director:"",cast:[],runtime:0,seasons:0,currentSeason:1,currentEpisode:1,status:N.status||"want_to_watch",rating:{story:null,acting:null,visuals:null,overall:null},rewatchCount:0,streamingUrl:N.imdb_id?`stremio:///detail/${N.type==="movie"?"movie":"series"}/${N.imdb_id}`:"",imdbId:N.imdb_id||"",tmdbId:0,tmdbPopularity:0,personalNote:"",dateAdded:new Date().toISOString(),dateWatched:null,tags:[],isFavorite:!1,isPinned:!1,notifiedUnrated:!1};if(s)try{await new Promise(q=>setTimeout(q,300));let z=0;if(N.imdb_id){const L=(await Pr(N.title,s)).find(U=>U.title===N.title||U.name===N.title);L&&(z=L.id)}else{const q=await Pr(N.title,s);q.length>0&&(z=q[0].id)}if(z){const q=await Lr(z,N.type==="movie"?"movie":"tv",s);Object.assign(I,q)}}catch{console.error(`Failed to fetch metadata for ${N.title}`)}A.push(I),h(z=>({...z,current:z.current+1}))}i(A),l("success",`Import complete: ${A.length} added, ${w} skipped`),d(!1),t()},x=_=>{var w;const b=(w=_.target.files)==null?void 0:w[0];if(!b)return;const A=new FileReader;A.onload=N=>{var P;try{const I=JSON.parse((P=N.target)==null?void 0:P.result);T(I)}catch{l("error","Invalid JSON file")}},A.readAsText(b)};return e?S.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-6",children:[S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-background/80 backdrop-blur-md"}),S.jsxs(We.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"relative w-full max-w-md bg-card border border-white/10 rounded-3xl shadow-2xl overflow-hidden p-8",children:[S.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/5 rounded-full",children:S.jsx(Gr,{size:20})}),S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx("div",{className:"w-16 h-16 bg-accent/10 text-accent rounded-2xl flex items-center justify-center mx-auto mb-6",children:S.jsx(JC,{size:32})}),S.jsx("h2",{className:"text-2xl font-bebas tracking-wide",children:"Import from Stremio"}),S.jsx("p",{className:"text-sm text-text-secondary",children:"Upload the JSON file exported from the Stremio Web companion script."}),c?S.jsxs("div",{className:"py-8 space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-center gap-3 text-accent",children:[S.jsx(ls,{size:24,className:"animate-spin"}),S.jsx("span",{className:"font-bold",children:"Fetching Metadata..."})]}),S.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:S.jsx("div",{className:"bg-accent h-full transition-all duration-300",style:{width:`${m.current/m.total*100}%`}})}),S.jsxs("div",{className:"text-xs text-text-secondary",children:[m.current," / ",m.total," items processed"]})]}):S.jsxs("div",{className:"py-8",children:[S.jsxs("button",{onClick:()=>{var _;return(_=y.current)==null?void 0:_.click()},className:"w-full border-2 border-dashed border-white/10 hover:border-accent/50 hover:bg-accent/5 p-10 rounded-2xl transition-all group",children:[S.jsx(jx,{size:32,className:"mx-auto mb-4 text-text-secondary group-hover:text-accent transition-colors"}),S.jsx("span",{className:"text-sm font-bold text-text-secondary group-hover:text-text-primary",children:"Click to upload JSON"})]}),S.jsx("input",{type:"file",ref:y,onChange:x,accept:".json",className:"hidden"})]}),S.jsxs("div",{className:"text-[10px] text-text-secondary uppercase tracking-widest leading-relaxed",children:["Metadata fetching respects TMDB rate limits (1 req / 300ms).",S.jsx("br",{}),"Existing entries will not be overwritten."]})]})]})]}):null},yD=({isOpen:e,onClose:t,settings:i,onUpdateSettings:s,onExport:r,onImportBackup:l,onClearData:c})=>{const[d,m]=K.useState(!1),[h,y]=K.useState(!1),[T,x]=K.useState("");return e?S.jsxs("div",{className:"flex flex-col h-full bg-card",children:[S.jsxs("div",{className:"p-6 border-b border-white/5 flex items-center justify-between",children:[S.jsx("h2",{className:"text-2xl font-bebas tracking-wider text-accent",children:"Settings"}),S.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-full transition-colors",children:S.jsx(Gr,{size:20})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-10 custom-scrollbar",children:[S.jsxs("section",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 text-accent",children:[S.jsx(QC,{size:18}),S.jsx("h3",{className:"font-bebas text-lg tracking-wider",children:"API Configuration"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-text-muted",children:"TMDB API Key"}),S.jsxs("a",{href:"https://www.themoviedb.org/settings/api",target:"_blank",className:"text-[10px] text-accent hover:underline flex items-center gap-1",children:["Get Key ",S.jsx(jf,{size:10})]})]}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:d?"text":"password",value:i.tmdbApiKey,onChange:_=>s({...i,tmdbApiKey:_.target.value}),className:"w-full bg-white/5 border border-white/5 rounded-xl px-4 py-2 text-xs focus:outline-none focus:border-accent/50 transition-all",placeholder:"Paste your TMDB API key..."}),S.jsx("button",{onClick:()=>m(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted",children:d?S.jsx(Ly,{size:14}):S.jsx(Vy,{size:14})})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-text-muted",children:"Gemini API Key"}),S.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",className:"text-[10px] text-accent hover:underline flex items-center gap-1",children:["Get Key ",S.jsx(jf,{size:10})]})]}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:h?"text":"password",value:i.geminiApiKey,onChange:_=>s({...i,geminiApiKey:_.target.value}),className:"w-full bg-white/5 border border-white/5 rounded-xl px-4 py-2 text-xs focus:outline-none focus:border-accent/50 transition-all",placeholder:"Paste your Gemini API key..."}),S.jsx("button",{onClick:()=>y(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted",children:h?S.jsx(Ly,{size:14}):S.jsx(Vy,{size:14})})]})]})]})]}),S.jsxs("section",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 text-accent",children:[S.jsx(tA,{size:18}),S.jsx("h3",{className:"font-bebas text-lg tracking-wider",children:"Preferences"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-xs font-bold",children:"Show Posters"}),S.jsx("p",{className:"text-[9px] text-text-muted uppercase tracking-wider",children:"Display artwork"})]}),S.jsx("button",{onClick:()=>s({...i,showPosters:!i.showPosters}),className:Nt("w-10 h-5 rounded-full transition-all relative",i.showPosters?"bg-accent":"bg-white/10"),children:S.jsx("div",{className:Nt("absolute top-1 w-3 h-3 rounded-full bg-white transition-all",i.showPosters?"left-6":"left-1")})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-text-muted",children:"Default Sort Method"}),S.jsxs("select",{value:i.defaultSort,onChange:_=>s({...i,defaultSort:_.target.value}),className:"w-full bg-white/5 border border-white/5 rounded-xl px-4 py-2 text-xs focus:outline-none focus:border-accent/50 transition-all cursor-pointer",children:[S.jsx("option",{value:"smartScore",children:"Smart Score (Recommended)"}),S.jsx("option",{value:"dateAdded",children:"Recently Added"}),S.jsx("option",{value:"rating",children:"Highest Rated"}),S.jsx("option",{value:"title",children:"Alphabetical (A-Z)"}),S.jsx("option",{value:"year",children:"Release Year"})]})]})]})]}),S.jsxs("section",{className:"space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 text-accent",children:[S.jsx(GC,{size:18}),S.jsx("h3",{className:"font-bebas text-lg tracking-wider",children:"Data Management"})]}),S.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[S.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-2 py-3 bg-white/5 border border-white/5 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-white/10 transition-all",children:[S.jsx(Xx,{size:16})," Export Backup"]}),S.jsxs("button",{onClick:l,className:"flex items-center justify-center gap-2 py-3 bg-white/5 border border-white/5 rounded-xl text-[10px] font-bold uppercase tracking-widest hover:bg-white/10 transition-all",children:[S.jsx(jx,{size:16})," Import Backup"]})]})]}),S.jsxs("section",{className:"pt-6 border-t border-white/5 space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-3 text-red-500",children:[S.jsx(dA,{size:18}),S.jsx("h3",{className:"font-bebas text-lg tracking-wider",children:"Danger Zone"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("p",{className:"text-[10px] text-text-muted uppercase tracking-wider",children:["To clear all data, type ",S.jsx("span",{className:"text-red-500 font-bold",children:"DELETE"})," below."]}),S.jsx("input",{type:"text",value:T,onChange:_=>x(_.target.value),placeholder:"Type DELETE...",className:"w-full bg-white/5 border border-red-500/20 rounded-xl px-4 py-2 text-xs focus:outline-none focus:border-red-500 transition-all"}),S.jsx("button",{disabled:T!=="DELETE",onClick:()=>{c(),x("")},className:"w-full py-3 bg-red-500/10 text-red-500 border border-red-500/20 rounded-xl font-bold text-[10px] uppercase tracking-widest hover:bg-red-500 hover:text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear All Library Data"})]})]})]})]}):null},vD=({library:e})=>{const t=e.length,i=e.filter(_=>_.type==="movie").length,s=e.filter(_=>_.type==="series").length,r=e.filter(_=>_.status==="watched").reduce((_,b)=>b.type==="movie"?_+b.runtime:_+b.runtime*b.currentEpisode,0),l=Math.floor(r/60),c=r%60,d={watched:e.filter(_=>_.status==="watched").length,watching:e.filter(_=>_.status==="watching").length,want_to_watch:e.filter(_=>_.status==="want_to_watch").length,dropped:e.filter(_=>_.status==="dropped").length},m={};e.forEach(_=>_.genres.forEach(b=>m[b]=(m[b]||0)+1));const h=Object.entries(m).sort((_,b)=>b[1]-_[1]).slice(0,5),y={};e.forEach(_=>{if(_.rating.overall){const b=Math.round(_.rating.overall);y[b]=(y[b]||0)+1}});const T=e.filter(_=>_.type==="movie"&&_.rating.overall).sort((_,b)=>(b.rating.overall||0)-(_.rating.overall||0)).slice(0,5),x=e.filter(_=>_.type==="series"&&_.rating.overall).sort((_,b)=>(b.rating.overall||0)-(_.rating.overall||0)).slice(0,5);return S.jsxs("div",{className:"p-6 space-y-8 animate-fade-in max-w-7xl mx-auto",children:[S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Titles",value:t,icon:DC,color:"text-accent"},{label:"Movies",value:i,icon:fo,color:"text-blue-500"},{label:"Series",value:s,icon:Jl,color:"text-purple-500"},{label:"Hours Watched",value:`${l}h ${c}m`,icon:Kx,color:"text-green-500"}].map((_,b)=>S.jsxs("div",{className:"glass-panel p-6 rounded-3xl flex items-center gap-4",children:[S.jsx("div",{className:`p-3 rounded-2xl bg-white/5 ${_.color}`,children:S.jsx(_.icon,{size:24})}),S.jsxs("div",{children:[S.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-text-secondary",children:_.label}),S.jsx("div",{className:"text-2xl font-bebas tracking-wide",children:_.value})]})]},b))}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h3",{className:"text-sm font-bold uppercase tracking-widest text-accent flex items-center gap-2",children:[S.jsx(yn,{size:16})," Top Rated Movies"]}),S.jsx("div",{className:"space-y-2",children:T.map(_=>{var b;return S.jsxs("div",{className:"glass-panel p-4 rounded-2xl flex items-center justify-between group hover:border-accent/30 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[_.poster&&S.jsx("img",{src:_.poster,className:"w-8 h-12 rounded object-cover"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-bold group-hover:text-accent transition-colors",children:_.title}),S.jsx("div",{className:"text-[10px] text-text-secondary",children:_.year})]})]}),S.jsx("div",{className:"text-accent font-bebas text-xl",children:(b=_.rating.overall)==null?void 0:b.toFixed(1)})]},_.id)})})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h3",{className:"text-sm font-bold uppercase tracking-widest text-accent flex items-center gap-2",children:[S.jsx(yn,{size:16})," Top Rated Series"]}),S.jsx("div",{className:"space-y-2",children:x.map(_=>{var b;return S.jsxs("div",{className:"glass-panel p-4 rounded-2xl flex items-center justify-between group hover:border-accent/30 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[_.poster&&S.jsx("img",{src:_.poster,className:"w-8 h-12 rounded object-cover"}),S.jsxs("div",{children:[S.jsx("div",{className:"text-sm font-bold group-hover:text-accent transition-colors",children:_.title}),S.jsx("div",{className:"text-[10px] text-text-secondary",children:_.year})]})]}),S.jsx("div",{className:"text-accent font-bebas text-xl",children:(b=_.rating.overall)==null?void 0:b.toFixed(1)})]},_.id)})})]})]}),S.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[S.jsxs("div",{className:"glass-panel p-8 rounded-3xl space-y-6",children:[S.jsxs("h3",{className:"text-sm font-bold uppercase tracking-widest text-accent flex items-center gap-2",children:[S.jsx(pA,{size:18})," Status Distribution"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-12",children:[S.jsx("div",{className:"w-32 h-32 rounded-full relative shrink-0",style:{background:`conic-gradient(
                    #22c55e 0% ${d.watched/t*100}%,
                    #3b82f6 ${d.watched/t*100}% ${(d.watched+d.watching)/t*100}%,
                    #eab308 ${(d.watched+d.watching)/t*100}% ${(d.watched+d.watching+d.want_to_watch)/t*100}%,
                    #ef4444 ${(d.watched+d.watching+d.want_to_watch)/t*100}% 100%
                  )`},children:S.jsx("div",{className:"absolute inset-4 bg-card rounded-full flex items-center justify-center",children:S.jsx("span",{className:"font-bebas text-xl",children:t})})}),S.jsx("div",{className:"space-y-2 flex-1 w-full",children:[{label:"Watched",count:d.watched,color:"bg-green-500"},{label:"Watching",count:d.watching,color:"bg-blue-500"},{label:"Watchlist",count:d.want_to_watch,color:"bg-yellow-500"},{label:"Dropped",count:d.dropped,color:"bg-red-500"}].map(_=>S.jsxs("div",{className:"flex items-center justify-between text-xs",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:`w-2 h-2 rounded-full ${_.color}`}),S.jsx("span",{className:"text-text-secondary",children:_.label})]}),S.jsxs("span",{className:"font-bold",children:[_.count," (",t?Math.round(_.count/t*100):0,"%)"]})]},_.label))})]})]}),S.jsxs("div",{className:"glass-panel p-8 rounded-3xl space-y-6",children:[S.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-accent",children:"Top Genres"}),S.jsx("div",{className:"space-y-4",children:h.map(([_,b])=>{var A;return S.jsxs("div",{className:"space-y-1.5",children:[S.jsxs("div",{className:"flex justify-between text-xs font-medium",children:[S.jsx("span",{children:_}),S.jsx("span",{className:"text-text-secondary",children:b})]}),S.jsx("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:S.jsx("div",{className:"bg-accent h-full rounded-full",style:{width:`${b/(((A=h[0])==null?void 0:A[1])||1)*100}%`}})})]},_)})})]}),S.jsxs("div",{className:"glass-panel p-8 rounded-3xl space-y-6",children:[S.jsx("h3",{className:"text-sm font-bold uppercase tracking-widest text-accent",children:"Rating Distribution"}),S.jsx("div",{className:"flex items-end justify-between h-40 gap-2",children:[1,2,3,4,5,6,7,8,9,10].map(_=>{const b=y[_]||0,A=Math.max(...Object.values(y),1);return S.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2 group",children:[S.jsx("div",{className:"w-full bg-accent/20 group-hover:bg-accent rounded-t-lg transition-all",style:{height:`${b/A*100}%`}}),S.jsx("span",{className:"text-[10px] font-bold text-text-secondary",children:_})]},_)})})]})]})]})]})};var Sr={exports:{}},Ff={},Yf,a0;function xD(){if(a0)return Yf;a0=1;function e(t,i){typeof i=="boolean"&&(i={forever:i}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=i||{},this._maxRetryTime=i&&i.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Yf=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var i=new Date().getTime();if(t&&i-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},s),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,i){this._fn=t,i&&(i.timeout&&(this._operationTimeout=i.timeout),i.cb&&(this._operationTimeoutCb=i.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},i=null,s=0,r=0;r<this._errors.length;r++){var l=this._errors[r],c=l.message,d=(t[c]||0)+1;t[c]=d,d>=s&&(i=l,s=d)}return i},Yf}var l0;function TD(){return l0||(l0=1,(function(e){var t=xD();e.operation=function(i){var s=e.timeouts(i);return new t(s,{forever:i&&(i.forever||i.retries===1/0),unref:i&&i.unref,maxRetryTime:i&&i.maxRetryTime})},e.timeouts=function(i){if(i instanceof Array)return[].concat(i);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in i)s[r]=i[r];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var l=[],c=0;c<s.retries;c++)l.push(this.createTimeout(c,s));return i&&i.forever&&!l.length&&l.push(this.createTimeout(c,s)),l.sort(function(d,m){return d-m}),l},e.createTimeout=function(i,s){var r=s.randomize?Math.random()+1:1,l=Math.round(r*Math.max(s.minTimeout,1)*Math.pow(s.factor,i));return l=Math.min(l,s.maxTimeout),l},e.wrap=function(i,s,r){if(s instanceof Array&&(r=s,s=null),!r){r=[];for(var l in i)typeof i[l]=="function"&&r.push(l)}for(var c=0;c<r.length;c++){var d=r[c],m=i[d];i[d]=(function(y){var T=e.operation(s),x=Array.prototype.slice.call(arguments,1),_=x.pop();x.push(function(b){T.retry(b)||(b&&(arguments[0]=T.mainError()),_.apply(this,arguments))}),T.attempt(function(){y.apply(i,x)})}).bind(i,m),i[d].options=s}}})(Ff)),Ff}var Jf,u0;function SD(){return u0||(u0=1,Jf=TD()),Jf}var c0;function ED(){if(c0)return Sr.exports;c0=1;const e=SD(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{constructor(d){super(),d instanceof Error?(this.originalError=d,{message:d}=d):(this.originalError=new Error(d),this.originalError.stack=this.stack),this.name="AbortError",this.message=d}}const s=(c,d,m)=>{const h=m.retries-(d-1);return c.attemptNumber=d,c.retriesLeft=h,c},r=c=>t.includes(c),l=(c,d)=>new Promise((m,h)=>{d={onFailedAttempt:()=>{},retries:10,...d};const y=e.operation(d);y.attempt(async T=>{try{m(await c(T))}catch(x){if(!(x instanceof Error)){h(new TypeError(`Non-error was thrown: "${x}". You should only throw errors.`));return}if(x instanceof i)y.stop(),h(x.originalError);else if(x instanceof TypeError&&!r(x.message))y.stop(),h(x);else{s(x,T,d);try{await d.onFailedAttempt(x)}catch(_){h(_);return}y.retry(x)||h(y.mainError())}}})});return Sr.exports=l,Sr.exports.default=l,Sr.exports.AbortError=i,Sr.exports}var ZS=ED();const _D=Yx(ZS);var bD={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CD,AD;function wD(){return{geminiUrl:CD,vertexUrl:AD}}function ND(e,t,i,s){var r,l;if(!(e!=null&&e.baseUrl)){const c=wD();return t?(r=c.vertexUrl)!==null&&r!==void 0?r:i:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei{}function oe(e,t){const i=/\{([^}]+)\}/g;return e.replace(i,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const l=t[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function p(e,t,i){for(let l=0;l<t.length-1;l++){const c=t[l];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in e))if(Array.isArray(i))e[d]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(e[d])){const m=e[d];if(Array.isArray(i))for(let h=0;h<m.length;h++){const y=m[h];p(y,t.slice(l+1),i[h])}else for(const h of m)p(h,t.slice(l+1),i)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in e||(e[d]=[{}]);const m=e[d];p(m[0],t.slice(l+1),i);return}(!e[c]||typeof e[c]!="object")&&(e[c]={}),e=e[c]}const s=t[t.length-1],r=e[s];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(e,i):e[s]=i}function f(e,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let s=0;s<t.length;s++){if(typeof e!="object"||e===null)return i;const r=t[s];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in e){const c=e[l];return Array.isArray(c)?c.map(d=>f(d,t.slice(s+1),i)):i}else return i}else e=e[r]}return e}catch(s){if(s instanceof TypeError)return i;throw s}}function MD(e,t){for(const[i,s]of Object.entries(t)){const r=i.split("."),l=s.split("."),c=new Set;let d=-1;for(let m=0;m<r.length;m++)if(r[m]==="*"){d=m;break}if(d!==-1&&l.length>d)for(let m=d;m<l.length;m++){const h=l[m];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Ed(e,r,l,0,c)}}function Ed(e,t,i,s,r){if(s>=t.length||typeof e!="object"||e===null)return;const l=t[s];if(l.endsWith("[]")){const c=l.slice(0,-2),d=e;if(c in d&&Array.isArray(d[c]))for(const m of d[c])Ed(m,t,i,s+1,r)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const c=e,d=Object.keys(c).filter(h=>!h.startsWith("_")&&!r.has(h)),m={};for(const h of d)m[h]=c[h];for(const[h,y]of Object.entries(m)){const T=[];for(const x of i.slice(s))x==="*"?T.push(h):T.push(x);p(c,T,y)}for(const h of d)delete c[h]}}else{const c=e;l in c&&Ed(c[l],t,i,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vh(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RD(e){const t={},i=f(e,["operationName"]);i!=null&&p(t,["operationName"],i);const s=f(e,["resourceName"]);return s!=null&&p(t,["_url","resourceName"],s),t}function DD(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["metadata"]);s!=null&&p(t,["metadata"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);l!=null&&p(t,["error"],l);const c=f(e,["response","generateVideoResponse"]);return c!=null&&p(t,["response"],kD(c)),t}function ID(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["metadata"]);s!=null&&p(t,["metadata"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);l!=null&&p(t,["error"],l);const c=f(e,["response"]);return c!=null&&p(t,["response"],UD(c)),t}function kD(e){const t={},i=f(e,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>PD(c))),p(t,["generatedVideos"],l)}const s=f(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&p(t,["raiMediaFilteredReasons"],r),t}function UD(e){const t={},i=f(e,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>LD(c))),p(t,["generatedVideos"],l)}const s=f(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const r=f(e,["raiMediaFilteredReasons"]);return r!=null&&p(t,["raiMediaFilteredReasons"],r),t}function PD(e){const t={},i=f(e,["video"]);return i!=null&&p(t,["video"],HD(i)),t}function LD(e){const t={},i=f(e,["_self"]);return i!=null&&p(t,["video"],qD(i)),t}function VD(e){const t={},i=f(e,["operationName"]);return i!=null&&p(t,["_url","operationName"],i),t}function GD(e){const t={},i=f(e,["operationName"]);return i!=null&&p(t,["_url","operationName"],i),t}function zD(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["metadata"]);s!=null&&p(t,["metadata"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);l!=null&&p(t,["error"],l);const c=f(e,["response"]);return c!=null&&p(t,["response"],BD(c)),t}function BD(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["parent"]);s!=null&&p(t,["parent"],s);const r=f(e,["documentName"]);return r!=null&&p(t,["documentName"],r),t}function eE(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["metadata"]);s!=null&&p(t,["metadata"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);l!=null&&p(t,["error"],l);const c=f(e,["response"]);return c!=null&&p(t,["response"],OD(c)),t}function OD(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["parent"]);s!=null&&p(t,["parent"],s);const r=f(e,["documentName"]);return r!=null&&p(t,["documentName"],r),t}function HD(e){const t={},i=f(e,["uri"]);i!=null&&p(t,["uri"],i);const s=f(e,["encodedVideo"]);s!=null&&p(t,["videoBytes"],vh(s));const r=f(e,["encoding"]);return r!=null&&p(t,["mimeType"],r),t}function qD(e){const t={},i=f(e,["gcsUri"]);i!=null&&p(t,["uri"],i);const s=f(e,["bytesBase64Encoded"]);s!=null&&p(t,["videoBytes"],vh(s));const r=f(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var f0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(f0||(f0={}));var d0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(d0||(d0={}));var h0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(h0||(h0={}));var Ui;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ui||(Ui={}));var p0;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(p0||(p0={}));var m0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(m0||(m0={}));var g0;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(g0||(g0={}));var y0;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(y0||(y0={}));var v0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(v0||(v0={}));var x0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(x0||(x0={}));var T0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(T0||(T0={}));var S0;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(S0||(S0={}));var E0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(E0||(E0={}));var _0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(_0||(_0={}));var b0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(b0||(b0={}));var C0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(C0||(C0={}));var A0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(A0||(A0={}));var w0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(w0||(w0={}));var N0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(N0||(N0={}));var M0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(M0||(M0={}));var R0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(R0||(R0={}));var Gl;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gl||(Gl={}));var D0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(D0||(D0={}));var I0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(I0||(I0={}));var k0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(k0||(k0={}));var _d;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_d||(_d={}));var U0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(U0||(U0={}));var P0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(P0||(P0={}));var bd;(function(e){e.COLLECTION="COLLECTION"})(bd||(bd={}));var L0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(L0||(L0={}));var V0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(V0||(V0={}));var G0;(function(e){e.PROMINENT_PEOPLE_UNSPECIFIED="PROMINENT_PEOPLE_UNSPECIFIED",e.ALLOW_PROMINENT_PEOPLE="ALLOW_PROMINENT_PEOPLE",e.BLOCK_PROMINENT_PEOPLE="BLOCK_PROMINENT_PEOPLE"})(G0||(G0={}));var zl;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(zl||(zl={}));var z0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(z0||(z0={}));var B0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(B0||(B0={}));var O0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(O0||(O0={}));var H0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(H0||(H0={}));var q0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(q0||(q0={}));var F0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(F0||(F0={}));var Y0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Y0||(Y0={}));var J0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(J0||(J0={}));var K0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(K0||(K0={}));var X0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(X0||(X0={}));var $0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})($0||($0={}));var j0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(j0||(j0={}));var Q0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Q0||(Q0={}));var W0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(W0||(W0={}));var Z0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Z0||(Z0={}));var ex;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ex||(ex={}));var tx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(tx||(tx={}));var nx;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(nx||(nx={}));var ix;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(ix||(ix={}));var ox;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ox||(ox={}));var sx;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sx||(sx={}));var rx;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(rx||(rx={}));var ax;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ax||(ax={}));var lx;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(lx||(lx={}));var ux;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ux||(ux={}));var rs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(rs||(rs={}));class Cd{constructor(t){const i={};for(const s of t.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class Er{get text(){var t,i,s,r,l,c,d,m;if(((r=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const T=[];for(const x of(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[_,b]of Object.entries(x))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(b!==null||b!==void 0)&&T.push(_);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;y=!0,h+=x.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var t,i,s,r,l,c,d,m;if(((r=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const T of(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[x,_]of Object.entries(T))x!=="inlineData"&&(_!==null||_!==void 0)&&y.push(x);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,i,s,r,l,c,d,m;if(((r=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,i,s,r,l,c,d,m,h;if(((r=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,i,s,r,l,c,d,m,h;if(((r=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(m=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class cx{}class fx{}class FD{}class YD{}class JD{}class KD{}class dx{}class hx{}class px{}class XD{}class Bl{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new Bl;let r;const l=t;return i?r=ID(l):r=DD(l),Object.assign(s,r),s}}class mx{}class gx{}class yx{}class vx{}class $D{}class jD{}class QD{}class xh{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new xh,l=zD(t);return Object.assign(s,l),s}}class WD{}class ZD{}class eI{}class tI{}class xx{}class nI{get text(){var t,i,s;let r="",l=!1;const c=[];for(const d of(s=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[m,h]of Object.entries(d))m!=="text"&&m!=="thought"&&h!==null&&c.push(m);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,r+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var t,i,s;let r="";const l=[];for(const c of(s=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[d,m]of Object.entries(c))d!=="inlineData"&&m!==null&&l.push(d);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class iI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Th{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new Th,l=eE(t);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tE(e,t){const i=Ge(e,t);return i?i.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}`:i.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${i}`:i:""}function nE(e){return Array.isArray(e)?e.map(t=>Ol(t)):[Ol(e)]}function Ol(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function iE(e){const t=Ol(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function oE(e){const t=Ol(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Tx(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function sE(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Tx(t)):[Tx(e)]}function Ad(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Sx(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Ex(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function mt(e){if(e==null)throw new Error("ContentUnion is required");return Ad(e)?e:{role:"user",parts:sE(e)}}function Sh(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const s=mt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(e.isVertexAI()){const i=mt(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>mt(i)):[mt(t)]}function jt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Sx(e)||Ex(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[mt(e)]}const t=[],i=[],s=Ad(e[0]);for(const r of e){const l=Ad(r);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(r);else{if(Sx(r)||Ex(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return s||t.push({role:"user",parts:sE(i)}),t}function oI(e,t){e.includes("null")&&(t.nullable=!0);const i=e.filter(s=>s!=="null");if(i.length===1)t.type=Object.values(Ui).includes(i[0].toUpperCase())?i[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of i)t.anyOf.push({type:Object.values(Ui).includes(s.toUpperCase())?s.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function cs(e){const t={},i=["items"],s=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&oI(e.type,t);for(const[c,d]of Object.entries(e))if(d!=null)if(c=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;t.type=Object.values(Ui).includes(d.toUpperCase())?d.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(i.includes(c))t[c]=cs(d);else if(s.includes(c)){const m=[];for(const h of d){if(h.type=="null"){t.nullable=!0;continue}m.push(cs(h))}t[c]=m}else if(r.includes(c)){const m={};for(const[h,y]of Object.entries(d))m[h]=cs(y);t[c]=m}else{if(c==="additionalProperties")continue;t[c]=d}return t}function Eh(e){return cs(e)}function _h(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function bh(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ys(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=cs(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=cs(t.response));return e}function vs(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function sI(e,t,i,s=1){const r=!t.startsWith(`${i}/`)&&t.split("/").length===s;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}/${t}`:t:r?`${i}/${t}`:t}function ti(e,t){if(typeof t!="string")throw new Error("name must be a string");return sI(e,t,"cachedContents")}function rE(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Gi(e){return vh(e)}function rI(e){return e!=null&&typeof e=="object"&&"name"in e}function aI(e){return e!=null&&typeof e=="object"&&"video"in e}function lI(e){return e!=null&&typeof e=="object"&&"uri"in e}function aE(e){var t;let i;if(rI(e)&&(i=e.name),!(lI(e)&&(i=e.uri,i===void 0))&&!(aI(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function lE(e,t){let i;return e.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function uE(e){for(const t of["models","tunedModels","publisherModels"])if(uI(e,t))return e[t];return[]}function uI(e,t){return e!==null&&typeof e=="object"&&t in e}function cI(e,t={}){const i=e,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function fI(e,t={}){const i=[],s=new Set;for(const r of e){const l=r.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=cI(r,t);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function cE(e,t){let i;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function dI(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function fE(e){if(typeof e!="object"||e===null)return{};const t=e,i=t.inlinedResponses;if(typeof i!="object"||i===null)return e;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const m=c.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function xs(e,t){const i=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function dE(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function hI(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pI(e){const t={},i=f(e,["responsesFile"]);i!=null&&p(t,["fileName"],i);const s=f(e,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>XI(c))),p(t,["inlinedResponses"],l)}const r=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["inlinedEmbedContentResponses"],l)}return t}function mI(e){const t={},i=f(e,["predictionsFormat"]);i!=null&&p(t,["format"],i);const s=f(e,["gcsDestination","outputUriPrefix"]);s!=null&&p(t,["gcsUri"],s);const r=f(e,["bigqueryDestination","outputUri"]);return r!=null&&p(t,["bigqueryUri"],r),t}function gI(e){const t={},i=f(e,["format"]);i!=null&&p(t,["predictionsFormat"],i);const s=f(e,["gcsUri"]);s!=null&&p(t,["gcsDestination","outputUriPrefix"],s);const r=f(e,["bigqueryUri"]);if(r!=null&&p(t,["bigqueryDestination","outputUri"],r),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Al(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["metadata","displayName"]);s!=null&&p(t,["displayName"],s);const r=f(e,["metadata","state"]);r!=null&&p(t,["state"],dE(r));const l=f(e,["metadata","createTime"]);l!=null&&p(t,["createTime"],l);const c=f(e,["metadata","endTime"]);c!=null&&p(t,["endTime"],c);const d=f(e,["metadata","updateTime"]);d!=null&&p(t,["updateTime"],d);const m=f(e,["metadata","model"]);m!=null&&p(t,["model"],m);const h=f(e,["metadata","output"]);return h!=null&&p(t,["dest"],pI(fE(h))),t}function wd(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["displayName"]);s!=null&&p(t,["displayName"],s);const r=f(e,["state"]);r!=null&&p(t,["state"],dE(r));const l=f(e,["error"]);l!=null&&p(t,["error"],l);const c=f(e,["createTime"]);c!=null&&p(t,["createTime"],c);const d=f(e,["startTime"]);d!=null&&p(t,["startTime"],d);const m=f(e,["endTime"]);m!=null&&p(t,["endTime"],m);const h=f(e,["updateTime"]);h!=null&&p(t,["updateTime"],h);const y=f(e,["model"]);y!=null&&p(t,["model"],y);const T=f(e,["inputConfig"]);T!=null&&p(t,["src"],yI(T));const x=f(e,["outputConfig"]);x!=null&&p(t,["dest"],mI(fE(x)));const _=f(e,["completionStats"]);return _!=null&&p(t,["completionStats"],_),t}function yI(e){const t={},i=f(e,["instancesFormat"]);i!=null&&p(t,["format"],i);const s=f(e,["gcsSource","uris"]);s!=null&&p(t,["gcsUri"],s);const r=f(e,["bigquerySource","inputUri"]);return r!=null&&p(t,["bigqueryUri"],r),t}function vI(e,t){const i={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(t,["fileName"]);s!=null&&p(i,["fileName"],s);const r=f(t,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>KI(e,c))),p(i,["requests","requests"],l)}return i}function xI(e){const t={},i=f(e,["format"]);i!=null&&p(t,["instancesFormat"],i);const s=f(e,["gcsUri"]);s!=null&&p(t,["gcsSource","uris"],s);const r=f(e,["bigqueryUri"]);if(r!=null&&p(t,["bigquerySource","inputUri"],r),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function TI(e){const t={},i=f(e,["data"]);if(i!=null&&p(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function SI(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],xs(e,s)),i}function EI(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],xs(e,s)),i}function _I(e){const t={},i=f(e,["content"]);i!=null&&p(t,["content"],i);const s=f(e,["citationMetadata"]);s!=null&&p(t,["citationMetadata"],bI(s));const r=f(e,["tokenCount"]);r!=null&&p(t,["tokenCount"],r);const l=f(e,["finishReason"]);l!=null&&p(t,["finishReason"],l);const c=f(e,["groundingMetadata"]);c!=null&&p(t,["groundingMetadata"],c);const d=f(e,["avgLogprobs"]);d!=null&&p(t,["avgLogprobs"],d);const m=f(e,["index"]);m!=null&&p(t,["index"],m);const h=f(e,["logprobsResult"]);h!=null&&p(t,["logprobsResult"],h);const y=f(e,["safetyRatings"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(_=>_)),p(t,["safetyRatings"],x)}const T=f(e,["urlContextMetadata"]);return T!=null&&p(t,["urlContextMetadata"],T),t}function bI(e){const t={},i=f(e,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),p(t,["citations"],s)}return t}function hE(e){const t={},i=f(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>t2(l))),p(t,["parts"],r)}const s=f(e,["role"]);return s!=null&&p(t,["role"],s),t}function CI(e,t){const i={},s=f(e,["displayName"]);if(t!==void 0&&s!=null&&p(t,["batch","displayName"],s),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function AI(e,t){const i={},s=f(e,["displayName"]);t!==void 0&&s!=null&&p(t,["displayName"],s);const r=f(e,["dest"]);return t!==void 0&&r!=null&&p(t,["outputConfig"],gI(dI(r))),i}function _x(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["_url","model"],Ge(e,s));const r=f(t,["src"]);r!=null&&p(i,["batch","inputConfig"],vI(e,cE(e,r)));const l=f(t,["config"]);return l!=null&&CI(l,i),i}function wI(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["model"],Ge(e,s));const r=f(t,["src"]);r!=null&&p(i,["inputConfig"],xI(cE(e,r)));const l=f(t,["config"]);return l!=null&&AI(l,i),i}function NI(e,t){const i={},s=f(e,["displayName"]);return t!==void 0&&s!=null&&p(t,["batch","displayName"],s),i}function MI(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["_url","model"],Ge(e,s));const r=f(t,["src"]);r!=null&&p(i,["batch","inputConfig"],LI(e,r));const l=f(t,["config"]);return l!=null&&NI(l,i),i}function RI(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],xs(e,s)),i}function DI(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],xs(e,s)),i}function II(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["name"]);s!=null&&p(t,["name"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);return l!=null&&p(t,["error"],l),t}function kI(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["name"]);s!=null&&p(t,["name"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);return l!=null&&p(t,["error"],l),t}function UI(e,t){const i={},s=f(t,["contents"]);if(s!=null){let l=Sh(e,s);Array.isArray(l)&&(l=l.map(c=>c)),p(i,["requests[]","request","content"],l)}const r=f(t,["config"]);return r!=null&&(p(i,["_self"],PI(r,i)),MD(i,{"requests[].*":"requests[].request.*"})),i}function PI(e,t){const i={},s=f(e,["taskType"]);t!==void 0&&s!=null&&p(t,["requests[]","taskType"],s);const r=f(e,["title"]);t!==void 0&&r!=null&&p(t,["requests[]","title"],r);const l=f(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&p(t,["requests[]","outputDimensionality"],l),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function LI(e,t){const i={},s=f(t,["fileName"]);s!=null&&p(i,["file_name"],s);const r=f(t,["inlinedRequests"]);return r!=null&&p(i,["requests"],UI(e,r)),i}function VI(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function GI(e){const t={},i=f(e,["id"]);i!=null&&p(t,["id"],i);const s=f(e,["args"]);s!=null&&p(t,["args"],s);const r=f(e,["name"]);if(r!=null&&p(t,["name"],r),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zI(e){const t={},i=f(e,["allowedFunctionNames"]);i!=null&&p(t,["allowedFunctionNames"],i);const s=f(e,["mode"]);if(s!=null&&p(t,["mode"],s),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function BI(e,t,i){const s={},r=f(t,["systemInstruction"]);i!==void 0&&r!=null&&p(i,["systemInstruction"],hE(mt(r)));const l=f(t,["temperature"]);l!=null&&p(s,["temperature"],l);const c=f(t,["topP"]);c!=null&&p(s,["topP"],c);const d=f(t,["topK"]);d!=null&&p(s,["topK"],d);const m=f(t,["candidateCount"]);m!=null&&p(s,["candidateCount"],m);const h=f(t,["maxOutputTokens"]);h!=null&&p(s,["maxOutputTokens"],h);const y=f(t,["stopSequences"]);y!=null&&p(s,["stopSequences"],y);const T=f(t,["responseLogprobs"]);T!=null&&p(s,["responseLogprobs"],T);const x=f(t,["logprobs"]);x!=null&&p(s,["logprobs"],x);const _=f(t,["presencePenalty"]);_!=null&&p(s,["presencePenalty"],_);const b=f(t,["frequencyPenalty"]);b!=null&&p(s,["frequencyPenalty"],b);const A=f(t,["seed"]);A!=null&&p(s,["seed"],A);const w=f(t,["responseMimeType"]);w!=null&&p(s,["responseMimeType"],w);const N=f(t,["responseSchema"]);N!=null&&p(s,["responseSchema"],Eh(N));const P=f(t,["responseJsonSchema"]);if(P!=null&&p(s,["responseJsonSchema"],P),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=f(t,["safetySettings"]);if(i!==void 0&&I!=null){let Ue=I;Array.isArray(Ue)&&(Ue=Ue.map(Ie=>n2(Ie))),p(i,["safetySettings"],Ue)}const z=f(t,["tools"]);if(i!==void 0&&z!=null){let Ue=vs(z);Array.isArray(Ue)&&(Ue=Ue.map(Ie=>o2(ys(Ie)))),p(i,["tools"],Ue)}const q=f(t,["toolConfig"]);if(i!==void 0&&q!=null&&p(i,["toolConfig"],i2(q)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=f(t,["cachedContent"]);i!==void 0&&L!=null&&p(i,["cachedContent"],ti(e,L));const U=f(t,["responseModalities"]);U!=null&&p(s,["responseModalities"],U);const B=f(t,["mediaResolution"]);B!=null&&p(s,["mediaResolution"],B);const V=f(t,["speechConfig"]);if(V!=null&&p(s,["speechConfig"],_h(V)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=f(t,["thinkingConfig"]);se!=null&&p(s,["thinkingConfig"],se);const ye=f(t,["imageConfig"]);ye!=null&&p(s,["imageConfig"],JI(ye));const _e=f(t,["enableEnhancedCivicAnswers"]);if(_e!=null&&p(s,["enableEnhancedCivicAnswers"],_e),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function OI(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(h=>_I(h))),p(t,["candidates"],m)}const r=f(e,["modelVersion"]);r!=null&&p(t,["modelVersion"],r);const l=f(e,["promptFeedback"]);l!=null&&p(t,["promptFeedback"],l);const c=f(e,["responseId"]);c!=null&&p(t,["responseId"],c);const d=f(e,["usageMetadata"]);return d!=null&&p(t,["usageMetadata"],d),t}function HI(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],xs(e,s)),i}function qI(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],xs(e,s)),i}function FI(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function YI(e){const t={},i=f(e,["searchTypes"]);if(i!=null&&p(t,["searchTypes"],i),f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(e,["timeRangeFilter"]);return s!=null&&p(t,["timeRangeFilter"],s),t}function JI(e){const t={},i=f(e,["aspectRatio"]);i!=null&&p(t,["aspectRatio"],i);const s=f(e,["imageSize"]);if(s!=null&&p(t,["imageSize"],s),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["prominentPeople"])!==void 0)throw new Error("prominentPeople parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function KI(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["request","model"],Ge(e,s));const r=f(t,["contents"]);if(r!=null){let d=jt(r);Array.isArray(d)&&(d=d.map(m=>hE(m))),p(i,["request","contents"],d)}const l=f(t,["metadata"]);l!=null&&p(i,["metadata"],l);const c=f(t,["config"]);return c!=null&&p(i,["request","generationConfig"],BI(e,c,f(i,["request"],{}))),i}function XI(e){const t={},i=f(e,["response"]);i!=null&&p(t,["response"],OI(i));const s=f(e,["metadata"]);s!=null&&p(t,["metadata"],s);const r=f(e,["error"]);return r!=null&&p(t,["error"],r),t}function $I(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);if(t!==void 0&&r!=null&&p(t,["_query","pageToken"],r),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function jI(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);t!==void 0&&r!=null&&p(t,["_query","pageToken"],r);const l=f(e,["filter"]);return t!==void 0&&l!=null&&p(t,["_query","filter"],l),i}function QI(e){const t={},i=f(e,["config"]);return i!=null&&$I(i,t),t}function WI(e){const t={},i=f(e,["config"]);return i!=null&&jI(i,t),t}function ZI(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Al(c))),p(t,["batchJobs"],l)}return t}function e2(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>wd(c))),p(t,["batchJobs"],l)}return t}function t2(e){const t={},i=f(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=f(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const r=f(e,["executableCode"]);r!=null&&p(t,["executableCode"],r);const l=f(e,["fileData"]);l!=null&&p(t,["fileData"],VI(l));const c=f(e,["functionCall"]);c!=null&&p(t,["functionCall"],GI(c));const d=f(e,["functionResponse"]);d!=null&&p(t,["functionResponse"],d);const m=f(e,["inlineData"]);m!=null&&p(t,["inlineData"],TI(m));const h=f(e,["text"]);h!=null&&p(t,["text"],h);const y=f(e,["thought"]);y!=null&&p(t,["thought"],y);const T=f(e,["thoughtSignature"]);T!=null&&p(t,["thoughtSignature"],T);const x=f(e,["videoMetadata"]);return x!=null&&p(t,["videoMetadata"],x),t}function n2(e){const t={},i=f(e,["category"]);if(i!=null&&p(t,["category"],i),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(e,["threshold"]);return s!=null&&p(t,["threshold"],s),t}function i2(e){const t={},i=f(e,["retrievalConfig"]);i!=null&&p(t,["retrievalConfig"],i);const s=f(e,["functionCallingConfig"]);return s!=null&&p(t,["functionCallingConfig"],zI(s)),t}function o2(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=f(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const r=f(e,["googleSearch"]);r!=null&&p(t,["googleSearch"],YI(r));const l=f(e,["codeExecution"]);if(l!=null&&p(t,["codeExecution"],l),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=f(e,["functionDeclarations"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["functionDeclarations"],T)}const d=f(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],FI(d));const m=f(e,["googleSearchRetrieval"]);m!=null&&p(t,["googleSearchRetrieval"],m);const h=f(e,["urlContext"]);h!=null&&p(t,["urlContext"],h);const y=f(e,["mcpServers"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["mcpServers"],T)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Zn||(Zn={}));class po{constructor(t,i,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,s,r)}init(t,i,s){var r,l;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s2 extends ei{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new po(Zn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(t){const i=_x(this.apiClient,t),s=i._url,r=oe("{model}:batchGenerateContent",s),d=i.batch.inputConfig.requests,m=d.requests,h=[];for(const y of m){const T=Object.assign({},y);if(T.systemInstruction){const x=T.systemInstruction;delete T.systemInstruction;const _=T.request;_.systemInstruction=x,T.request=_}h.push(T)}return d.requests=h,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const s=i?Object.assign({},i):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const l=this.getGcsUri(t),c=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${r}`;else if(c)s.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=wI(this.apiClient,t);return d=oe("batchPredictionJobs",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>wd(y))}else{const h=_x(this.apiClient,t);return d=oe("{model}:batchGenerateContent",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Al(y))}}async createEmbeddingsInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=MI(this.apiClient,t);return l=oe("{model}:asyncBatchEmbedContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>Al(m))}}async get(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=qI(this.apiClient,t);return d=oe("batchPredictionJobs/{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>wd(y))}else{const h=HI(this.apiClient,t);return d=oe("batches/{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Al(y))}}async cancel(t){var i,s,r,l;let c="",d={};if(this.apiClient.isVertexAI()){const m=EI(this.apiClient,t);c=oe("batchPredictionJobs/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const m=SI(this.apiClient,t);c=oe("batches/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=WI(t);return d=oe("batchPredictionJobs",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=e2(y),x=new xx;return Object.assign(x,T),x})}else{const h=QI(t);return d=oe("batches",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=ZI(y),x=new xx;return Object.assign(x,T),x})}}async delete(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=DI(this.apiClient,t);return d=oe("batchPredictionJobs/{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>kI(y))}else{const h=RI(this.apiClient,t);return d=oe("batches/{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>II(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r2(e){const t={},i=f(e,["data"]);if(i!=null&&p(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function bx(e){const t={},i=f(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>M2(l))),p(t,["parts"],r)}const s=f(e,["role"]);return s!=null&&p(t,["role"],s),t}function a2(e,t){const i={},s=f(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const r=f(e,["expireTime"]);t!==void 0&&r!=null&&p(t,["expireTime"],r);const l=f(e,["displayName"]);t!==void 0&&l!=null&&p(t,["displayName"],l);const c=f(e,["contents"]);if(t!==void 0&&c!=null){let y=jt(c);Array.isArray(y)&&(y=y.map(T=>bx(T))),p(t,["contents"],y)}const d=f(e,["systemInstruction"]);t!==void 0&&d!=null&&p(t,["systemInstruction"],bx(mt(d)));const m=f(e,["tools"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(T=>D2(T))),p(t,["tools"],y)}const h=f(e,["toolConfig"]);if(t!==void 0&&h!=null&&p(t,["toolConfig"],R2(h)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function l2(e,t){const i={},s=f(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const r=f(e,["expireTime"]);t!==void 0&&r!=null&&p(t,["expireTime"],r);const l=f(e,["displayName"]);t!==void 0&&l!=null&&p(t,["displayName"],l);const c=f(e,["contents"]);if(t!==void 0&&c!=null){let T=jt(c);Array.isArray(T)&&(T=T.map(x=>x)),p(t,["contents"],T)}const d=f(e,["systemInstruction"]);t!==void 0&&d!=null&&p(t,["systemInstruction"],mt(d));const m=f(e,["tools"]);if(t!==void 0&&m!=null){let T=m;Array.isArray(T)&&(T=T.map(x=>I2(x))),p(t,["tools"],T)}const h=f(e,["toolConfig"]);t!==void 0&&h!=null&&p(t,["toolConfig"],h);const y=f(e,["kmsKeyName"]);return t!==void 0&&y!=null&&p(t,["encryption_spec","kmsKeyName"],y),i}function u2(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["model"],tE(e,s));const r=f(t,["config"]);return r!=null&&a2(r,i),i}function c2(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["model"],tE(e,s));const r=f(t,["config"]);return r!=null&&l2(r,i),i}function f2(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],ti(e,s)),i}function d2(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],ti(e,s)),i}function h2(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function p2(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function m2(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function g2(e){const t={},i=f(e,["id"]);i!=null&&p(t,["id"],i);const s=f(e,["args"]);s!=null&&p(t,["args"],s);const r=f(e,["name"]);if(r!=null&&p(t,["name"],r),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function y2(e){const t={},i=f(e,["allowedFunctionNames"]);i!=null&&p(t,["allowedFunctionNames"],i);const s=f(e,["mode"]);if(s!=null&&p(t,["mode"],s),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function v2(e){const t={},i=f(e,["description"]);i!=null&&p(t,["description"],i);const s=f(e,["name"]);s!=null&&p(t,["name"],s);const r=f(e,["parameters"]);r!=null&&p(t,["parameters"],r);const l=f(e,["parametersJsonSchema"]);l!=null&&p(t,["parametersJsonSchema"],l);const c=f(e,["response"]);c!=null&&p(t,["response"],c);const d=f(e,["responseJsonSchema"]);if(d!=null&&p(t,["responseJsonSchema"],d),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function x2(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],ti(e,s)),i}function T2(e,t){const i={},s=f(t,["name"]);return s!=null&&p(i,["_url","name"],ti(e,s)),i}function S2(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function E2(e){const t={},i=f(e,["searchTypes"]);if(i!=null&&p(t,["searchTypes"],i),f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(e,["timeRangeFilter"]);return s!=null&&p(t,["timeRangeFilter"],s),t}function _2(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&p(t,["_query","pageToken"],r),i}function b2(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&p(t,["_query","pageToken"],r),i}function C2(e){const t={},i=f(e,["config"]);return i!=null&&_2(i,t),t}function A2(e){const t={},i=f(e,["config"]);return i!=null&&b2(i,t),t}function w2(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["cachedContents"],l)}return t}function N2(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["cachedContents"],l)}return t}function M2(e){const t={},i=f(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=f(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const r=f(e,["executableCode"]);r!=null&&p(t,["executableCode"],r);const l=f(e,["fileData"]);l!=null&&p(t,["fileData"],m2(l));const c=f(e,["functionCall"]);c!=null&&p(t,["functionCall"],g2(c));const d=f(e,["functionResponse"]);d!=null&&p(t,["functionResponse"],d);const m=f(e,["inlineData"]);m!=null&&p(t,["inlineData"],r2(m));const h=f(e,["text"]);h!=null&&p(t,["text"],h);const y=f(e,["thought"]);y!=null&&p(t,["thought"],y);const T=f(e,["thoughtSignature"]);T!=null&&p(t,["thoughtSignature"],T);const x=f(e,["videoMetadata"]);return x!=null&&p(t,["videoMetadata"],x),t}function R2(e){const t={},i=f(e,["retrievalConfig"]);i!=null&&p(t,["retrievalConfig"],i);const s=f(e,["functionCallingConfig"]);return s!=null&&p(t,["functionCallingConfig"],y2(s)),t}function D2(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=f(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const r=f(e,["googleSearch"]);r!=null&&p(t,["googleSearch"],E2(r));const l=f(e,["codeExecution"]);if(l!=null&&p(t,["codeExecution"],l),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=f(e,["functionDeclarations"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["functionDeclarations"],T)}const d=f(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],S2(d));const m=f(e,["googleSearchRetrieval"]);m!=null&&p(t,["googleSearchRetrieval"],m);const h=f(e,["urlContext"]);h!=null&&p(t,["urlContext"],h);const y=f(e,["mcpServers"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["mcpServers"],T)}return t}function I2(e){const t={},i=f(e,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=f(e,["computerUse"]);if(s!=null&&p(t,["computerUse"],s),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=f(e,["googleSearch"]);r!=null&&p(t,["googleSearch"],r);const l=f(e,["codeExecution"]);l!=null&&p(t,["codeExecution"],l);const c=f(e,["enterpriseWebSearch"]);c!=null&&p(t,["enterpriseWebSearch"],c);const d=f(e,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(x=>v2(x))),p(t,["functionDeclarations"],T)}const m=f(e,["googleMaps"]);m!=null&&p(t,["googleMaps"],m);const h=f(e,["googleSearchRetrieval"]);h!=null&&p(t,["googleSearchRetrieval"],h);const y=f(e,["urlContext"]);if(y!=null&&p(t,["urlContext"],y),f(e,["mcpServers"])!==void 0)throw new Error("mcpServers parameter is not supported in Vertex AI.");return t}function k2(e,t){const i={},s=f(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const r=f(e,["expireTime"]);return t!==void 0&&r!=null&&p(t,["expireTime"],r),i}function U2(e,t){const i={},s=f(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const r=f(e,["expireTime"]);return t!==void 0&&r!=null&&p(t,["expireTime"],r),i}function P2(e,t){const i={},s=f(t,["name"]);s!=null&&p(i,["_url","name"],ti(e,s));const r=f(t,["config"]);return r!=null&&k2(r,i),i}function L2(e,t){const i={},s=f(t,["name"]);s!=null&&p(i,["_url","name"],ti(e,s));const r=f(t,["config"]);return r!=null&&U2(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V2 extends ei{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new po(Zn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=c2(this.apiClient,t);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=u2(this.apiClient,t);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=T2(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=x2(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=d2(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=p2(y),x=new yx;return Object.assign(x,T),x})}else{const h=f2(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=h2(y),x=new yx;return Object.assign(x,T),x})}}async update(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=L2(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=P2(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=A2(t);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=N2(y),x=new vx;return Object.assign(x,T),x})}else{const h=C2(t);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=w2(y),x=new vx;return Object.assign(x,T),x})}}}function Hl(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(i[s[r]]=e[s[r]]);return i}function Cx(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xe(e){return this instanceof xe?(this.v=e,this):new xe(e)}function Tn(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(e,t||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(_){return function(b){return Promise.resolve(b).then(_,T)}}function d(_,b){s[_]&&(r[_]=function(A){return new Promise(function(w,N){l.push([_,A,w,N])>1||m(_,A)})},b&&(r[_]=b(r[_])))}function m(_,b){try{h(s[_](b))}catch(A){x(l[0][3],A)}}function h(_){_.value instanceof xe?Promise.resolve(_.value.v).then(y,T):x(l[0][2],_)}function y(_){m("next",_)}function T(_){m("throw",_)}function x(_,b){_(b),l.shift(),l.length&&m(l[0][0],l[0][1])}}function Sn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof Cx=="function"?Cx(e):e[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(l){i[l]=e[l]&&function(c){return new Promise(function(d,m){c=e[l](c),r(d,m,c.done,c.value)})}}function r(l,c,d,m){Promise.resolve(m).then(function(h){l({value:h,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G2(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const i=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:pE(i)}function pE(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function z2(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ax(e){if(e===void 0||e.length===0)return[];const t=[],i=e.length;let s=0;for(;s<i;)if(e[s].role==="user")t.push(e[s]),s++;else{const r=[];let l=!0;for(;s<i&&e[s].role==="model";)r.push(e[s]),l&&!pE(e[s])&&(l=!1),s++;l?t.push(...r):t.pop()}return t}class B2{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new O2(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class O2{constructor(t,i,s,r={},l=[]){this.apiClient=t,this.modelsModule=i,this.model=s,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),z2(l)}async sendMessage(t){var i;await this.sendPromise;const s=mt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,d;const m=await r,h=(c=(l=m.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,y=m.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let x=[];y!=null&&(x=(d=y.slice(T))!==null&&d!==void 0?d:[]);const _=h?[h]:[];this.recordHistory(s,_,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var i;await this.sendPromise;const s=mt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,s)}getHistory(t=!1){const i=t?Ax(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){return Tn(this,arguments,function*(){var r,l,c,d,m,h;const y=[];try{for(var T=!0,x=Sn(t),_;_=yield xe(x.next()),r=_.done,!r;T=!0){d=_.value,T=!1;const b=d;if(G2(b)){const A=(h=(m=b.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content;A!==void 0&&y.push(A)}yield yield xe(b)}}catch(b){l={error:b}}finally{try{!T&&!r&&(c=x.return)&&(yield xe(c.call(x)))}finally{if(l)throw l.error}}this.recordHistory(i,y)})}recordHistory(t,i,s){let r=[];i.length>0&&i.every(l=>l.role!==void 0)?r=i:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ax(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vr extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Vr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function H2(e){const t={},i=f(e,["file"]);return i!=null&&p(t,["file"],i),t}function q2(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function F2(e){const t={},i=f(e,["name"]);return i!=null&&p(t,["_url","file"],aE(i)),t}function Y2(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function J2(e){const t={},i=f(e,["name"]);return i!=null&&p(t,["_url","file"],aE(i)),t}function K2(e){const t={},i=f(e,["uris"]);return i!=null&&p(t,["uris"],i),t}function X2(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&p(t,["_query","pageToken"],r),i}function $2(e){const t={},i=f(e,["config"]);return i!=null&&X2(i,t),t}function j2(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["files"],l)}return t}function Q2(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),p(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W2 extends ei{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new po(Zn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=$2(t);return l=oe("files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const h=j2(m),y=new WD;return Object.assign(y,h),y})}}async createInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=H2(t);return l=oe("upload/v1beta/files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=q2(m),y=new ZD;return Object.assign(y,h),y})}}async get(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J2(t);return l=oe("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=F2(t);return l=oe("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const h=Y2(m),y=new eI;return Object.assign(y,h),y})}}async registerFilesInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=K2(t);return l=oe("files:register",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=Q2(m),y=new tI;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wl(e){const t={},i=f(e,["data"]);if(i!=null&&p(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function Z2(e){const t={},i=f(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>mk(l))),p(t,["parts"],r)}const s=f(e,["role"]);return s!=null&&p(t,["role"],s),t}function ek(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function tk(e){const t={},i=f(e,["id"]);i!=null&&p(t,["id"],i);const s=f(e,["args"]);s!=null&&p(t,["args"],s);const r=f(e,["name"]);if(r!=null&&p(t,["name"],r),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function nk(e){const t={},i=f(e,["description"]);i!=null&&p(t,["description"],i);const s=f(e,["name"]);s!=null&&p(t,["name"],s);const r=f(e,["parameters"]);r!=null&&p(t,["parameters"],r);const l=f(e,["parametersJsonSchema"]);l!=null&&p(t,["parametersJsonSchema"],l);const c=f(e,["response"]);c!=null&&p(t,["response"],c);const d=f(e,["responseJsonSchema"]);if(d!=null&&p(t,["responseJsonSchema"],d),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function ik(e){const t={},i=f(e,["modelSelectionConfig"]);i!=null&&p(t,["modelConfig"],i);const s=f(e,["responseJsonSchema"]);s!=null&&p(t,["responseJsonSchema"],s);const r=f(e,["audioTimestamp"]);r!=null&&p(t,["audioTimestamp"],r);const l=f(e,["candidateCount"]);l!=null&&p(t,["candidateCount"],l);const c=f(e,["enableAffectiveDialog"]);c!=null&&p(t,["enableAffectiveDialog"],c);const d=f(e,["frequencyPenalty"]);d!=null&&p(t,["frequencyPenalty"],d);const m=f(e,["logprobs"]);m!=null&&p(t,["logprobs"],m);const h=f(e,["maxOutputTokens"]);h!=null&&p(t,["maxOutputTokens"],h);const y=f(e,["mediaResolution"]);y!=null&&p(t,["mediaResolution"],y);const T=f(e,["presencePenalty"]);T!=null&&p(t,["presencePenalty"],T);const x=f(e,["responseLogprobs"]);x!=null&&p(t,["responseLogprobs"],x);const _=f(e,["responseMimeType"]);_!=null&&p(t,["responseMimeType"],_);const b=f(e,["responseModalities"]);b!=null&&p(t,["responseModalities"],b);const A=f(e,["responseSchema"]);A!=null&&p(t,["responseSchema"],A);const w=f(e,["routingConfig"]);w!=null&&p(t,["routingConfig"],w);const N=f(e,["seed"]);N!=null&&p(t,["seed"],N);const P=f(e,["speechConfig"]);P!=null&&p(t,["speechConfig"],P);const I=f(e,["stopSequences"]);I!=null&&p(t,["stopSequences"],I);const z=f(e,["temperature"]);z!=null&&p(t,["temperature"],z);const q=f(e,["thinkingConfig"]);q!=null&&p(t,["thinkingConfig"],q);const L=f(e,["topK"]);L!=null&&p(t,["topK"],L);const U=f(e,["topP"]);if(U!=null&&p(t,["topP"],U),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ok(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function sk(e){const t={},i=f(e,["searchTypes"]);if(i!=null&&p(t,["searchTypes"],i),f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(e,["timeRangeFilter"]);return s!=null&&p(t,["timeRangeFilter"],s),t}function rk(e,t){const i={},s=f(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig","responseModalities"],r);const l=f(e,["temperature"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","temperature"],l);const c=f(e,["topP"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","topP"],c);const d=f(e,["topK"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topK"],d);const m=f(e,["maxOutputTokens"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","maxOutputTokens"],m);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","seed"],y);const T=f(e,["speechConfig"]);t!==void 0&&T!=null&&p(t,["setup","generationConfig","speechConfig"],bh(T));const x=f(e,["thinkingConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","thinkingConfig"],x);const _=f(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(e,["systemInstruction"]);t!==void 0&&b!=null&&p(t,["setup","systemInstruction"],Z2(mt(b)));const A=f(e,["tools"]);if(t!==void 0&&A!=null){let L=vs(A);Array.isArray(L)&&(L=L.map(U=>yk(ys(U)))),p(t,["setup","tools"],L)}const w=f(e,["sessionResumption"]);t!==void 0&&w!=null&&p(t,["setup","sessionResumption"],gk(w));const N=f(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&p(t,["setup","inputAudioTranscription"],N);const P=f(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&p(t,["setup","outputAudioTranscription"],P);const I=f(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&p(t,["setup","realtimeInputConfig"],I);const z=f(e,["contextWindowCompression"]);t!==void 0&&z!=null&&p(t,["setup","contextWindowCompression"],z);const q=f(e,["proactivity"]);if(t!==void 0&&q!=null&&p(t,["setup","proactivity"],q),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function ak(e,t){const i={},s=f(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],ik(s));const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig","responseModalities"],r);const l=f(e,["temperature"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","temperature"],l);const c=f(e,["topP"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","topP"],c);const d=f(e,["topK"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topK"],d);const m=f(e,["maxOutputTokens"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","maxOutputTokens"],m);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","seed"],y);const T=f(e,["speechConfig"]);t!==void 0&&T!=null&&p(t,["setup","generationConfig","speechConfig"],bh(T));const x=f(e,["thinkingConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","thinkingConfig"],x);const _=f(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(e,["systemInstruction"]);t!==void 0&&b!=null&&p(t,["setup","systemInstruction"],mt(b));const A=f(e,["tools"]);if(t!==void 0&&A!=null){let U=vs(A);Array.isArray(U)&&(U=U.map(B=>vk(ys(B)))),p(t,["setup","tools"],U)}const w=f(e,["sessionResumption"]);t!==void 0&&w!=null&&p(t,["setup","sessionResumption"],w);const N=f(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&p(t,["setup","inputAudioTranscription"],N);const P=f(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&p(t,["setup","outputAudioTranscription"],P);const I=f(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&p(t,["setup","realtimeInputConfig"],I);const z=f(e,["contextWindowCompression"]);t!==void 0&&z!=null&&p(t,["setup","contextWindowCompression"],z);const q=f(e,["proactivity"]);t!==void 0&&q!=null&&p(t,["setup","proactivity"],q);const L=f(e,["explicitVadSignal"]);return t!==void 0&&L!=null&&p(t,["setup","explicitVadSignal"],L),i}function lk(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["setup","model"],Ge(e,s));const r=f(t,["config"]);return r!=null&&p(i,["config"],rk(r,i)),i}function uk(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["setup","model"],Ge(e,s));const r=f(t,["config"]);return r!=null&&p(i,["config"],ak(r,i)),i}function ck(e){const t={},i=f(e,["musicGenerationConfig"]);return i!=null&&p(t,["musicGenerationConfig"],i),t}function fk(e){const t={},i=f(e,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>r)),p(t,["weightedPrompts"],s)}return t}function dk(e){const t={},i=f(e,["media"]);if(i!=null){let h=nE(i);Array.isArray(h)&&(h=h.map(y=>wl(y))),p(t,["mediaChunks"],h)}const s=f(e,["audio"]);s!=null&&p(t,["audio"],wl(oE(s)));const r=f(e,["audioStreamEnd"]);r!=null&&p(t,["audioStreamEnd"],r);const l=f(e,["video"]);l!=null&&p(t,["video"],wl(iE(l)));const c=f(e,["text"]);c!=null&&p(t,["text"],c);const d=f(e,["activityStart"]);d!=null&&p(t,["activityStart"],d);const m=f(e,["activityEnd"]);return m!=null&&p(t,["activityEnd"],m),t}function hk(e){const t={},i=f(e,["media"]);if(i!=null){let h=nE(i);Array.isArray(h)&&(h=h.map(y=>y)),p(t,["mediaChunks"],h)}const s=f(e,["audio"]);s!=null&&p(t,["audio"],oE(s));const r=f(e,["audioStreamEnd"]);r!=null&&p(t,["audioStreamEnd"],r);const l=f(e,["video"]);l!=null&&p(t,["video"],iE(l));const c=f(e,["text"]);c!=null&&p(t,["text"],c);const d=f(e,["activityStart"]);d!=null&&p(t,["activityStart"],d);const m=f(e,["activityEnd"]);return m!=null&&p(t,["activityEnd"],m),t}function pk(e){const t={},i=f(e,["setupComplete"]);i!=null&&p(t,["setupComplete"],i);const s=f(e,["serverContent"]);s!=null&&p(t,["serverContent"],s);const r=f(e,["toolCall"]);r!=null&&p(t,["toolCall"],r);const l=f(e,["toolCallCancellation"]);l!=null&&p(t,["toolCallCancellation"],l);const c=f(e,["usageMetadata"]);c!=null&&p(t,["usageMetadata"],xk(c));const d=f(e,["goAway"]);d!=null&&p(t,["goAway"],d);const m=f(e,["sessionResumptionUpdate"]);m!=null&&p(t,["sessionResumptionUpdate"],m);const h=f(e,["voiceActivityDetectionSignal"]);h!=null&&p(t,["voiceActivityDetectionSignal"],h);const y=f(e,["voiceActivity"]);return y!=null&&p(t,["voiceActivity"],Tk(y)),t}function mk(e){const t={},i=f(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=f(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const r=f(e,["executableCode"]);r!=null&&p(t,["executableCode"],r);const l=f(e,["fileData"]);l!=null&&p(t,["fileData"],ek(l));const c=f(e,["functionCall"]);c!=null&&p(t,["functionCall"],tk(c));const d=f(e,["functionResponse"]);d!=null&&p(t,["functionResponse"],d);const m=f(e,["inlineData"]);m!=null&&p(t,["inlineData"],wl(m));const h=f(e,["text"]);h!=null&&p(t,["text"],h);const y=f(e,["thought"]);y!=null&&p(t,["thought"],y);const T=f(e,["thoughtSignature"]);T!=null&&p(t,["thoughtSignature"],T);const x=f(e,["videoMetadata"]);return x!=null&&p(t,["videoMetadata"],x),t}function gk(e){const t={},i=f(e,["handle"]);if(i!=null&&p(t,["handle"],i),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yk(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=f(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const r=f(e,["googleSearch"]);r!=null&&p(t,["googleSearch"],sk(r));const l=f(e,["codeExecution"]);if(l!=null&&p(t,["codeExecution"],l),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=f(e,["functionDeclarations"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["functionDeclarations"],T)}const d=f(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],ok(d));const m=f(e,["googleSearchRetrieval"]);m!=null&&p(t,["googleSearchRetrieval"],m);const h=f(e,["urlContext"]);h!=null&&p(t,["urlContext"],h);const y=f(e,["mcpServers"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["mcpServers"],T)}return t}function vk(e){const t={},i=f(e,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=f(e,["computerUse"]);if(s!=null&&p(t,["computerUse"],s),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=f(e,["googleSearch"]);r!=null&&p(t,["googleSearch"],r);const l=f(e,["codeExecution"]);l!=null&&p(t,["codeExecution"],l);const c=f(e,["enterpriseWebSearch"]);c!=null&&p(t,["enterpriseWebSearch"],c);const d=f(e,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(x=>nk(x))),p(t,["functionDeclarations"],T)}const m=f(e,["googleMaps"]);m!=null&&p(t,["googleMaps"],m);const h=f(e,["googleSearchRetrieval"]);h!=null&&p(t,["googleSearchRetrieval"],h);const y=f(e,["urlContext"]);if(y!=null&&p(t,["urlContext"],y),f(e,["mcpServers"])!==void 0)throw new Error("mcpServers parameter is not supported in Vertex AI.");return t}function xk(e){const t={},i=f(e,["promptTokenCount"]);i!=null&&p(t,["promptTokenCount"],i);const s=f(e,["cachedContentTokenCount"]);s!=null&&p(t,["cachedContentTokenCount"],s);const r=f(e,["candidatesTokenCount"]);r!=null&&p(t,["responseTokenCount"],r);const l=f(e,["toolUsePromptTokenCount"]);l!=null&&p(t,["toolUsePromptTokenCount"],l);const c=f(e,["thoughtsTokenCount"]);c!=null&&p(t,["thoughtsTokenCount"],c);const d=f(e,["totalTokenCount"]);d!=null&&p(t,["totalTokenCount"],d);const m=f(e,["promptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(b=>b)),p(t,["promptTokensDetails"],_)}const h=f(e,["cacheTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(b=>b)),p(t,["cacheTokensDetails"],_)}const y=f(e,["candidatesTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(b=>b)),p(t,["responseTokensDetails"],_)}const T=f(e,["toolUsePromptTokensDetails"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(b=>b)),p(t,["toolUsePromptTokensDetails"],_)}const x=f(e,["trafficType"]);return x!=null&&p(t,["trafficType"],x),t}function Tk(e){const t={},i=f(e,["type"]);return i!=null&&p(t,["voiceActivityType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sk(e,t){const i={},s=f(e,["data"]);if(s!=null&&p(i,["data"],s),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(e,["mimeType"]);return r!=null&&p(i,["mimeType"],r),i}function Ek(e,t){const i={},s=f(e,["content"]);s!=null&&p(i,["content"],s);const r=f(e,["citationMetadata"]);r!=null&&p(i,["citationMetadata"],_k(r));const l=f(e,["tokenCount"]);l!=null&&p(i,["tokenCount"],l);const c=f(e,["finishReason"]);c!=null&&p(i,["finishReason"],c);const d=f(e,["groundingMetadata"]);d!=null&&p(i,["groundingMetadata"],d);const m=f(e,["avgLogprobs"]);m!=null&&p(i,["avgLogprobs"],m);const h=f(e,["index"]);h!=null&&p(i,["index"],h);const y=f(e,["logprobsResult"]);y!=null&&p(i,["logprobsResult"],y);const T=f(e,["safetyRatings"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(b=>b)),p(i,["safetyRatings"],_)}const x=f(e,["urlContextMetadata"]);return x!=null&&p(i,["urlContextMetadata"],x),i}function _k(e,t){const i={},s=f(e,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),p(i,["citations"],r)}return i}function bk(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["contents"]);if(l!=null){let c=jt(l);Array.isArray(c)&&(c=c.map(d=>d)),p(s,["contents"],c)}return s}function Ck(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["tokensInfo"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(i,["tokensInfo"],l)}return i}function Ak(e,t){const i={},s=f(e,["values"]);s!=null&&p(i,["values"],s);const r=f(e,["statistics"]);return r!=null&&p(i,["statistics"],wk(r)),i}function wk(e,t){const i={},s=f(e,["truncated"]);s!=null&&p(i,["truncated"],s);const r=f(e,["token_count"]);return r!=null&&p(i,["tokenCount"],r),i}function Fr(e,t){const i={},s=f(e,["parts"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>LU(c))),p(i,["parts"],l)}const r=f(e,["role"]);return r!=null&&p(i,["role"],r),i}function Nk(e,t){const i={},s=f(e,["controlType"]);s!=null&&p(i,["controlType"],s);const r=f(e,["enableControlImageComputation"]);return r!=null&&p(i,["computeControl"],r),i}function Mk(e,t){const i={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function Rk(e,t,i){const s={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&p(t,["systemInstruction"],mt(r));const l=f(e,["tools"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>vE(m))),p(t,["tools"],d)}const c=f(e,["generationConfig"]);return t!==void 0&&c!=null&&p(t,["generationConfig"],SU(c)),s}function Dk(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["contents"]);if(l!=null){let d=jt(l);Array.isArray(d)&&(d=d.map(m=>Fr(m))),p(s,["contents"],d)}const c=f(t,["config"]);return c!=null&&Mk(c),s}function Ik(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["contents"]);if(l!=null){let d=jt(l);Array.isArray(d)&&(d=d.map(m=>m)),p(s,["contents"],d)}const c=f(t,["config"]);return c!=null&&Rk(c,s),s}function kk(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["totalTokens"]);r!=null&&p(i,["totalTokens"],r);const l=f(e,["cachedContentTokenCount"]);return l!=null&&p(i,["cachedContentTokenCount"],l),i}function Uk(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["totalTokens"]);return r!=null&&p(i,["totalTokens"],r),i}function Pk(e,t,i){const s={},r=f(t,["model"]);return r!=null&&p(s,["_url","name"],Ge(e,r)),s}function Lk(e,t,i){const s={},r=f(t,["model"]);return r!=null&&p(s,["_url","name"],Ge(e,r)),s}function Vk(e,t){const i={},s=f(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function Gk(e,t){const i={},s=f(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function zk(e,t,i){const s={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&p(t,["parameters","storageUri"],r);const l=f(e,["negativePrompt"]);t!==void 0&&l!=null&&p(t,["parameters","negativePrompt"],l);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&p(t,["parameters","sampleCount"],c);const d=f(e,["aspectRatio"]);t!==void 0&&d!=null&&p(t,["parameters","aspectRatio"],d);const m=f(e,["guidanceScale"]);t!==void 0&&m!=null&&p(t,["parameters","guidanceScale"],m);const h=f(e,["seed"]);t!==void 0&&h!=null&&p(t,["parameters","seed"],h);const y=f(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&p(t,["parameters","safetySetting"],y);const T=f(e,["personGeneration"]);t!==void 0&&T!=null&&p(t,["parameters","personGeneration"],T);const x=f(e,["includeSafetyAttributes"]);t!==void 0&&x!=null&&p(t,["parameters","includeSafetyAttributes"],x);const _=f(e,["includeRaiReason"]);t!==void 0&&_!=null&&p(t,["parameters","includeRaiReason"],_);const b=f(e,["language"]);t!==void 0&&b!=null&&p(t,["parameters","language"],b);const A=f(e,["outputMimeType"]);t!==void 0&&A!=null&&p(t,["parameters","outputOptions","mimeType"],A);const w=f(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&p(t,["parameters","outputOptions","compressionQuality"],w);const N=f(e,["addWatermark"]);t!==void 0&&N!=null&&p(t,["parameters","addWatermark"],N);const P=f(e,["labels"]);t!==void 0&&P!=null&&p(t,["labels"],P);const I=f(e,["editMode"]);t!==void 0&&I!=null&&p(t,["parameters","editMode"],I);const z=f(e,["baseSteps"]);return t!==void 0&&z!=null&&p(t,["parameters","editConfig","baseSteps"],z),s}function Bk(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["prompt"]);l!=null&&p(s,["instances[0]","prompt"],l);const c=f(t,["referenceImages"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>HU(h))),p(s,["instances[0]","referenceImages"],m)}const d=f(t,["config"]);return d!=null&&zk(d,s),s}function Ok(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ql(c))),p(i,["generatedImages"],l)}return i}function Hk(e,t,i){const s={},r=f(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const l=f(e,["title"]);t!==void 0&&l!=null&&p(t,["requests[]","title"],l);const c=f(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&p(t,["requests[]","outputDimensionality"],c),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function qk(e,t,i){const s={};let r=f(i,["embeddingApiType"]);if(r===void 0&&(r="PREDICT"),r==="PREDICT"){const h=f(e,["taskType"]);t!==void 0&&h!=null&&p(t,["instances[]","task_type"],h)}else if(r==="EMBED_CONTENT"){const h=f(e,["taskType"]);t!==void 0&&h!=null&&p(t,["taskType"],h)}let l=f(i,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const h=f(e,["title"]);t!==void 0&&h!=null&&p(t,["instances[]","title"],h)}else if(l==="EMBED_CONTENT"){const h=f(e,["title"]);t!==void 0&&h!=null&&p(t,["title"],h)}let c=f(i,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const h=f(e,["outputDimensionality"]);t!==void 0&&h!=null&&p(t,["parameters","outputDimensionality"],h)}else if(c==="EMBED_CONTENT"){const h=f(e,["outputDimensionality"]);t!==void 0&&h!=null&&p(t,["outputDimensionality"],h)}let d=f(i,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="PREDICT"){const h=f(e,["mimeType"]);t!==void 0&&h!=null&&p(t,["instances[]","mimeType"],h)}let m=f(i,["embeddingApiType"]);if(m===void 0&&(m="PREDICT"),m==="PREDICT"){const h=f(e,["autoTruncate"]);t!==void 0&&h!=null&&p(t,["parameters","autoTruncate"],h)}else if(m==="EMBED_CONTENT"){const h=f(e,["autoTruncate"]);t!==void 0&&h!=null&&p(t,["autoTruncate"],h)}return s}function Fk(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["contents"]);if(l!=null){let h=Sh(e,l);Array.isArray(h)&&(h=h.map(y=>y)),p(s,["requests[]","content"],h)}const c=f(t,["content"]);c!=null&&Fr(mt(c));const d=f(t,["config"]);d!=null&&Hk(d,s);const m=f(t,["model"]);return m!==void 0&&p(s,["requests[]","model"],Ge(e,m)),s}function Yk(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));let l=f(i,["embeddingApiType"]);if(l===void 0&&(l="PREDICT"),l==="PREDICT"){const m=f(t,["contents"]);if(m!=null){let h=Sh(e,m);Array.isArray(h)&&(h=h.map(y=>y)),p(s,["instances[]","content"],h)}}let c=f(i,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="EMBED_CONTENT"){const m=f(t,["content"]);m!=null&&p(s,["content"],mt(m))}const d=f(t,["config"]);return d!=null&&qk(d,s,i),s}function Jk(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),p(i,["embeddings"],c)}const l=f(e,["metadata"]);return l!=null&&p(i,["metadata"],l),i}function Kk(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ak(d))),p(i,["embeddings"],c)}const l=f(e,["metadata"]);if(l!=null&&p(i,["metadata"],l),t&&f(t,["embeddingApiType"])==="EMBED_CONTENT"){const c=f(e,["embedding"]),d=f(e,["usageMetadata"]),m=f(e,["truncated"]);if(c){const h={};d&&d.promptTokenCount&&(h.tokenCount=d.promptTokenCount),m&&(h.truncated=m),c.statistics=h,p(i,["embeddings"],[c])}}return i}function Xk(e,t){const i={},s=f(e,["endpoint"]);s!=null&&p(i,["name"],s);const r=f(e,["deployedModelId"]);return r!=null&&p(i,["deployedModelId"],r),i}function $k(e,t){const i={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(e,["fileUri"]);s!=null&&p(i,["fileUri"],s);const r=f(e,["mimeType"]);return r!=null&&p(i,["mimeType"],r),i}function jk(e,t){const i={},s=f(e,["id"]);s!=null&&p(i,["id"],s);const r=f(e,["args"]);r!=null&&p(i,["args"],r);const l=f(e,["name"]);if(l!=null&&p(i,["name"],l),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function Qk(e,t){const i={},s=f(e,["allowedFunctionNames"]);s!=null&&p(i,["allowedFunctionNames"],s);const r=f(e,["mode"]);if(r!=null&&p(i,["mode"],r),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function Wk(e,t){const i={},s=f(e,["description"]);s!=null&&p(i,["description"],s);const r=f(e,["name"]);r!=null&&p(i,["name"],r);const l=f(e,["parameters"]);l!=null&&p(i,["parameters"],l);const c=f(e,["parametersJsonSchema"]);c!=null&&p(i,["parametersJsonSchema"],c);const d=f(e,["response"]);d!=null&&p(i,["response"],d);const m=f(e,["responseJsonSchema"]);if(m!=null&&p(i,["responseJsonSchema"],m),f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function Zk(e,t,i,s){const r={},l=f(t,["systemInstruction"]);i!==void 0&&l!=null&&p(i,["systemInstruction"],Fr(mt(l)));const c=f(t,["temperature"]);c!=null&&p(r,["temperature"],c);const d=f(t,["topP"]);d!=null&&p(r,["topP"],d);const m=f(t,["topK"]);m!=null&&p(r,["topK"],m);const h=f(t,["candidateCount"]);h!=null&&p(r,["candidateCount"],h);const y=f(t,["maxOutputTokens"]);y!=null&&p(r,["maxOutputTokens"],y);const T=f(t,["stopSequences"]);T!=null&&p(r,["stopSequences"],T);const x=f(t,["responseLogprobs"]);x!=null&&p(r,["responseLogprobs"],x);const _=f(t,["logprobs"]);_!=null&&p(r,["logprobs"],_);const b=f(t,["presencePenalty"]);b!=null&&p(r,["presencePenalty"],b);const A=f(t,["frequencyPenalty"]);A!=null&&p(r,["frequencyPenalty"],A);const w=f(t,["seed"]);w!=null&&p(r,["seed"],w);const N=f(t,["responseMimeType"]);N!=null&&p(r,["responseMimeType"],N);const P=f(t,["responseSchema"]);P!=null&&p(r,["responseSchema"],Eh(P));const I=f(t,["responseJsonSchema"]);if(I!=null&&p(r,["responseJsonSchema"],I),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=f(t,["safetySettings"]);if(i!==void 0&&z!=null){let Ie=z;Array.isArray(Ie)&&(Ie=Ie.map(ze=>qU(ze))),p(i,["safetySettings"],Ie)}const q=f(t,["tools"]);if(i!==void 0&&q!=null){let Ie=vs(q);Array.isArray(Ie)&&(Ie=Ie.map(ze=>jU(ys(ze)))),p(i,["tools"],Ie)}const L=f(t,["toolConfig"]);if(i!==void 0&&L!=null&&p(i,["toolConfig"],$U(L)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=f(t,["cachedContent"]);i!==void 0&&U!=null&&p(i,["cachedContent"],ti(e,U));const B=f(t,["responseModalities"]);B!=null&&p(r,["responseModalities"],B);const V=f(t,["mediaResolution"]);V!=null&&p(r,["mediaResolution"],V);const se=f(t,["speechConfig"]);if(se!=null&&p(r,["speechConfig"],_h(se)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=f(t,["thinkingConfig"]);ye!=null&&p(r,["thinkingConfig"],ye);const _e=f(t,["imageConfig"]);_e!=null&&p(r,["imageConfig"],AU(_e));const Ue=f(t,["enableEnhancedCivicAnswers"]);if(Ue!=null&&p(r,["enableEnhancedCivicAnswers"],Ue),f(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function eU(e,t,i,s){const r={},l=f(t,["systemInstruction"]);i!==void 0&&l!=null&&p(i,["systemInstruction"],mt(l));const c=f(t,["temperature"]);c!=null&&p(r,["temperature"],c);const d=f(t,["topP"]);d!=null&&p(r,["topP"],d);const m=f(t,["topK"]);m!=null&&p(r,["topK"],m);const h=f(t,["candidateCount"]);h!=null&&p(r,["candidateCount"],h);const y=f(t,["maxOutputTokens"]);y!=null&&p(r,["maxOutputTokens"],y);const T=f(t,["stopSequences"]);T!=null&&p(r,["stopSequences"],T);const x=f(t,["responseLogprobs"]);x!=null&&p(r,["responseLogprobs"],x);const _=f(t,["logprobs"]);_!=null&&p(r,["logprobs"],_);const b=f(t,["presencePenalty"]);b!=null&&p(r,["presencePenalty"],b);const A=f(t,["frequencyPenalty"]);A!=null&&p(r,["frequencyPenalty"],A);const w=f(t,["seed"]);w!=null&&p(r,["seed"],w);const N=f(t,["responseMimeType"]);N!=null&&p(r,["responseMimeType"],N);const P=f(t,["responseSchema"]);P!=null&&p(r,["responseSchema"],Eh(P));const I=f(t,["responseJsonSchema"]);I!=null&&p(r,["responseJsonSchema"],I);const z=f(t,["routingConfig"]);z!=null&&p(r,["routingConfig"],z);const q=f(t,["modelSelectionConfig"]);q!=null&&p(r,["modelConfig"],q);const L=f(t,["safetySettings"]);if(i!==void 0&&L!=null){let ie=L;Array.isArray(ie)&&(ie=ie.map(me=>me)),p(i,["safetySettings"],ie)}const U=f(t,["tools"]);if(i!==void 0&&U!=null){let ie=vs(U);Array.isArray(ie)&&(ie=ie.map(me=>vE(ys(me)))),p(i,["tools"],ie)}const B=f(t,["toolConfig"]);i!==void 0&&B!=null&&p(i,["toolConfig"],B);const V=f(t,["labels"]);i!==void 0&&V!=null&&p(i,["labels"],V);const se=f(t,["cachedContent"]);i!==void 0&&se!=null&&p(i,["cachedContent"],ti(e,se));const ye=f(t,["responseModalities"]);ye!=null&&p(r,["responseModalities"],ye);const _e=f(t,["mediaResolution"]);_e!=null&&p(r,["mediaResolution"],_e);const Ue=f(t,["speechConfig"]);Ue!=null&&p(r,["speechConfig"],_h(Ue));const Ie=f(t,["audioTimestamp"]);Ie!=null&&p(r,["audioTimestamp"],Ie);const ze=f(t,["thinkingConfig"]);ze!=null&&p(r,["thinkingConfig"],ze);const F=f(t,["imageConfig"]);if(F!=null&&p(r,["imageConfig"],wU(F)),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const W=f(t,["modelArmorConfig"]);return i!==void 0&&W!=null&&p(i,["modelArmorConfig"],W),r}function wx(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["contents"]);if(l!=null){let d=jt(l);Array.isArray(d)&&(d=d.map(m=>Fr(m))),p(s,["contents"],d)}const c=f(t,["config"]);return c!=null&&p(s,["generationConfig"],Zk(e,c,s)),s}function Nx(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["contents"]);if(l!=null){let d=jt(l);Array.isArray(d)&&(d=d.map(m=>m)),p(s,["contents"],d)}const c=f(t,["config"]);return c!=null&&p(s,["generationConfig"],eU(e,c,s)),s}function Mx(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(y=>Ek(y))),p(i,["candidates"],h)}const l=f(e,["modelVersion"]);l!=null&&p(i,["modelVersion"],l);const c=f(e,["promptFeedback"]);c!=null&&p(i,["promptFeedback"],c);const d=f(e,["responseId"]);d!=null&&p(i,["responseId"],d);const m=f(e,["usageMetadata"]);return m!=null&&p(i,["usageMetadata"],m),i}function Rx(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(T=>T)),p(i,["candidates"],y)}const l=f(e,["createTime"]);l!=null&&p(i,["createTime"],l);const c=f(e,["modelVersion"]);c!=null&&p(i,["modelVersion"],c);const d=f(e,["promptFeedback"]);d!=null&&p(i,["promptFeedback"],d);const m=f(e,["responseId"]);m!=null&&p(i,["responseId"],m);const h=f(e,["usageMetadata"]);return h!=null&&p(i,["usageMetadata"],h),i}function tU(e,t,i){const s={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(e,["numberOfImages"]);t!==void 0&&r!=null&&p(t,["parameters","sampleCount"],r);const l=f(e,["aspectRatio"]);t!==void 0&&l!=null&&p(t,["parameters","aspectRatio"],l);const c=f(e,["guidanceScale"]);if(t!==void 0&&c!=null&&p(t,["parameters","guidanceScale"],c),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=f(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&p(t,["parameters","safetySetting"],d);const m=f(e,["personGeneration"]);t!==void 0&&m!=null&&p(t,["parameters","personGeneration"],m);const h=f(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const y=f(e,["includeRaiReason"]);t!==void 0&&y!=null&&p(t,["parameters","includeRaiReason"],y);const T=f(e,["language"]);t!==void 0&&T!=null&&p(t,["parameters","language"],T);const x=f(e,["outputMimeType"]);t!==void 0&&x!=null&&p(t,["parameters","outputOptions","mimeType"],x);const _=f(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&p(t,["parameters","outputOptions","compressionQuality"],_),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=f(e,["imageSize"]);if(t!==void 0&&b!=null&&p(t,["parameters","sampleImageSize"],b),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function nU(e,t,i){const s={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&p(t,["parameters","storageUri"],r);const l=f(e,["negativePrompt"]);t!==void 0&&l!=null&&p(t,["parameters","negativePrompt"],l);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&p(t,["parameters","sampleCount"],c);const d=f(e,["aspectRatio"]);t!==void 0&&d!=null&&p(t,["parameters","aspectRatio"],d);const m=f(e,["guidanceScale"]);t!==void 0&&m!=null&&p(t,["parameters","guidanceScale"],m);const h=f(e,["seed"]);t!==void 0&&h!=null&&p(t,["parameters","seed"],h);const y=f(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&p(t,["parameters","safetySetting"],y);const T=f(e,["personGeneration"]);t!==void 0&&T!=null&&p(t,["parameters","personGeneration"],T);const x=f(e,["includeSafetyAttributes"]);t!==void 0&&x!=null&&p(t,["parameters","includeSafetyAttributes"],x);const _=f(e,["includeRaiReason"]);t!==void 0&&_!=null&&p(t,["parameters","includeRaiReason"],_);const b=f(e,["language"]);t!==void 0&&b!=null&&p(t,["parameters","language"],b);const A=f(e,["outputMimeType"]);t!==void 0&&A!=null&&p(t,["parameters","outputOptions","mimeType"],A);const w=f(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&p(t,["parameters","outputOptions","compressionQuality"],w);const N=f(e,["addWatermark"]);t!==void 0&&N!=null&&p(t,["parameters","addWatermark"],N);const P=f(e,["labels"]);t!==void 0&&P!=null&&p(t,["labels"],P);const I=f(e,["imageSize"]);t!==void 0&&I!=null&&p(t,["parameters","sampleImageSize"],I);const z=f(e,["enhancePrompt"]);return t!==void 0&&z!=null&&p(t,["parameters","enhancePrompt"],z),s}function iU(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["prompt"]);l!=null&&p(s,["instances[0]","prompt"],l);const c=f(t,["config"]);return c!=null&&tU(c,s),s}function oU(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["prompt"]);l!=null&&p(s,["instances[0]","prompt"],l);const c=f(t,["config"]);return c!=null&&nU(c,s),s}function sU(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>yU(d))),p(i,["generatedImages"],c)}const l=f(e,["positivePromptSafetyAttributes"]);return l!=null&&p(i,["positivePromptSafetyAttributes"],gE(l)),i}function rU(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>Ql(d))),p(i,["generatedImages"],c)}const l=f(e,["positivePromptSafetyAttributes"]);return l!=null&&p(i,["positivePromptSafetyAttributes"],yE(l)),i}function aU(e,t,i){const s={},r=f(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&p(t,["parameters","sampleCount"],r),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=f(e,["durationSeconds"]);if(t!==void 0&&l!=null&&p(t,["parameters","durationSeconds"],l),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(e,["aspectRatio"]);t!==void 0&&c!=null&&p(t,["parameters","aspectRatio"],c);const d=f(e,["resolution"]);t!==void 0&&d!=null&&p(t,["parameters","resolution"],d);const m=f(e,["personGeneration"]);if(t!==void 0&&m!=null&&p(t,["parameters","personGeneration"],m),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=f(e,["negativePrompt"]);t!==void 0&&h!=null&&p(t,["parameters","negativePrompt"],h);const y=f(e,["enhancePrompt"]);if(t!==void 0&&y!=null&&p(t,["parameters","enhancePrompt"],y),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=f(e,["lastFrame"]);t!==void 0&&T!=null&&p(t,["instances[0]","lastFrame"],Wl(T));const x=f(e,["referenceImages"]);if(t!==void 0&&x!=null){let _=x;Array.isArray(_)&&(_=_.map(b=>uP(b))),p(t,["instances[0]","referenceImages"],_)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function lU(e,t,i){const s={},r=f(e,["numberOfVideos"]);t!==void 0&&r!=null&&p(t,["parameters","sampleCount"],r);const l=f(e,["outputGcsUri"]);t!==void 0&&l!=null&&p(t,["parameters","storageUri"],l);const c=f(e,["fps"]);t!==void 0&&c!=null&&p(t,["parameters","fps"],c);const d=f(e,["durationSeconds"]);t!==void 0&&d!=null&&p(t,["parameters","durationSeconds"],d);const m=f(e,["seed"]);t!==void 0&&m!=null&&p(t,["parameters","seed"],m);const h=f(e,["aspectRatio"]);t!==void 0&&h!=null&&p(t,["parameters","aspectRatio"],h);const y=f(e,["resolution"]);t!==void 0&&y!=null&&p(t,["parameters","resolution"],y);const T=f(e,["personGeneration"]);t!==void 0&&T!=null&&p(t,["parameters","personGeneration"],T);const x=f(e,["pubsubTopic"]);t!==void 0&&x!=null&&p(t,["parameters","pubsubTopic"],x);const _=f(e,["negativePrompt"]);t!==void 0&&_!=null&&p(t,["parameters","negativePrompt"],_);const b=f(e,["enhancePrompt"]);t!==void 0&&b!=null&&p(t,["parameters","enhancePrompt"],b);const A=f(e,["generateAudio"]);t!==void 0&&A!=null&&p(t,["parameters","generateAudio"],A);const w=f(e,["lastFrame"]);t!==void 0&&w!=null&&p(t,["instances[0]","lastFrame"],En(w));const N=f(e,["referenceImages"]);if(t!==void 0&&N!=null){let z=N;Array.isArray(z)&&(z=z.map(q=>cP(q))),p(t,["instances[0]","referenceImages"],z)}const P=f(e,["mask"]);t!==void 0&&P!=null&&p(t,["instances[0]","mask"],lP(P));const I=f(e,["compressionQuality"]);return t!==void 0&&I!=null&&p(t,["parameters","compressionQuality"],I),s}function uU(e,t){const i={},s=f(e,["name"]);s!=null&&p(i,["name"],s);const r=f(e,["metadata"]);r!=null&&p(i,["metadata"],r);const l=f(e,["done"]);l!=null&&p(i,["done"],l);const c=f(e,["error"]);c!=null&&p(i,["error"],c);const d=f(e,["response","generateVideoResponse"]);return d!=null&&p(i,["response"],hU(d)),i}function cU(e,t){const i={},s=f(e,["name"]);s!=null&&p(i,["name"],s);const r=f(e,["metadata"]);r!=null&&p(i,["metadata"],r);const l=f(e,["done"]);l!=null&&p(i,["done"],l);const c=f(e,["error"]);c!=null&&p(i,["error"],c);const d=f(e,["response"]);return d!=null&&p(i,["response"],pU(d)),i}function fU(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["prompt"]);l!=null&&p(s,["instances[0]","prompt"],l);const c=f(t,["image"]);c!=null&&p(s,["instances[0]","image"],Wl(c));const d=f(t,["video"]);d!=null&&p(s,["instances[0]","video"],xE(d));const m=f(t,["source"]);m!=null&&mU(m,s);const h=f(t,["config"]);return h!=null&&aU(h,s),s}function dU(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["prompt"]);l!=null&&p(s,["instances[0]","prompt"],l);const c=f(t,["image"]);c!=null&&p(s,["instances[0]","image"],En(c));const d=f(t,["video"]);d!=null&&p(s,["instances[0]","video"],TE(d));const m=f(t,["source"]);m!=null&&gU(m,s);const h=f(t,["config"]);return h!=null&&lU(h,s),s}function hU(e,t){const i={},s=f(e,["generatedSamples"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>xU(d))),p(i,["generatedVideos"],c)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(i,["raiMediaFilteredCount"],r);const l=f(e,["raiMediaFilteredReasons"]);return l!=null&&p(i,["raiMediaFilteredReasons"],l),i}function pU(e,t){const i={},s=f(e,["videos"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>TU(d))),p(i,["generatedVideos"],c)}const r=f(e,["raiMediaFilteredCount"]);r!=null&&p(i,["raiMediaFilteredCount"],r);const l=f(e,["raiMediaFilteredReasons"]);return l!=null&&p(i,["raiMediaFilteredReasons"],l),i}function mU(e,t,i){const s={},r=f(e,["prompt"]);t!==void 0&&r!=null&&p(t,["instances[0]","prompt"],r);const l=f(e,["image"]);t!==void 0&&l!=null&&p(t,["instances[0]","image"],Wl(l));const c=f(e,["video"]);return t!==void 0&&c!=null&&p(t,["instances[0]","video"],xE(c)),s}function gU(e,t,i){const s={},r=f(e,["prompt"]);t!==void 0&&r!=null&&p(t,["instances[0]","prompt"],r);const l=f(e,["image"]);t!==void 0&&l!=null&&p(t,["instances[0]","image"],En(l));const c=f(e,["video"]);return t!==void 0&&c!=null&&p(t,["instances[0]","video"],TE(c)),s}function yU(e,t){const i={},s=f(e,["_self"]);s!=null&&p(i,["image"],NU(s));const r=f(e,["raiFilteredReason"]);r!=null&&p(i,["raiFilteredReason"],r);const l=f(e,["_self"]);return l!=null&&p(i,["safetyAttributes"],gE(l)),i}function Ql(e,t){const i={},s=f(e,["_self"]);s!=null&&p(i,["image"],mE(s));const r=f(e,["raiFilteredReason"]);r!=null&&p(i,["raiFilteredReason"],r);const l=f(e,["_self"]);l!=null&&p(i,["safetyAttributes"],yE(l));const c=f(e,["prompt"]);return c!=null&&p(i,["enhancedPrompt"],c),i}function vU(e,t){const i={},s=f(e,["_self"]);s!=null&&p(i,["mask"],mE(s));const r=f(e,["labels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(i,["labels"],l)}return i}function xU(e,t){const i={},s=f(e,["video"]);return s!=null&&p(i,["video"],rP(s)),i}function TU(e,t){const i={},s=f(e,["_self"]);return s!=null&&p(i,["video"],aP(s)),i}function SU(e,t){const i={},s=f(e,["modelSelectionConfig"]);s!=null&&p(i,["modelConfig"],s);const r=f(e,["responseJsonSchema"]);r!=null&&p(i,["responseJsonSchema"],r);const l=f(e,["audioTimestamp"]);l!=null&&p(i,["audioTimestamp"],l);const c=f(e,["candidateCount"]);c!=null&&p(i,["candidateCount"],c);const d=f(e,["enableAffectiveDialog"]);d!=null&&p(i,["enableAffectiveDialog"],d);const m=f(e,["frequencyPenalty"]);m!=null&&p(i,["frequencyPenalty"],m);const h=f(e,["logprobs"]);h!=null&&p(i,["logprobs"],h);const y=f(e,["maxOutputTokens"]);y!=null&&p(i,["maxOutputTokens"],y);const T=f(e,["mediaResolution"]);T!=null&&p(i,["mediaResolution"],T);const x=f(e,["presencePenalty"]);x!=null&&p(i,["presencePenalty"],x);const _=f(e,["responseLogprobs"]);_!=null&&p(i,["responseLogprobs"],_);const b=f(e,["responseMimeType"]);b!=null&&p(i,["responseMimeType"],b);const A=f(e,["responseModalities"]);A!=null&&p(i,["responseModalities"],A);const w=f(e,["responseSchema"]);w!=null&&p(i,["responseSchema"],w);const N=f(e,["routingConfig"]);N!=null&&p(i,["routingConfig"],N);const P=f(e,["seed"]);P!=null&&p(i,["seed"],P);const I=f(e,["speechConfig"]);I!=null&&p(i,["speechConfig"],I);const z=f(e,["stopSequences"]);z!=null&&p(i,["stopSequences"],z);const q=f(e,["temperature"]);q!=null&&p(i,["temperature"],q);const L=f(e,["thinkingConfig"]);L!=null&&p(i,["thinkingConfig"],L);const U=f(e,["topK"]);U!=null&&p(i,["topK"],U);const B=f(e,["topP"]);if(B!=null&&p(i,["topP"],B),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function EU(e,t,i){const s={},r=f(t,["model"]);return r!=null&&p(s,["_url","name"],Ge(e,r)),s}function _U(e,t,i){const s={},r=f(t,["model"]);return r!=null&&p(s,["_url","name"],Ge(e,r)),s}function bU(e,t){const i={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=f(e,["enableWidget"]);return s!=null&&p(i,["enableWidget"],s),i}function CU(e,t){const i={},s=f(e,["searchTypes"]);if(s!=null&&p(i,["searchTypes"],s),f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=f(e,["timeRangeFilter"]);return r!=null&&p(i,["timeRangeFilter"],r),i}function AU(e,t){const i={},s=f(e,["aspectRatio"]);s!=null&&p(i,["aspectRatio"],s);const r=f(e,["imageSize"]);if(r!=null&&p(i,["imageSize"],r),f(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(e,["prominentPeople"])!==void 0)throw new Error("prominentPeople parameter is not supported in Gemini API.");if(f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function wU(e,t){const i={},s=f(e,["aspectRatio"]);s!=null&&p(i,["aspectRatio"],s);const r=f(e,["imageSize"]);r!=null&&p(i,["imageSize"],r);const l=f(e,["personGeneration"]);l!=null&&p(i,["personGeneration"],l);const c=f(e,["prominentPeople"]);c!=null&&p(i,["prominentPeople"],c);const d=f(e,["outputMimeType"]);d!=null&&p(i,["imageOutputOptions","mimeType"],d);const m=f(e,["outputCompressionQuality"]);return m!=null&&p(i,["imageOutputOptions","compressionQuality"],m),i}function NU(e,t){const i={},s=f(e,["bytesBase64Encoded"]);s!=null&&p(i,["imageBytes"],Gi(s));const r=f(e,["mimeType"]);return r!=null&&p(i,["mimeType"],r),i}function mE(e,t){const i={},s=f(e,["gcsUri"]);s!=null&&p(i,["gcsUri"],s);const r=f(e,["bytesBase64Encoded"]);r!=null&&p(i,["imageBytes"],Gi(r));const l=f(e,["mimeType"]);return l!=null&&p(i,["mimeType"],l),i}function Wl(e,t){const i={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=f(e,["imageBytes"]);s!=null&&p(i,["bytesBase64Encoded"],Gi(s));const r=f(e,["mimeType"]);return r!=null&&p(i,["mimeType"],r),i}function En(e,t){const i={},s=f(e,["gcsUri"]);s!=null&&p(i,["gcsUri"],s);const r=f(e,["imageBytes"]);r!=null&&p(i,["bytesBase64Encoded"],Gi(r));const l=f(e,["mimeType"]);return l!=null&&p(i,["mimeType"],l),i}function MU(e,t,i,s){const r={},l=f(t,["pageSize"]);i!==void 0&&l!=null&&p(i,["_query","pageSize"],l);const c=f(t,["pageToken"]);i!==void 0&&c!=null&&p(i,["_query","pageToken"],c);const d=f(t,["filter"]);i!==void 0&&d!=null&&p(i,["_query","filter"],d);const m=f(t,["queryBase"]);return i!==void 0&&m!=null&&p(i,["_url","models_url"],lE(e,m)),r}function RU(e,t,i,s){const r={},l=f(t,["pageSize"]);i!==void 0&&l!=null&&p(i,["_query","pageSize"],l);const c=f(t,["pageToken"]);i!==void 0&&c!=null&&p(i,["_query","pageToken"],c);const d=f(t,["filter"]);i!==void 0&&d!=null&&p(i,["_query","filter"],d);const m=f(t,["queryBase"]);return i!==void 0&&m!=null&&p(i,["_url","models_url"],lE(e,m)),r}function DU(e,t,i){const s={},r=f(t,["config"]);return r!=null&&MU(e,r,s),s}function IU(e,t,i){const s={},r=f(t,["config"]);return r!=null&&RU(e,r,s),s}function kU(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["nextPageToken"]);r!=null&&p(i,["nextPageToken"],r);const l=f(e,["_self"]);if(l!=null){let c=uE(l);Array.isArray(c)&&(c=c.map(d=>Nd(d))),p(i,["models"],c)}return i}function UU(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["nextPageToken"]);r!=null&&p(i,["nextPageToken"],r);const l=f(e,["_self"]);if(l!=null){let c=uE(l);Array.isArray(c)&&(c=c.map(d=>Md(d))),p(i,["models"],c)}return i}function PU(e,t){const i={},s=f(e,["maskMode"]);s!=null&&p(i,["maskMode"],s);const r=f(e,["segmentationClasses"]);r!=null&&p(i,["maskClasses"],r);const l=f(e,["maskDilation"]);return l!=null&&p(i,["dilation"],l),i}function Nd(e,t){const i={},s=f(e,["name"]);s!=null&&p(i,["name"],s);const r=f(e,["displayName"]);r!=null&&p(i,["displayName"],r);const l=f(e,["description"]);l!=null&&p(i,["description"],l);const c=f(e,["version"]);c!=null&&p(i,["version"],c);const d=f(e,["_self"]);d!=null&&p(i,["tunedModelInfo"],QU(d));const m=f(e,["inputTokenLimit"]);m!=null&&p(i,["inputTokenLimit"],m);const h=f(e,["outputTokenLimit"]);h!=null&&p(i,["outputTokenLimit"],h);const y=f(e,["supportedGenerationMethods"]);y!=null&&p(i,["supportedActions"],y);const T=f(e,["temperature"]);T!=null&&p(i,["temperature"],T);const x=f(e,["maxTemperature"]);x!=null&&p(i,["maxTemperature"],x);const _=f(e,["topP"]);_!=null&&p(i,["topP"],_);const b=f(e,["topK"]);b!=null&&p(i,["topK"],b);const A=f(e,["thinking"]);return A!=null&&p(i,["thinking"],A),i}function Md(e,t){const i={},s=f(e,["name"]);s!=null&&p(i,["name"],s);const r=f(e,["displayName"]);r!=null&&p(i,["displayName"],r);const l=f(e,["description"]);l!=null&&p(i,["description"],l);const c=f(e,["versionId"]);c!=null&&p(i,["version"],c);const d=f(e,["deployedModels"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(_=>Xk(_))),p(i,["endpoints"],x)}const m=f(e,["labels"]);m!=null&&p(i,["labels"],m);const h=f(e,["_self"]);h!=null&&p(i,["tunedModelInfo"],WU(h));const y=f(e,["defaultCheckpointId"]);y!=null&&p(i,["defaultCheckpointId"],y);const T=f(e,["checkpoints"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(_=>_)),p(i,["checkpoints"],x)}return i}function LU(e,t){const i={},s=f(e,["mediaResolution"]);s!=null&&p(i,["mediaResolution"],s);const r=f(e,["codeExecutionResult"]);r!=null&&p(i,["codeExecutionResult"],r);const l=f(e,["executableCode"]);l!=null&&p(i,["executableCode"],l);const c=f(e,["fileData"]);c!=null&&p(i,["fileData"],$k(c));const d=f(e,["functionCall"]);d!=null&&p(i,["functionCall"],jk(d));const m=f(e,["functionResponse"]);m!=null&&p(i,["functionResponse"],m);const h=f(e,["inlineData"]);h!=null&&p(i,["inlineData"],Sk(h));const y=f(e,["text"]);y!=null&&p(i,["text"],y);const T=f(e,["thought"]);T!=null&&p(i,["thought"],T);const x=f(e,["thoughtSignature"]);x!=null&&p(i,["thoughtSignature"],x);const _=f(e,["videoMetadata"]);return _!=null&&p(i,["videoMetadata"],_),i}function VU(e,t){const i={},s=f(e,["productImage"]);return s!=null&&p(i,["image"],En(s)),i}function GU(e,t,i){const s={},r=f(e,["numberOfImages"]);t!==void 0&&r!=null&&p(t,["parameters","sampleCount"],r);const l=f(e,["baseSteps"]);t!==void 0&&l!=null&&p(t,["parameters","baseSteps"],l);const c=f(e,["outputGcsUri"]);t!==void 0&&c!=null&&p(t,["parameters","storageUri"],c);const d=f(e,["seed"]);t!==void 0&&d!=null&&p(t,["parameters","seed"],d);const m=f(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&p(t,["parameters","safetySetting"],m);const h=f(e,["personGeneration"]);t!==void 0&&h!=null&&p(t,["parameters","personGeneration"],h);const y=f(e,["addWatermark"]);t!==void 0&&y!=null&&p(t,["parameters","addWatermark"],y);const T=f(e,["outputMimeType"]);t!==void 0&&T!=null&&p(t,["parameters","outputOptions","mimeType"],T);const x=f(e,["outputCompressionQuality"]);t!==void 0&&x!=null&&p(t,["parameters","outputOptions","compressionQuality"],x);const _=f(e,["enhancePrompt"]);t!==void 0&&_!=null&&p(t,["parameters","enhancePrompt"],_);const b=f(e,["labels"]);return t!==void 0&&b!=null&&p(t,["labels"],b),s}function zU(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["source"]);l!=null&&OU(l,s);const c=f(t,["config"]);return c!=null&&GU(c,s),s}function BU(e,t){const i={},s=f(e,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>Ql(l))),p(i,["generatedImages"],r)}return i}function OU(e,t,i){const s={},r=f(e,["prompt"]);t!==void 0&&r!=null&&p(t,["instances[0]","prompt"],r);const l=f(e,["personImage"]);t!==void 0&&l!=null&&p(t,["instances[0]","personImage","image"],En(l));const c=f(e,["productImages"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>VU(m))),p(t,["instances[0]","productImages"],d)}return s}function HU(e,t){const i={},s=f(e,["referenceImage"]);s!=null&&p(i,["referenceImage"],En(s));const r=f(e,["referenceId"]);r!=null&&p(i,["referenceId"],r);const l=f(e,["referenceType"]);l!=null&&p(i,["referenceType"],l);const c=f(e,["maskImageConfig"]);c!=null&&p(i,["maskImageConfig"],PU(c));const d=f(e,["controlImageConfig"]);d!=null&&p(i,["controlImageConfig"],Nk(d));const m=f(e,["styleImageConfig"]);m!=null&&p(i,["styleImageConfig"],m);const h=f(e,["subjectImageConfig"]);return h!=null&&p(i,["subjectImageConfig"],h),i}function gE(e,t){const i={},s=f(e,["safetyAttributes","categories"]);s!=null&&p(i,["categories"],s);const r=f(e,["safetyAttributes","scores"]);r!=null&&p(i,["scores"],r);const l=f(e,["contentType"]);return l!=null&&p(i,["contentType"],l),i}function yE(e,t){const i={},s=f(e,["safetyAttributes","categories"]);s!=null&&p(i,["categories"],s);const r=f(e,["safetyAttributes","scores"]);r!=null&&p(i,["scores"],r);const l=f(e,["contentType"]);return l!=null&&p(i,["contentType"],l),i}function qU(e,t){const i={},s=f(e,["category"]);if(s!=null&&p(i,["category"],s),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(e,["threshold"]);return r!=null&&p(i,["threshold"],r),i}function FU(e,t){const i={},s=f(e,["image"]);return s!=null&&p(i,["image"],En(s)),i}function YU(e,t,i){const s={},r=f(e,["mode"]);t!==void 0&&r!=null&&p(t,["parameters","mode"],r);const l=f(e,["maxPredictions"]);t!==void 0&&l!=null&&p(t,["parameters","maxPredictions"],l);const c=f(e,["confidenceThreshold"]);t!==void 0&&c!=null&&p(t,["parameters","confidenceThreshold"],c);const d=f(e,["maskDilation"]);t!==void 0&&d!=null&&p(t,["parameters","maskDilation"],d);const m=f(e,["binaryColorThreshold"]);t!==void 0&&m!=null&&p(t,["parameters","binaryColorThreshold"],m);const h=f(e,["labels"]);return t!==void 0&&h!=null&&p(t,["labels"],h),s}function JU(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["source"]);l!=null&&XU(l,s);const c=f(t,["config"]);return c!=null&&YU(c,s),s}function KU(e,t){const i={},s=f(e,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>vU(l))),p(i,["generatedMasks"],r)}return i}function XU(e,t,i){const s={},r=f(e,["prompt"]);t!==void 0&&r!=null&&p(t,["instances[0]","prompt"],r);const l=f(e,["image"]);t!==void 0&&l!=null&&p(t,["instances[0]","image"],En(l));const c=f(e,["scribbleImage"]);return t!==void 0&&c!=null&&p(t,["instances[0]","scribble"],FU(c)),s}function $U(e,t){const i={},s=f(e,["retrievalConfig"]);s!=null&&p(i,["retrievalConfig"],s);const r=f(e,["functionCallingConfig"]);return r!=null&&p(i,["functionCallingConfig"],Qk(r)),i}function jU(e,t){const i={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(e,["computerUse"]);s!=null&&p(i,["computerUse"],s);const r=f(e,["fileSearch"]);r!=null&&p(i,["fileSearch"],r);const l=f(e,["googleSearch"]);l!=null&&p(i,["googleSearch"],CU(l));const c=f(e,["codeExecution"]);if(c!=null&&p(i,["codeExecution"],c),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(e,["functionDeclarations"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(_=>_)),p(i,["functionDeclarations"],x)}const m=f(e,["googleMaps"]);m!=null&&p(i,["googleMaps"],bU(m));const h=f(e,["googleSearchRetrieval"]);h!=null&&p(i,["googleSearchRetrieval"],h);const y=f(e,["urlContext"]);y!=null&&p(i,["urlContext"],y);const T=f(e,["mcpServers"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(_=>_)),p(i,["mcpServers"],x)}return i}function vE(e,t){const i={},s=f(e,["retrieval"]);s!=null&&p(i,["retrieval"],s);const r=f(e,["computerUse"]);if(r!=null&&p(i,["computerUse"],r),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=f(e,["googleSearch"]);l!=null&&p(i,["googleSearch"],l);const c=f(e,["codeExecution"]);c!=null&&p(i,["codeExecution"],c);const d=f(e,["enterpriseWebSearch"]);d!=null&&p(i,["enterpriseWebSearch"],d);const m=f(e,["functionDeclarations"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(_=>Wk(_))),p(i,["functionDeclarations"],x)}const h=f(e,["googleMaps"]);h!=null&&p(i,["googleMaps"],h);const y=f(e,["googleSearchRetrieval"]);y!=null&&p(i,["googleSearchRetrieval"],y);const T=f(e,["urlContext"]);if(T!=null&&p(i,["urlContext"],T),f(e,["mcpServers"])!==void 0)throw new Error("mcpServers parameter is not supported in Vertex AI.");return i}function QU(e,t){const i={},s=f(e,["baseModel"]);s!=null&&p(i,["baseModel"],s);const r=f(e,["createTime"]);r!=null&&p(i,["createTime"],r);const l=f(e,["updateTime"]);return l!=null&&p(i,["updateTime"],l),i}function WU(e,t){const i={},s=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&p(i,["baseModel"],s);const r=f(e,["createTime"]);r!=null&&p(i,["createTime"],r);const l=f(e,["updateTime"]);return l!=null&&p(i,["updateTime"],l),i}function ZU(e,t,i){const s={},r=f(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const l=f(e,["description"]);t!==void 0&&l!=null&&p(t,["description"],l);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&p(t,["defaultCheckpointId"],c),s}function eP(e,t,i){const s={},r=f(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const l=f(e,["description"]);t!==void 0&&l!=null&&p(t,["description"],l);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&p(t,["defaultCheckpointId"],c),s}function tP(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","name"],Ge(e,r));const l=f(t,["config"]);return l!=null&&ZU(l,s),s}function nP(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["config"]);return l!=null&&eP(l,s),s}function iP(e,t,i){const s={},r=f(e,["outputGcsUri"]);t!==void 0&&r!=null&&p(t,["parameters","storageUri"],r);const l=f(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const c=f(e,["personGeneration"]);t!==void 0&&c!=null&&p(t,["parameters","personGeneration"],c);const d=f(e,["includeRaiReason"]);t!==void 0&&d!=null&&p(t,["parameters","includeRaiReason"],d);const m=f(e,["outputMimeType"]);t!==void 0&&m!=null&&p(t,["parameters","outputOptions","mimeType"],m);const h=f(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const y=f(e,["enhanceInputImage"]);t!==void 0&&y!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],y);const T=f(e,["imagePreservationFactor"]);t!==void 0&&T!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],T);const x=f(e,["labels"]);t!==void 0&&x!=null&&p(t,["labels"],x);const _=f(e,["numberOfImages"]);t!==void 0&&_!=null&&p(t,["parameters","sampleCount"],_);const b=f(e,["mode"]);return t!==void 0&&b!=null&&p(t,["parameters","mode"],b),s}function oP(e,t,i){const s={},r=f(t,["model"]);r!=null&&p(s,["_url","model"],Ge(e,r));const l=f(t,["image"]);l!=null&&p(s,["instances[0]","image"],En(l));const c=f(t,["upscaleFactor"]);c!=null&&p(s,["parameters","upscaleConfig","upscaleFactor"],c);const d=f(t,["config"]);return d!=null&&iP(d,s),s}function sP(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Ql(c))),p(i,["generatedImages"],l)}return i}function rP(e,t){const i={},s=f(e,["uri"]);s!=null&&p(i,["uri"],s);const r=f(e,["encodedVideo"]);r!=null&&p(i,["videoBytes"],Gi(r));const l=f(e,["encoding"]);return l!=null&&p(i,["mimeType"],l),i}function aP(e,t){const i={},s=f(e,["gcsUri"]);s!=null&&p(i,["uri"],s);const r=f(e,["bytesBase64Encoded"]);r!=null&&p(i,["videoBytes"],Gi(r));const l=f(e,["mimeType"]);return l!=null&&p(i,["mimeType"],l),i}function lP(e,t){const i={},s=f(e,["image"]);s!=null&&p(i,["_self"],En(s));const r=f(e,["maskMode"]);return r!=null&&p(i,["maskMode"],r),i}function uP(e,t){const i={},s=f(e,["image"]);s!=null&&p(i,["image"],Wl(s));const r=f(e,["referenceType"]);return r!=null&&p(i,["referenceType"],r),i}function cP(e,t){const i={},s=f(e,["image"]);s!=null&&p(i,["image"],En(s));const r=f(e,["referenceType"]);return r!=null&&p(i,["referenceType"],r),i}function xE(e,t){const i={},s=f(e,["uri"]);s!=null&&p(i,["uri"],s);const r=f(e,["videoBytes"]);r!=null&&p(i,["encodedVideo"],Gi(r));const l=f(e,["mimeType"]);return l!=null&&p(i,["encoding"],l),i}function TE(e,t){const i={},s=f(e,["uri"]);s!=null&&p(i,["gcsUri"],s);const r=f(e,["videoBytes"]);r!=null&&p(i,["bytesBase64Encoded"],Gi(r));const l=f(e,["mimeType"]);return l!=null&&p(i,["mimeType"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fP(e,t){const i={},s=f(e,["displayName"]);return t!==void 0&&s!=null&&p(t,["displayName"],s),i}function dP(e){const t={},i=f(e,["config"]);return i!=null&&fP(i,t),t}function hP(e,t){const i={},s=f(e,["force"]);return t!==void 0&&s!=null&&p(t,["_query","force"],s),i}function pP(e){const t={},i=f(e,["name"]);i!=null&&p(t,["_url","name"],i);const s=f(e,["config"]);return s!=null&&hP(s,t),t}function mP(e){const t={},i=f(e,["name"]);return i!=null&&p(t,["_url","name"],i),t}function gP(e,t){const i={},s=f(e,["customMetadata"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["customMetadata"],l)}const r=f(e,["chunkingConfig"]);return t!==void 0&&r!=null&&p(t,["chunkingConfig"],r),i}function yP(e){const t={},i=f(e,["name"]);i!=null&&p(t,["name"],i);const s=f(e,["metadata"]);s!=null&&p(t,["metadata"],s);const r=f(e,["done"]);r!=null&&p(t,["done"],r);const l=f(e,["error"]);l!=null&&p(t,["error"],l);const c=f(e,["response"]);return c!=null&&p(t,["response"],xP(c)),t}function vP(e){const t={},i=f(e,["fileSearchStoreName"]);i!=null&&p(t,["_url","file_search_store_name"],i);const s=f(e,["fileName"]);s!=null&&p(t,["fileName"],s);const r=f(e,["config"]);return r!=null&&gP(r,t),t}function xP(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["parent"]);s!=null&&p(t,["parent"],s);const r=f(e,["documentName"]);return r!=null&&p(t,["documentName"],r),t}function TP(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&p(t,["_query","pageToken"],r),i}function SP(e){const t={},i=f(e,["config"]);return i!=null&&TP(i,t),t}function EP(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["fileSearchStores"],l)}return t}function SE(e,t){const i={},s=f(e,["mimeType"]);t!==void 0&&s!=null&&p(t,["mimeType"],s);const r=f(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const l=f(e,["customMetadata"]);if(t!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),p(t,["customMetadata"],d)}const c=f(e,["chunkingConfig"]);return t!==void 0&&c!=null&&p(t,["chunkingConfig"],c),i}function _P(e){const t={},i=f(e,["fileSearchStoreName"]);i!=null&&p(t,["_url","file_search_store_name"],i);const s=f(e,["config"]);return s!=null&&SE(s,t),t}function bP(e){const t={},i=f(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CP="Content-Type",AP="X-Server-Timeout",wP="User-Agent",Rd="x-goog-api-client",NP="1.43.0",MP=`google-genai-sdk/${NP}`,RP="v1beta1",DP="v1beta",IP=5,kP=[408,429,500,502,503,504];class UP{constructor(t){var i,s,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(i=t.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const d=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!d?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:RP}else{if(!this.clientOptions.apiKey)throw new Vr({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:DP,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,s){const r=[this.getRequestUrlInternal(i)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,i){return!(i.baseUrl&&i.baseUrlResourceScope===bd.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,i),r=this.constructUrl(t.path,i,s);if(t.queryParams)for(const[c,d]of Object.entries(t.queryParams))r.searchParams.append(c,String(d));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),t.abortSignal),this.unaryApiCall(r,l,t.httpMethod)}patchHttpOptions(t,i){const s=JSON.parse(JSON.stringify(t));for(const[r,l]of Object.entries(i))typeof l=="object"?s[r]=Object.assign(Object.assign({},s[r]),l):l!==void 0&&(s[r]=l);return s}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,i),r=this.constructUrl(t.path,i,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),t.abortSignal),this.streamApiCall(r,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,s,r){if(i&&i.timeout||r){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const d=setTimeout(()=>l.abort(),i.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),t.signal=c}return i&&i.extraBody!==null&&PP(t,i.extraBody),t.headers=await this.getHeadersInternal(i,s),t}async unaryApiCall(t,i,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:s})).then(async r=>(await Dx(r),new Cd(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,i,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:s})).then(async r=>(await Dx(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Tn(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const d="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield xe(r.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=l.decode(y,{stream:!0});try{const b=JSON.parse(T);if("error"in b){const A=JSON.parse(JSON.stringify(b.error)),w=A.status,N=A.code,P=`got status: ${w}. ${JSON.stringify(b)}`;if(N>=400&&N<600)throw new Vr({message:P,status:N})}}catch(b){if(b.name==="ApiError")throw b}c+=T;let x=-1,_=0;for(;;){x=-1,_=0;for(const w of m){const N=c.indexOf(w);N!==-1&&(x===-1||N<x)&&(x=N,_=w.length)}if(x===-1)break;const b=c.substring(0,x);c=c.substring(x+_);const A=b.trim();if(A.startsWith(d)){const w=A.substring(d.length).trim();try{const N=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield xe(new Cd(N))}catch(N){throw new Error(`exception parsing stream chunk ${w}. ${N}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,i){var s;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,i);const r=this.clientOptions.httpOptions.retryOptions;return _D(async()=>{const c=await fetch(t,i);if(c.ok)return c;throw kP.includes(c.status)?new Error(`Retryable HTTP Error: ${c.statusText}`):new ZS.AbortError(`Non-retryable exception ${c.statusText} sending request`)},{retries:((s=r.attempts)!==null&&s!==void 0?s:IP)-1})}getDefaultHeaders(){const t={},i=MP+" "+this.clientOptions.userAgentExtra;return t[wP]=i,t[Rd]=i,t[CP]="application/json",t}async getHeadersInternal(t,i){const s=new Headers;if(t&&t.headers){for(const[r,l]of Object.entries(t.headers))s.append(r,l);t.timeout&&t.timeout>0&&s.append(AP,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(t){var i;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(t,i){var s;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(t);r.sizeBytes=String(c.size);const d=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const m={file:r},h=this.getFileName(t),y=oe("upload/v1beta/files",m._url),T=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,h,m,i==null?void 0:i.httpOptions);return l.upload(t,T,this)}async uploadFileToFileSearchStore(t,i,s){var r;const l=this.clientOptions.uploader,c=await l.stat(i),d=String(c.size),m=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:c.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(i),T={};s!=null&&SE(s,T);const x=await this.fetchUploadUrl(h,d,m,y,T,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(i,x,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i,s,r,l,c){var d;let m={};c?m=c:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:m});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Dx(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const i=e.status;let s;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await e.json():s={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(s);throw i>=400&&i<600?new Vr({message:r,status:i}):new Error(r)}}function PP(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const d=Object.assign({},l);for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const h=c[m],y=d[m];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?d[m]=s(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),d[m]=h)}return d}const r=s(i,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LP="mcp_used/unknown";let VP=!1;function EE(e){for(const t of e)if(GP(t)||typeof t=="object"&&"inputSchema"in t)return!0;return VP}function _E(e){var t;const i=(t=e[Rd])!==null&&t!==void 0?t:"";e[Rd]=(i+` ${LP}`).trimStart()}function GP(e){return e!==null&&typeof e=="object"&&e instanceof Ch}function zP(e){return Tn(this,arguments,function*(i,s=100){let r,l=0;for(;l<s;){const c=yield xe(i.listTools({cursor:r}));for(const d of c.tools)yield yield xe(d),l++;if(!c.nextCursor)break;r=c.nextCursor}})}class Ch{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new Ch(t,i)}async initialize(){var t,i,s,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const y of this.mcpClients)try{for(var d=!0,m=(i=void 0,Sn(zP(y))),h;h=await m.next(),t=h.done,!t;d=!0){r=h.value,d=!1;const T=r;c.push(T);const x=T.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=y}}catch(T){i={error:T}}finally{try{!d&&!t&&(s=m.return)&&await s.call(m)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),fI(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:s.name,arguments:s.args},void 0,l);i.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BP(e,t,i){const s=new iI;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(s,r),t(s)}class OP{constructor(t,i,s){this.apiClient=t,this.auth=i,this.webSocketFactory=s}async connect(t){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=FP(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),m=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const y=new Promise(I=>{h=I}),T=t.callbacks,x=function(){h({})},_=this.apiClient,b={onopen:x,onmessage:I=>{BP(_,T.onmessage,I)},onerror:(i=T==null?void 0:T.onerror)!==null&&i!==void 0?i:function(I){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(I){}},A=this.webSocketFactory.create(m,qP(c),b);A.connect(),await y;const P={setup:{model:Ge(this.apiClient,t.model)}};return A.send(JSON.stringify(P)),new HP(A,this.apiClient)}}class HP{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=fk(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=ck(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(rs.PLAY)}pause(){this.sendPlaybackControl(rs.PAUSE)}stop(){this.sendPlaybackControl(rs.STOP)}resetContext(){this.sendPlaybackControl(rs.RESET_CONTEXT)}close(){this.conn.close()}}function qP(e){const t={};return e.forEach((i,s)=>{t[s]=i}),t}function FP(e){const t=new Headers;for(const[i,s]of Object.entries(e))t.append(i,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YP="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function JP(e,t,i){const s=new nI;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const l=JSON.parse(r);if(e.isVertexAI()){const c=pk(l);Object.assign(s,c)}else Object.assign(s,l);t(s)}class KP{constructor(t,i,s){this.apiClient=t,this.auth=i,this.webSocketFactory=s,this.music=new OP(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,s,r,l,c,d;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&EE(t.config.tools)&&_E(T);const x=QP(T);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),se=this.apiClient.getLocation(),ye=this.apiClient.getApiKey(),_e=!!V&&!!se||!!ye;this.apiClient.getCustomBaseUrl()&&!_e?y=m:(y=`${m}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,y))}else{const V=this.apiClient.getApiKey();let se="BidiGenerateContent",ye="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",ye="access_token"),y=`${m}/ws/google.ai.generativelanguage.${h}.GenerativeService.${se}?${ye}=${V}`}let _=()=>{};const b=new Promise(V=>{_=V}),A=t.callbacks,w=function(){var V;(V=A==null?void 0:A.onopen)===null||V===void 0||V.call(A),_({})},N=this.apiClient,P={onopen:w,onmessage:V=>{JP(N,A.onmessage,V)},onerror:(i=A==null?void 0:A.onerror)!==null&&i!==void 0?i:function(V){},onclose:(s=A==null?void 0:A.onclose)!==null&&s!==void 0?s:function(V){}},I=this.webSocketFactory.create(y,jP(x),P);I.connect(),await b;let z=Ge(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const V=this.apiClient.getProject(),se=this.apiClient.getLocation();V&&se&&(z=`projects/${V}/locations/${se}/`+z)}let q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Gl.AUDIO]}:t.config.responseModalities=[Gl.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(d=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[],U=[];for(const V of L)if(this.isCallableTool(V)){const se=V;U.push(await se.tool())}else U.push(V);U.length>0&&(t.config.tools=U);const B={model:z,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?q=uk(this.apiClient,B):q=lk(this.apiClient,B),delete q.config,I.send(JSON.stringify(q)),new $P(I,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const XP={turnComplete:!0};class $P{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=jt(i.turns),t.isVertexAI()||(s=s.map(r=>Fr(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(YP)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},XP),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:hk(t)}:i={realtimeInput:dk(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function jP(e){const t={};return e.forEach((i,s)=>{t[s]=i}),t}function QP(e){const t=new Headers;for(const[i,s]of Object.entries(e))t.append(i,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ix=10;function kx(e){var t,i,s;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const c of(i=e==null?void 0:e.tools)!==null&&i!==void 0?i:[])if(fs(c)){r=!0;break}if(!r)return!0;const l=(s=e==null?void 0:e.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function fs(e){return"callTool"in e&&typeof e.callTool=="function"}function WP(e){var t,i,s;return(s=(i=(t=e.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(r=>fs(r)))!==null&&s!==void 0?s:!1}function Ux(e){var t;const i=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((s,r)=>{if(fs(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(r)}),i}function Px(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZP extends ei{constructor(t){super(),this.apiClient=t,this.embedContent=async i=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(i);if(i.model.includes("gemini")&&i.model!=="gemini-embedding-001"||i.model.includes("maas")){const r=jt(i.contents);if(r.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const l=Object.assign(Object.assign({},i),{content:r[0],embeddingApiType:zl.EMBED_CONTENT});return await this.embedContentInternal(l)}else{const r=Object.assign(Object.assign({},i),{embeddingApiType:zl.PREDICT});return await this.embedContentInternal(r)}},this.generateContent=async i=>{var s,r,l,c,d;const m=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!WP(i)||kx(i.config))return await this.generateContentInternal(m);const h=Ux(i);if(h.length>0){const A=h.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let y,T;const x=jt(m.contents),_=(l=(r=(s=m.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:Ix;let b=0;for(;b<_&&(y=await this.generateContentInternal(m),!(!y.functionCalls||y.functionCalls.length===0));){const A=y.candidates[0].content,w=[];for(const N of(d=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[])if(fs(N)){const I=await N.callTool(y.functionCalls);w.push(...I)}b++,T={role:"user",parts:w},m.contents=jt(m.contents),m.contents.push(A),m.contents.push(T),Px(m.config)&&(x.push(A),x.push(T))}return Px(m.config)&&(y.automaticFunctionCallingHistory=x),y},this.generateContentStream=async i=>{var s,r,l,c,d;if(this.maybeMoveToResponseJsonSchem(i),kx(i.config)){const T=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(T)}const m=Ux(i);if(m.length>0){const T=m.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(r=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(d=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var r;let l;const c=[];if(s!=null&&s.generatedImages)for(const m of s.generatedImages)m&&(m!=null&&m.safetyAttributes)&&((r=m==null?void 0:m.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=m==null?void 0:m.safetyAttributes:c.push(m);let d;return l?d={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:d={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},d}),this.list=async i=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new po(Zn.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(c),c)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var s,r,l,c,d,m;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((m=(d=i.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,s,r;const l=(i=t.config)===null||i===void 0?void 0:i.tools;if(!l)return t;const c=await Promise.all(l.map(async m=>fs(m)?await m.tool():m)),d={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:c})};if(d.config.tools=c,t.config&&t.config.tools&&EE(t.config.tools)){const m=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},m);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),_E(h),d.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(t){var i,s,r;const l=new Map;for(const c of(s=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(fs(c)){const d=c,m=await d.tool();for(const h of(r=m.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,d)}}return l}async processAfcStream(t){var i,s,r;const l=(r=(s=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:Ix;let c=!1,d=0;const m=await this.initAfcToolsMap(t);return(function(h,y,T){return Tn(this,arguments,function*(){for(var x,_,b,A,w,N;d<l;){c&&(d++,c=!1);const q=yield xe(h.processParamsMaybeAddMcpUsage(T)),L=yield xe(h.generateContentStreamInternal(q)),U=[],B=[];try{for(var P=!0,I=(_=void 0,Sn(L)),z;z=yield xe(I.next()),x=z.done,!x;P=!0){A=z.value,P=!1;const V=A;if(yield yield xe(V),V.candidates&&(!((w=V.candidates[0])===null||w===void 0)&&w.content)){B.push(V.candidates[0].content);for(const se of(N=V.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(d<l&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(se.functionCall.name)){const ye=yield xe(y.get(se.functionCall.name).callTool([se.functionCall]));U.push(...ye)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(V){_={error:V}}finally{try{!P&&!x&&(b=I.return)&&(yield xe(b.call(I)))}finally{if(_)throw _.error}}if(U.length>0){c=!0;const V=new Er;V.candidates=[{content:{role:"user",parts:U}}],yield yield xe(V);const se=[];se.push(...B),se.push({role:"user",parts:U});const ye=jt(T.contents).concat(se);T.contents=ye}else break}})})(this,m,t)}async generateContentInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=Nx(this.apiClient,t);return d=oe("{model}:generateContent",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=Rx(y),x=new Er;return Object.assign(x,T),x})}else{const h=wx(this.apiClient,t);return d=oe("{model}:generateContent",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=Mx(y),x=new Er;return Object.assign(x,T),x})}}async generateContentStreamInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=Nx(this.apiClient,t);return d=oe("{model}:streamGenerateContent?alt=sse",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return Tn(this,arguments,function*(){var x,_,b,A;try{for(var w=!0,N=Sn(T),P;P=yield xe(N.next()),x=P.done,!x;w=!0){A=P.value,w=!1;const I=A,z=Rx(yield xe(I.json()),t);z.sdkHttpResponse={headers:I.headers};const q=new Er;Object.assign(q,z),yield yield xe(q)}}catch(I){_={error:I}}finally{try{!w&&!x&&(b=N.return)&&(yield xe(b.call(N)))}finally{if(_)throw _.error}}})})}else{const h=wx(this.apiClient,t);return d=oe("{model}:streamGenerateContent?alt=sse",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(T){return Tn(this,arguments,function*(){var x,_,b,A;try{for(var w=!0,N=Sn(T),P;P=yield xe(N.next()),x=P.done,!x;w=!0){A=P.value,w=!1;const I=A,z=Mx(yield xe(I.json()),t);z.sdkHttpResponse={headers:I.headers};const q=new Er;Object.assign(q,z),yield yield xe(q)}}catch(I){_={error:I}}finally{try{!w&&!x&&(b=N.return)&&(yield xe(b.call(N)))}finally{if(_)throw _.error}}})})}}async embedContentInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=Yk(this.apiClient,t,t),y=hI(t.model)?"{model}:embedContent":"{model}:predict";return d=oe(y,h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(T=>T.json().then(x=>{const _=x;return _.sdkHttpResponse={headers:T.headers},_})),c.then(T=>{const x=Kk(T,t),_=new cx;return Object.assign(_,x),_})}else{const h=Fk(this.apiClient,t);return d=oe("{model}:batchEmbedContents",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=Jk(y),x=new cx;return Object.assign(x,T),x})}}async generateImagesInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=oU(this.apiClient,t);return d=oe("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=rU(y),x=new fx;return Object.assign(x,T),x})}else{const h=iU(this.apiClient,t);return d=oe("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=sU(y),x=new fx;return Object.assign(x,T),x})}}async editImageInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=Bk(this.apiClient,t);return l=oe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const h=Ok(m),y=new FD;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=oP(this.apiClient,t);return l=oe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const h=sP(m),y=new YD;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=zU(this.apiClient,t);return l=oe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=BU(m),y=new JD;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=JU(this.apiClient,t);return l=oe("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=KU(m),y=new KD;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=_U(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Md(y))}else{const h=EU(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Nd(y))}}async listInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=IU(this.apiClient,t);return d=oe("{models_url}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=UU(y),x=new dx;return Object.assign(x,T),x})}else{const h=DU(this.apiClient,t);return d=oe("{models_url}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=kU(y),x=new dx;return Object.assign(x,T),x})}}async update(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=nP(this.apiClient,t);return d=oe("{model}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>Md(y))}else{const h=tP(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Nd(y))}}async delete(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=Lk(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=Gk(y),x=new hx;return Object.assign(x,T),x})}else{const h=Pk(this.apiClient,t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=Vk(y),x=new hx;return Object.assign(x,T),x})}}async countTokens(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=Ik(this.apiClient,t);return d=oe("{model}:countTokens",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=Uk(y),x=new px;return Object.assign(x,T),x})}else{const h=Dk(this.apiClient,t);return d=oe("{model}:countTokens",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=kk(y),x=new px;return Object.assign(x,T),x})}}async computeTokens(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=bk(this.apiClient,t);return l=oe("{model}:computeTokens",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>{const h=Ck(m),y=new XD;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=dU(this.apiClient,t);return d=oe("{model}:predictLongRunning",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c.then(y=>{const T=cU(y),x=new Bl;return Object.assign(x,T),x})}else{const h=fU(this.apiClient,t);return d=oe("{model}:predictLongRunning",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const T=uU(y),x=new Bl;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eL extends ei{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,s=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const i=t.operation,s=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=GD(t);return d=oe("{operationName}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),c}else{const h=VD(t);return d=oe("{operationName}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=RD(t);return l=oe("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tL(e){const t={},i=f(e,["data"]);if(i!=null&&p(t,["data"],i),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function nL(e){const t={},i=f(e,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>fL(l))),p(t,["parts"],r)}const s=f(e,["role"]);return s!=null&&p(t,["role"],s),t}function iL(e,t,i){const s={},r=f(t,["expireTime"]);i!==void 0&&r!=null&&p(i,["expireTime"],r);const l=f(t,["newSessionExpireTime"]);i!==void 0&&l!=null&&p(i,["newSessionExpireTime"],l);const c=f(t,["uses"]);i!==void 0&&c!=null&&p(i,["uses"],c);const d=f(t,["liveConnectConstraints"]);i!==void 0&&d!=null&&p(i,["bidiGenerateContentSetup"],cL(e,d));const m=f(t,["lockAdditionalFields"]);return i!==void 0&&m!=null&&p(i,["fieldMask"],m),s}function oL(e,t){const i={},s=f(t,["config"]);return s!=null&&p(i,["config"],iL(e,s,i)),i}function sL(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=f(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=f(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function rL(e){const t={},i=f(e,["id"]);i!=null&&p(t,["id"],i);const s=f(e,["args"]);s!=null&&p(t,["args"],s);const r=f(e,["name"]);if(r!=null&&p(t,["name"],r),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function aL(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=f(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function lL(e){const t={},i=f(e,["searchTypes"]);if(i!=null&&p(t,["searchTypes"],i),f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=f(e,["timeRangeFilter"]);return s!=null&&p(t,["timeRangeFilter"],s),t}function uL(e,t){const i={},s=f(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const r=f(e,["responseModalities"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig","responseModalities"],r);const l=f(e,["temperature"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","temperature"],l);const c=f(e,["topP"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","topP"],c);const d=f(e,["topK"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topK"],d);const m=f(e,["maxOutputTokens"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","maxOutputTokens"],m);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","seed"],y);const T=f(e,["speechConfig"]);t!==void 0&&T!=null&&p(t,["setup","generationConfig","speechConfig"],bh(T));const x=f(e,["thinkingConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","thinkingConfig"],x);const _=f(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],_);const b=f(e,["systemInstruction"]);t!==void 0&&b!=null&&p(t,["setup","systemInstruction"],nL(mt(b)));const A=f(e,["tools"]);if(t!==void 0&&A!=null){let L=vs(A);Array.isArray(L)&&(L=L.map(U=>hL(ys(U)))),p(t,["setup","tools"],L)}const w=f(e,["sessionResumption"]);t!==void 0&&w!=null&&p(t,["setup","sessionResumption"],dL(w));const N=f(e,["inputAudioTranscription"]);t!==void 0&&N!=null&&p(t,["setup","inputAudioTranscription"],N);const P=f(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&p(t,["setup","outputAudioTranscription"],P);const I=f(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&p(t,["setup","realtimeInputConfig"],I);const z=f(e,["contextWindowCompression"]);t!==void 0&&z!=null&&p(t,["setup","contextWindowCompression"],z);const q=f(e,["proactivity"]);if(t!==void 0&&q!=null&&p(t,["setup","proactivity"],q),f(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function cL(e,t){const i={},s=f(t,["model"]);s!=null&&p(i,["setup","model"],Ge(e,s));const r=f(t,["config"]);return r!=null&&p(i,["config"],uL(r,i)),i}function fL(e){const t={},i=f(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=f(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const r=f(e,["executableCode"]);r!=null&&p(t,["executableCode"],r);const l=f(e,["fileData"]);l!=null&&p(t,["fileData"],sL(l));const c=f(e,["functionCall"]);c!=null&&p(t,["functionCall"],rL(c));const d=f(e,["functionResponse"]);d!=null&&p(t,["functionResponse"],d);const m=f(e,["inlineData"]);m!=null&&p(t,["inlineData"],tL(m));const h=f(e,["text"]);h!=null&&p(t,["text"],h);const y=f(e,["thought"]);y!=null&&p(t,["thought"],y);const T=f(e,["thoughtSignature"]);T!=null&&p(t,["thoughtSignature"],T);const x=f(e,["videoMetadata"]);return x!=null&&p(t,["videoMetadata"],x),t}function dL(e){const t={},i=f(e,["handle"]);if(i!=null&&p(t,["handle"],i),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hL(e){const t={};if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=f(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=f(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const r=f(e,["googleSearch"]);r!=null&&p(t,["googleSearch"],lL(r));const l=f(e,["codeExecution"]);if(l!=null&&p(t,["codeExecution"],l),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=f(e,["functionDeclarations"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["functionDeclarations"],T)}const d=f(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],aL(d));const m=f(e,["googleSearchRetrieval"]);m!=null&&p(t,["googleSearchRetrieval"],m);const h=f(e,["urlContext"]);h!=null&&p(t,["urlContext"],h);const y=f(e,["mcpServers"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>x)),p(t,["mcpServers"],T)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pL(e){const t=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(l=>`${i}.${l}`);t.push(...r)}else t.push(i)}return t.join(",")}function mL(e,t){let i=null;const s=e.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,i=l):delete e.bidiGenerateContentSetup}else s!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(i){const l=pL(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(h=>c.includes(h)?`generationConfig.${h}`:h));const m=[];l&&m.push(l),d.length>0&&m.push(...d),m.length>0?e.fieldMask=m.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class gL extends ei{constructor(t){super(),this.apiClient=t}async create(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=oL(this.apiClient,t);l=oe("auth_tokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const m=mL(d,t.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yL(e,t){const i={},s=f(e,["force"]);return t!==void 0&&s!=null&&p(t,["_query","force"],s),i}function vL(e){const t={},i=f(e,["name"]);i!=null&&p(t,["_url","name"],i);const s=f(e,["config"]);return s!=null&&yL(s,t),t}function xL(e){const t={},i=f(e,["name"]);return i!=null&&p(t,["_url","name"],i),t}function TL(e,t){const i={},s=f(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const r=f(e,["pageToken"]);return t!==void 0&&r!=null&&p(t,["_query","pageToken"],r),i}function SL(e){const t={},i=f(e,["parent"]);i!=null&&p(t,["_url","parent"],i);const s=f(e,["config"]);return s!=null&&TL(s,t),t}function EL(e){const t={},i=f(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=f(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const r=f(e,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),p(t,["documents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _L extends ei{constructor(t){super(),this.apiClient=t,this.list=async i=>new po(Zn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=xL(t);return l=oe("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(t){var i,s;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vL(t);r=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=SL(t);return l=oe("{parent}/documents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=EL(m),y=new $D;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bL extends ei{constructor(t,i=new _L(t)){super(),this.apiClient=t,this.documents=i,this.list=async(s={})=>new po(Zn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=dP(t);return l=oe("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async get(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mP(t);return l=oe("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>m)}}async delete(t){var i,s;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pP(t);r=oe("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=SP(t);return l=oe("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=EP(m),y=new jD;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=_P(t);return l=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=bP(m),y=new QD;return Object.assign(y,h),y})}}async importFile(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=vP(t);return l=oe("{file_search_store_name}:importFile",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json()),r.then(m=>{const h=yP(m),y=new xh;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bE=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return bE=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),i=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const CL=()=>bE();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dd(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Id=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cn extends Error{}class Dt extends cn{constructor(t,i,s,r){super(`${Dt.makeMessage(t,i,s)}`),this.status=t,this.headers=r,this.error=i}static makeMessage(t,i,s){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,i,s,r){if(!t||!r)return new Zl({message:s,cause:Id(i)});const l=i;return t===400?new AE(t,l,s,r):t===401?new wE(t,l,s,r):t===403?new NE(t,l,s,r):t===404?new ME(t,l,s,r):t===409?new RE(t,l,s,r):t===422?new DE(t,l,s,r):t===429?new IE(t,l,s,r):t>=500?new kE(t,l,s,r):new Dt(t,l,s,r)}}class kd extends Dt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Zl extends Dt{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),i&&(this.cause=i)}}class CE extends Zl{constructor({message:t}={}){super({message:t??"Request timed out."})}}class AE extends Dt{}class wE extends Dt{}class NE extends Dt{}class ME extends Dt{}class RE extends Dt{}class DE extends Dt{}class IE extends Dt{}class kE extends Dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AL=/^[a-z][a-z0-9+.-]*:/i,wL=e=>AL.test(e);let Ud=e=>(Ud=Array.isArray,Ud(e));const NL=Ud;let ML=NL;const Lx=ML;function RL(e){if(!e)return!0;for(const t in e)return!1;return!0}function DL(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const IL=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new cn(`${e} must be an integer`);if(t<0)throw new cn(`${e} must be a positive integer`);return t},kL=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UL=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const es="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PL(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LL=()=>{var e,t,i,s,r;const l=PL();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":Gx(Deno.build.os),"X-Stainless-Arch":Vx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":Gx((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Vx((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=VL();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":es,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function VL(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of e){const s=i.exec(navigator.userAgent);if(s){const r=s[1]||0,l=s[2]||0,c=s[3]||0;return{browser:t,version:`${r}.${l}.${c}`}}}return null}const Vx=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Gx=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let pl;const GL=()=>pl??(pl=LL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function UE(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function BL(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return UE({start(){},async pull(i){const{done:s,value:r}=await t.next();s?i.close():i.enqueue(r)},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}function PE(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const i=await t.read();return i!=null&&i.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){const i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OL(e){var t,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(t=e[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(t));return}const s=e.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HL=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,i=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kf(e,t,i){return LE(),new File(e,t??"unknown_file",i)}function qL(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const FL=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VE=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",YL=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&VE(e),JL=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function KL(e,t,i){if(LE(),e=await e,YL(e))return e instanceof File?e:Kf([await e.arrayBuffer()],e.name);if(JL(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Kf(await Pd(r),t,i)}const s=await Pd(e);if(t||(t=qL(e)),!(i!=null&&i.type)){const r=s.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return Kf(s,t,i)}async function Pd(e){var t,i,s,r,l;let c=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)c.push(e);else if(VE(e))c.push(e instanceof Blob?e:await e.arrayBuffer());else if(FL(e))try{for(var d=!0,m=Sn(e),h;h=await m.next(),t=h.done,!t;d=!0){r=h.value,d=!1;const y=r;c.push(...await Pd(y))}}catch(y){i={error:y}}finally{try{!d&&!t&&(s=m.return)&&await s.call(m)}finally{if(i)throw i.error}}else{const y=(l=e==null?void 0:e.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${y?`; constructor: ${y}`:""}${XL(e)}`)}return c}function XL(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE{constructor(t){this._client=t}}GE._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zx=Object.freeze(Object.create(null)),$L=(e=zE)=>(function(i,...s){if(i.length===1)return i[0];let r=!1;const l=[],c=i.reduce((y,T,x)=>{var _,b,A;/[?#]/.test(T)&&(r=!0);const w=s[x];let N=(r?encodeURIComponent:e)(""+w);return x!==s.length&&(w==null||typeof w=="object"&&w.toString===((A=Object.getPrototypeOf((b=Object.getPrototypeOf((_=w.hasOwnProperty)!==null&&_!==void 0?_:zx))!==null&&b!==void 0?b:zx))===null||A===void 0?void 0:A.toString))&&(N=w+"",l.push({start:y.length+T.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),y+T+(x===s.length?"":N)},""),d=c.split(/[?#]/,1)[0],m=/(^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let h;for(;(h=m.exec(d))!==null;){const y=h[0].startsWith("/"),T=y?1:0,x=y?h[0].slice(1):h[0];l.push({start:h.index+T,length:x.length,error:`Value "${x}" can't be safely passed as a path parameter`})}if(l.sort((y,T)=>y.start-T.start),l.length>0){let y=0;const T=l.reduce((x,_)=>{const b=" ".repeat(_.start-y),A="^".repeat(_.length);return y=_.start+_.length,x+b+A},"");throw new cn(`Path parameters result in path with invalid segments:
${l.map(x=>x.error).join(`
`)}
${c}
${T}`)}return c}),ml=$L(zE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BE extends GE{create(t,i){var s;const{api_version:r=this._client.apiVersion}=t,l=Hl(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new cn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new cn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ml`/${r}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,i={},s){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(ml`/${r}/interactions/${t}`,s)}cancel(t,i={},s){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(ml`/${r}/interactions/${t}/cancel`,s)}get(t,i={},s){var r;const l=i??{},{api_version:c=this._client.apiVersion}=l,d=Hl(l,["api_version"]);return this._client.get(ml`/${c}/interactions/${t}`,Object.assign(Object.assign({query:d},s),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}BE._key=Object.freeze(["interactions"]);class OE extends BE{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jL(e){let t=0;for(const r of e)t+=r.length;const i=new Uint8Array(t);let s=0;for(const r of e)i.set(r,s),s+=r.length;return i}let gl;function Ah(e){let t;return(gl??(t=new globalThis.TextEncoder,gl=t.encode.bind(t)))(e)}let yl;function Bx(e){let t;return(yl??(t=new globalThis.TextDecoder,yl=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ah(t):t;this.buffer=jL([this.buffer,i]);const s=[];let r;for(;(r=QL(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Bx(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=Bx(this.buffer.subarray(0,l));s.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}eu.NEWLINE_CHARS=new Set([`
`,"\r"]);eu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function QL(e,t){for(let r=t??0;r<e.length;r++){if(e[r]===10)return{preceding:r,index:r+1,carriage:!1};if(e[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function WL(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ql={off:0,error:200,warn:300,info:400,debug:500},Ox=(e,t,i)=>{if(e){if(DL(ql,e))return e;wt(i).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(ql))}`)}};function Cr(){}function vl(e,t,i){return!t||ql[e]>ql[i]?Cr:t[e].bind(t)}const ZL={error:Cr,warn:Cr,info:Cr,debug:Cr};let Hx=new WeakMap;function wt(e){var t;const i=e.logger,s=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!i)return ZL;const r=Hx.get(i);if(r&&r[0]===s)return r[1];const l={error:vl("error",i,s),warn:vl("warn",i,s),info:vl("info",i,s),debug:vl("debug",i,s)};return Hx.set(i,[s,l]),l}const ro=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,i])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class as{constructor(t,i,s){this.iterator=t,this.controller=i,this.client=s}static fromSSEResponse(t,i,s){let r=!1;const l=s?wt(s):console;function c(){return Tn(this,arguments,function*(){var m,h,y,T;if(r)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let x=!1;try{try{for(var _=!0,b=Sn(eV(t,i)),A;A=yield xe(b.next()),m=A.done,!m;_=!0){T=A.value,_=!1;const w=T;if(!x)if(w.data.startsWith("[DONE]")){x=!0;continue}else try{yield yield xe(JSON.parse(w.data))}catch(N){throw l.error("Could not parse message into JSON:",w.data),l.error("From chunk:",w.raw),N}}}catch(w){h={error:w}}finally{try{!_&&!m&&(y=b.return)&&(yield xe(y.call(b)))}finally{if(h)throw h.error}}x=!0}catch(w){if(Dd(w))return yield xe(void 0);throw w}finally{x||i.abort()}})}return new as(c,i,s)}static fromReadableStream(t,i,s){let r=!1;function l(){return Tn(this,arguments,function*(){var m,h,y,T;const x=new eu,_=PE(t);try{for(var b=!0,A=Sn(_),w;w=yield xe(A.next()),m=w.done,!m;b=!0){T=w.value,b=!1;const N=T;for(const P of x.decode(N))yield yield xe(P)}}catch(N){h={error:N}}finally{try{!b&&!m&&(y=A.return)&&(yield xe(y.call(A)))}finally{if(h)throw h.error}}for(const N of x.flush())yield yield xe(N)})}function c(){return Tn(this,arguments,function*(){var m,h,y,T;if(r)throw new cn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let x=!1;try{try{for(var _=!0,b=Sn(l()),A;A=yield xe(b.next()),m=A.done,!m;_=!0){T=A.value,_=!1;const w=T;x||w&&(yield yield xe(JSON.parse(w)))}}catch(w){h={error:w}}finally{try{!_&&!m&&(y=b.return)&&(yield xe(y.call(b)))}finally{if(h)throw h.error}}x=!0}catch(w){if(Dd(w))return yield xe(void 0);throw w}finally{x||i.abort()}})}return new as(c,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],i=[],s=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=s.next();t.push(c),i.push(c)}return l.shift()}});return[new as(()=>r(t),this.controller,this.client),new as(()=>r(i),this.controller,this.client)]}toReadableStream(){const t=this;let i;return UE({async start(){i=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:l}=await i.next();if(l)return s.close();const c=Ah(JSON.stringify(r)+`
`);s.enqueue(c)}catch(r){s.error(r)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function eV(e,t){return Tn(this,arguments,function*(){var s,r,l,c;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new cn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new cn("Attempted to iterate over a response with no body");const d=new nV,m=new eu,h=PE(e.body);try{for(var y=!0,T=Sn(tV(h)),x;x=yield xe(T.next()),s=x.done,!s;y=!0){c=x.value,y=!1;const _=c;for(const b of m.decode(_)){const A=d.decode(b);A&&(yield yield xe(A))}}}catch(_){r={error:_}}finally{try{!y&&!s&&(l=T.return)&&(yield xe(l.call(T)))}finally{if(r)throw r.error}}for(const _ of m.flush()){const b=d.decode(_);b&&(yield yield xe(b))}})}function tV(e){return Tn(this,arguments,function*(){var i,s,r,l;let c=new Uint8Array;try{for(var d=!0,m=Sn(e),h;h=yield xe(m.next()),i=h.done,!i;d=!0){l=h.value,d=!1;const y=l;if(y==null)continue;const T=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Ah(y):y;let x=new Uint8Array(c.length+T.length);x.set(c),x.set(T,c.length),c=x;let _;for(;(_=WL(c))!==-1;)yield yield xe(c.slice(0,_)),c=c.slice(_)}}catch(y){s={error:y}}finally{try{!d&&!i&&(r=m.return)&&(yield xe(r.call(m)))}finally{if(s)throw s.error}}c.length>0&&(yield yield xe(c))})}class nV{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,s,r]=iV(t,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function iV(e,t){const i=e.indexOf(t);return i!==-1?[e.substring(0,i),t,e.substring(i+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oV(e,t){const{response:i,requestLogID:s,retryOfRequestLogID:r,startTime:l}=t,c=await(async()=>{var d;if(t.options.stream)return wt(e).debug("response",i.status,i.url,i.headers,i.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(i,t.controller,e):as.fromSSEResponse(i,t.controller,e);if(i.status===204)return null;if(t.options.__binaryResponse)return i;const m=i.headers.get("content-type"),h=(d=m==null?void 0:m.split(";")[0])===null||d===void 0?void 0:d.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return wt(e).debug(`[${s}] response parsed`,ro({retryOfRequestLogID:r,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wh extends Promise{constructor(t,i,s=oV){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new wh(this.client,this.responsePromise,async(i,s)=>t(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HE=Symbol("brand.privateNullableHeaders");function*sV(e){if(!e)return;if(HE in e){const{values:s,nulls:r}=e;yield*s.entries();for(const l of r)yield[l,null];return}let t=!1,i;e instanceof Headers?i=e.entries():Lx(e)?i=e:(t=!0,i=Object.entries(e??{}));for(let s of i){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=Lx(s[1])?s[1]:[s[1]];let c=!1;for(const d of l)d!==void 0&&(t&&!c&&(c=!0,yield[r,null]),yield[r,d])}}const _r=e=>{const t=new Headers,i=new Set;for(const s of e){const r=new Set;for(const[l,c]of sV(s)){const d=l.toLowerCase();r.has(d)||(t.delete(l),r.add(d)),c===null?(t.delete(l),i.add(d)):(t.append(l,c),i.delete(d))}}return{[HE]:!0,values:t,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xf=e=>{var t,i,s,r,l,c;if(typeof globalThis.process<"u")return(s=(i=(t=bD)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,e))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qE;class tu{constructor(t){var i,s,r,l,c,d,m,{baseURL:h=Xf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=Xf("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:T="v1beta"}=t,x=Hl(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:y,apiVersion:T},x),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(s=_.timeout)!==null&&s!==void 0?s:tu.DEFAULT_TIMEOUT,this.logger=(r=_.logger)!==null&&r!==void 0?r:console;const b="warn";this.logLevel=b,this.logLevel=(c=(l=Ox(_.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Ox(Xf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:b,this.fetchOptions=_.fetchOptions,this.maxRetries=(d=_.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(m=_.fetch)!==null&&m!==void 0?m:zL(),this.encoder=HL,this._options=_,this.apiKey=y,this.apiVersion=T,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:i}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const i=_r([t.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return _r([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _r([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new cn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${es}`}defaultIdempotencyKey(){return`stainless-node-retry-${CL()}`}makeStatusError(t,i,s,r){return Dt.generate(t,i,s,r)}buildURL(t,i,s){const r=!this.baseURLOverridden()&&s||this.baseURL,l=wL(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),c=this.defaultQuery();return RL(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const i=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(t,{url:i,options:s}){}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:i},r)))}request(t,i=null){return new wh(this,this.makeRequest(t,i,void 0))}async makeRequest(t,i,s){var r,l,c;const d=await t,m=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=m),await this.prepareOptions(d);const{req:h,url:y,timeout:T}=await this.buildRequest(d,{retryCount:m-i});await this.prepareRequest(h,{url:y,options:d});const x="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=s===void 0?"":`, retryOf: ${s}`,b=Date.now();if(wt(this).debug(`[${x}] sending request`,ro({retryOfRequestLogID:s,method:d.method,url:y,options:d,headers:h.headers})),!((l=d.signal)===null||l===void 0)&&l.aborted)throw new kd;const A=new AbortController,w=await this.fetchWithTimeout(y,h,T,A).catch(Id),N=Date.now();if(w instanceof globalThis.Error){const I=`retrying, ${i} attempts remaining`;if(!((c=d.signal)===null||c===void 0)&&c.aborted)throw new kd;const z=Dd(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(i)return wt(this).info(`[${x}] connection ${z?"timed out":"failed"} - ${I}`),wt(this).debug(`[${x}] connection ${z?"timed out":"failed"} (${I})`,ro({retryOfRequestLogID:s,url:y,durationMs:N-b,message:w.message})),this.retryRequest(d,i,s??x);throw wt(this).info(`[${x}] connection ${z?"timed out":"failed"} - error; no more retries left`),wt(this).debug(`[${x}] connection ${z?"timed out":"failed"} (error; no more retries left)`,ro({retryOfRequestLogID:s,url:y,durationMs:N-b,message:w.message})),z?new CE:new Zl({cause:w})}const P=`[${x}${_}] ${h.method} ${y} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${N-b}ms`;if(!w.ok){const I=await this.shouldRetry(w);if(i&&I){const V=`retrying, ${i} attempts remaining`;return await OL(w.body),wt(this).info(`${P} - ${V}`),wt(this).debug(`[${x}] response error (${V})`,ro({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:N-b})),this.retryRequest(d,i,s??x,w.headers)}const z=I?"error; no more retries left":"error; not retryable";wt(this).info(`${P} - ${z}`);const q=await w.text().catch(V=>Id(V).message),L=kL(q),U=L?void 0:q;throw wt(this).debug(`[${x}] response error (${z})`,ro({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,message:U,durationMs:Date.now()-b})),this.makeStatusError(w.status,L,U,w.headers)}return wt(this).info(P),wt(this).debug(`[${x}] response start`,ro({retryOfRequestLogID:s,url:w.url,status:w.status,headers:w.headers,durationMs:N-b})),{response:w,options:d,controller:A,requestLogID:x,retryOfRequestLogID:s,startTime:b}}async fetchWithTimeout(t,i,s,r){const l=i||{},{signal:c,method:d}=l,m=Hl(l,["signal","method"]),h=this._makeAbort(r);c&&c.addEventListener("abort",h,{once:!0});const y=setTimeout(h,s),T=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,x=Object.assign(Object.assign(Object.assign({signal:r.signal},T?{duplex:"half"}:{}),{method:"GET"}),m);d&&(x.method=d.toUpperCase());try{return await this.fetch.call(void 0,t,x)}finally{clearTimeout(y)}}async shouldRetry(t){const i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,s,r){var l;let c;const d=r==null?void 0:r.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(c=h)}const m=r==null?void 0:r.get("retry-after");if(m&&!c){const h=parseFloat(m);Number.isNaN(h)?c=Date.parse(m)-Date.now():c=h*1e3}if(!(c&&0<=c&&c<60*1e3)){const h=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,h)}return await UL(c),this.makeRequest(t,i-1,s)}calculateDefaultRetryTimeoutMillis(t,i){const l=i-t,c=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return c*d*1e3}async buildRequest(t,{retryCount:i=0}={}){var s,r,l;const c=Object.assign({},t),{method:d,path:m,query:h,defaultBaseURL:y}=c,T=this.buildURL(m,h,y);"timeout"in c&&IL("timeout",c.timeout),c.timeout=(s=c.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:x,body:_}=this.buildBody({options:c}),b=await this.buildHeaders({options:t,method:d,bodyHeaders:x,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:b},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:T,timeout:c.timeout}}async buildHeaders({options:t,method:i,bodyHeaders:s,retryCount:r}){let l={};this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const c=await this.authHeaders(t);let d=_r([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),GL()),this._options.defaultHeaders,s,t.headers,c]);return this.validateHeaders(d),d.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:i}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=_r([i]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BL(t)}:typeof t=="object"&&s.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:s})}}tu.DEFAULT_TIMEOUT=6e4;class gt extends tu{constructor(){super(...arguments),this.interactions=new OE(this)}}qE=gt;gt.GeminiNextGenAPIClient=qE;gt.GeminiNextGenAPIClientError=cn;gt.APIError=Dt;gt.APIConnectionError=Zl;gt.APIConnectionTimeoutError=CE;gt.APIUserAbortError=kd;gt.NotFoundError=ME;gt.ConflictError=RE;gt.RateLimitError=IE;gt.BadRequestError=AE;gt.AuthenticationError=wE;gt.InternalServerError=kE;gt.PermissionDeniedError=NE;gt.UnprocessableEntityError=DE;gt.toFile=KL;gt.Interactions=OE;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rV(e,t){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function aV(e,t){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function lV(e,t){const i={},s=f(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function uV(e,t){const i={},s=f(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function cV(e,t,i){const s={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&p(t,["displayName"],r),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(e,["epochCount"]);t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","epochCount"],l);const c=f(e,["learningRateMultiplier"]);if(c!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(f(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(f(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const d=f(e,["batchSize"]);t!==void 0&&d!=null&&p(t,["tuningTask","hyperparameters","batchSize"],d);const m=f(e,["learningRate"]);if(t!==void 0&&m!=null&&p(t,["tuningTask","hyperparameters","learningRate"],m),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(f(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(f(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(f(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(f(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(f(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return s}function fV(e,t,i){const s={};let r=f(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const L=f(e,["validationDataset"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec"],$f(L))}else if(r==="PREFERENCE_TUNING"){const L=f(e,["validationDataset"]);t!==void 0&&L!=null&&p(t,["preferenceOptimizationSpec"],$f(L))}else if(r==="DISTILLATION"){const L=f(e,["validationDataset"]);t!==void 0&&L!=null&&p(t,["distillationSpec"],$f(L))}const l=f(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&p(t,["tunedModelDisplayName"],l);const c=f(e,["description"]);t!==void 0&&c!=null&&p(t,["description"],c);let d=f(i,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const L=f(e,["epochCount"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],L)}else if(d==="PREFERENCE_TUNING"){const L=f(e,["epochCount"]);t!==void 0&&L!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],L)}else if(d==="DISTILLATION"){const L=f(e,["epochCount"]);t!==void 0&&L!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],L)}let m=f(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const L=f(e,["learningRateMultiplier"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],L)}else if(m==="PREFERENCE_TUNING"){const L=f(e,["learningRateMultiplier"]);t!==void 0&&L!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],L)}else if(m==="DISTILLATION"){const L=f(e,["learningRateMultiplier"]);t!==void 0&&L!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],L)}let h=f(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const L=f(e,["exportLastCheckpointOnly"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],L)}else if(h==="PREFERENCE_TUNING"){const L=f(e,["exportLastCheckpointOnly"]);t!==void 0&&L!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],L)}else if(h==="DISTILLATION"){const L=f(e,["exportLastCheckpointOnly"]);t!==void 0&&L!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],L)}let y=f(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const L=f(e,["adapterSize"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],L)}else if(y==="PREFERENCE_TUNING"){const L=f(e,["adapterSize"]);t!==void 0&&L!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],L)}else if(y==="DISTILLATION"){const L=f(e,["adapterSize"]);t!==void 0&&L!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],L)}let T=f(i,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const L=f(e,["tuningMode"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","tuningMode"],L)}const x=f(e,["customBaseModel"]);t!==void 0&&x!=null&&p(t,["customBaseModel"],x);let _=f(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const L=f(e,["batchSize"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],L)}let b=f(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const L=f(e,["learningRate"]);t!==void 0&&L!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],L)}const A=f(e,["labels"]);t!==void 0&&A!=null&&p(t,["labels"],A);const w=f(e,["beta"]);t!==void 0&&w!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],w);const N=f(e,["baseTeacherModel"]);t!==void 0&&N!=null&&p(t,["distillationSpec","baseTeacherModel"],N);const P=f(e,["tunedTeacherModelSource"]);t!==void 0&&P!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],P);const I=f(e,["sftLossWeightMultiplier"]);t!==void 0&&I!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],I);const z=f(e,["outputUri"]);t!==void 0&&z!=null&&p(t,["outputUri"],z);const q=f(e,["encryptionSpec"]);return t!==void 0&&q!=null&&p(t,["encryptionSpec"],q),s}function dV(e,t){const i={},s=f(e,["baseModel"]);s!=null&&p(i,["baseModel"],s);const r=f(e,["preTunedModel"]);r!=null&&p(i,["preTunedModel"],r);const l=f(e,["trainingDataset"]);l!=null&&_V(l);const c=f(e,["config"]);return c!=null&&cV(c,i),i}function hV(e,t){const i={},s=f(e,["baseModel"]);s!=null&&p(i,["baseModel"],s);const r=f(e,["preTunedModel"]);r!=null&&p(i,["preTunedModel"],r);const l=f(e,["trainingDataset"]);l!=null&&bV(l,i,t);const c=f(e,["config"]);return c!=null&&fV(c,i,t),i}function pV(e,t){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function mV(e,t){const i={},s=f(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function gV(e,t,i){const s={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const l=f(e,["pageToken"]);t!==void 0&&l!=null&&p(t,["_query","pageToken"],l);const c=f(e,["filter"]);return t!==void 0&&c!=null&&p(t,["_query","filter"],c),s}function yV(e,t,i){const s={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const l=f(e,["pageToken"]);t!==void 0&&l!=null&&p(t,["_query","pageToken"],l);const c=f(e,["filter"]);return t!==void 0&&c!=null&&p(t,["_query","filter"],c),s}function vV(e,t){const i={},s=f(e,["config"]);return s!=null&&gV(s,i),i}function xV(e,t){const i={},s=f(e,["config"]);return s!=null&&yV(s,i),i}function TV(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["nextPageToken"]);r!=null&&p(i,["nextPageToken"],r);const l=f(e,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>FE(d))),p(i,["tuningJobs"],c)}return i}function SV(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["nextPageToken"]);r!=null&&p(i,["nextPageToken"],r);const l=f(e,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Ld(d))),p(i,["tuningJobs"],c)}return i}function EV(e,t){const i={},s=f(e,["name"]);s!=null&&p(i,["model"],s);const r=f(e,["name"]);return r!=null&&p(i,["endpoint"],r),i}function _V(e,t){const i={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(e,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),p(i,["examples","examples"],r)}return i}function bV(e,t,i){const s={};let r=f(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(r==="DISTILLATION"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&p(t,["distillationSpec","promptDatasetUri"],c)}let l=f(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(l==="DISTILLATION"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&p(t,["distillationSpec","promptDatasetUri"],c)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function FE(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["name"]);r!=null&&p(i,["name"],r);const l=f(e,["state"]);l!=null&&p(i,["state"],rE(l));const c=f(e,["createTime"]);c!=null&&p(i,["createTime"],c);const d=f(e,["tuningTask","startTime"]);d!=null&&p(i,["startTime"],d);const m=f(e,["tuningTask","completeTime"]);m!=null&&p(i,["endTime"],m);const h=f(e,["updateTime"]);h!=null&&p(i,["updateTime"],h);const y=f(e,["description"]);y!=null&&p(i,["description"],y);const T=f(e,["baseModel"]);T!=null&&p(i,["baseModel"],T);const x=f(e,["_self"]);return x!=null&&p(i,["tunedModel"],EV(x)),i}function Ld(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["name"]);r!=null&&p(i,["name"],r);const l=f(e,["state"]);l!=null&&p(i,["state"],rE(l));const c=f(e,["createTime"]);c!=null&&p(i,["createTime"],c);const d=f(e,["startTime"]);d!=null&&p(i,["startTime"],d);const m=f(e,["endTime"]);m!=null&&p(i,["endTime"],m);const h=f(e,["updateTime"]);h!=null&&p(i,["updateTime"],h);const y=f(e,["error"]);y!=null&&p(i,["error"],y);const T=f(e,["description"]);T!=null&&p(i,["description"],T);const x=f(e,["baseModel"]);x!=null&&p(i,["baseModel"],x);const _=f(e,["tunedModel"]);_!=null&&p(i,["tunedModel"],_);const b=f(e,["preTunedModel"]);b!=null&&p(i,["preTunedModel"],b);const A=f(e,["supervisedTuningSpec"]);A!=null&&p(i,["supervisedTuningSpec"],A);const w=f(e,["preferenceOptimizationSpec"]);w!=null&&p(i,["preferenceOptimizationSpec"],w);const N=f(e,["distillationSpec"]);N!=null&&p(i,["distillationSpec"],N);const P=f(e,["tuningDataStats"]);P!=null&&p(i,["tuningDataStats"],P);const I=f(e,["encryptionSpec"]);I!=null&&p(i,["encryptionSpec"],I);const z=f(e,["partnerModelTuningSpec"]);z!=null&&p(i,["partnerModelTuningSpec"],z);const q=f(e,["customBaseModel"]);q!=null&&p(i,["customBaseModel"],q);const L=f(e,["experiment"]);L!=null&&p(i,["experiment"],L);const U=f(e,["labels"]);U!=null&&p(i,["labels"],U);const B=f(e,["outputUri"]);B!=null&&p(i,["outputUri"],B);const V=f(e,["pipelineJob"]);V!=null&&p(i,["pipelineJob"],V);const se=f(e,["serviceAccount"]);se!=null&&p(i,["serviceAccount"],se);const ye=f(e,["tunedModelDisplayName"]);ye!=null&&p(i,["tunedModelDisplayName"],ye);const _e=f(e,["veoTuningSpec"]);return _e!=null&&p(i,["veoTuningSpec"],_e),i}function CV(e,t){const i={},s=f(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const r=f(e,["name"]);r!=null&&p(i,["name"],r);const l=f(e,["metadata"]);l!=null&&p(i,["metadata"],l);const c=f(e,["done"]);c!=null&&p(i,["done"],c);const d=f(e,["error"]);return d!=null&&p(i,["error"],d),i}function $f(e,t){const i={},s=f(e,["gcsUri"]);s!=null&&p(i,["validationDatasetUri"],s);const r=f(e,["vertexDatasetResource"]);return r!=null&&p(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AV extends ei{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new po(Zn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:_d.JOB_STATE_QUEUED}}}}async getInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=mV(t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>Ld(y))}else{const h=pV(t);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>FE(y))}}async listInternal(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=xV(t);return d=oe("tuningJobs",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=SV(y),x=new mx;return Object.assign(x,T),x})}else{const h=vV(t);return d=oe("tunedModels",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=TV(y),x=new mx;return Object.assign(x,T),x})}}async cancel(t){var i,s,r,l;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=aV(t);return d=oe("{name}:cancel",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=uV(y),x=new gx;return Object.assign(x,T),x})}else{const h=rV(t);return d=oe("{name}:cancel",h._url),m=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:y.headers},x})),c.then(y=>{const T=lV(y),x=new gx;return Object.assign(x,T),x})}}async tuneInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=hV(t,t);return l=oe("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>Ld(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=dV(t);return l=oe("tunedModels",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(m=>m.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:m.headers},y})),r.then(m=>CV(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wV{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NV=1024*1024*8,MV=3,RV=1e3,DV=2,Fl="x-goog-upload-status";async function IV(e,t,i){var s;const r=await YE(e,t,i),l=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Fl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function kV(e,t,i){var s;const r=await YE(e,t,i),l=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Fl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=eE(l),d=new Th;return Object.assign(d,c),d}async function YE(e,t,i){var s,r;let l=0,c=0,d=new Cd(new Response),m="upload";for(l=e.size;c<l;){const h=Math.min(NV,l-c),y=e.slice(c,c+h);c+h>=l&&(m+=", finalize");let T=0,x=RV;for(;T<MV&&(d=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((s=d==null?void 0:d.headers)===null||s===void 0)&&s[Fl]));)T++,await PV(x),x=x*DV;if(c+=h,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[Fl])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function UV(e){return{size:e.size,type:e.type}}function PV(e){return new Promise(t=>setTimeout(t,e))}class LV{async upload(t,i,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await IV(t,i,s)}async uploadToFileSearchStore(t,i,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kV(t,i,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await UV(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VV{create(t,i,s){return new GV(t,i,s)}}class GV{constructor(t,i,s){this.url=t,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx="x-goog-api-key";class zV{constructor(t){this.apiKey=t}async addAuthHeaders(t,i){if(t.get(qx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(qx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BV="gl-node/";class OV{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(t=i==null?void 0:i.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=s.interactions,this._interactions}constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const s=ND(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new zV(this.apiKey);this.apiClient=new UP({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:BV+"web",uploader:new LV,downloader:new wV}),this.models=new ZP(this.apiClient),this.live=new KP(this.apiClient,r,new VV),this.batches=new s2(this.apiClient),this.chats=new B2(this.models,this.apiClient),this.caches=new V2(this.apiClient),this.files=new W2(this.apiClient),this.operations=new eL(this.apiClient),this.authTokens=new gL(this.apiClient),this.tunings=new AV(this.apiClient),this.fileSearchStores=new bL(this.apiClient)}}async function HV(e,t){const i=e.filter(h=>h.rating.overall&&h.rating.overall>=7).sort((h,y)=>(y.rating.overall||0)-(h.rating.overall||0)).slice(0,10).map(h=>`${h.title} (${h.year})  ${h.genres.join(", ")}  rated ${h.rating.overall}/10`).join(`
`),s=e.filter(h=>h.rating.overall&&h.rating.overall<=5).sort((h,y)=>(h.rating.overall||0)-(y.rating.overall||0)).slice(0,5).map(h=>`${h.title} (${h.year})  ${h.genres.join(", ")}  rated ${h.rating.overall}/10`).join(`
`),l=`You are a personal movie and series recommendation engine with excellent taste.
  
The user has the following taste profile:

FAVORITES (absolute favorites):
${e.filter(h=>h.isFavorite).map(h=>`${h.title} (${h.year})  ${h.type}`).join(`
`)||"None yet"}

HIGHLY RATED (loved these):
${i||"None yet"}

DISLIKED (low ratings):
${s||"None yet"}

ALREADY IN LIBRARY (DO NOT RECOMMEND THESE):
${e.map(h=>`${h.title} (${h.year})`).join(`
`)||"None yet"}

Your task: Suggest exactly 10 NEW movies or series this user would love based on their favorites and high ratings.
Never suggest titles already in their library (watched or unwatched).
For each, write one sentence explaining WHY based on their specific taste.

Respond ONLY with a valid JSON array, no markdown, no explanation, just the array:
[
  {
    "title": "...",
    "year": 2019,
    "type": "movie or series",
    "reason": "Because you loved X and Y which share similar themes...",
    "imdb_id": "tt... if you know it confidently, else null",
    "poster": "URL to the poster image if you can find one, else null"
  }
]`,m=(await new OV({apiKey:t}).models.generateContent({model:"gemini-2.0-flash",contents:l})).text;if(!m)throw new Error("No suggestions returned");try{const h=m.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(h)}catch{throw console.error("Failed to parse Gemini response:",m),new Error("Invalid JSON returned from AI")}}const qV=({library:e,geminiApiKey:t,onAdd:i,onSelect:s,onToast:r})=>{const[l,c]=K.useState([]),[d,m]=K.useState(!1),[h,y]=K.useState("");K.useEffect(()=>{t&&l.length===0&&T()},[t]);const T=async(x=t)=>{if(!x){r("info","Please provide a Gemini API key");return}m(!0);try{const _=await HV(e,x);c(_),r("success","AI Suggestions updated!")}catch(_){r("error",_.message||"Failed to get suggestions")}finally{m(!1)}};return!t&&!l.length?S.jsx("div",{className:"p-6 max-w-2xl mx-auto space-y-8 animate-fade-in",children:S.jsxs("div",{className:"glass-panel p-10 rounded-3xl text-center space-y-6",children:[S.jsx("div",{className:"w-20 h-20 bg-accent/10 text-accent rounded-full flex items-center justify-center mx-auto",children:S.jsx(bf,{size:40})}),S.jsx("h2",{className:"text-3xl font-bebas tracking-wide",children:"AI Recommendations"}),S.jsx("p",{className:"text-text-secondary",children:"Get personalized movie and series suggestions based on your library and ratings using Gemini Flash."}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-widest text-text-secondary",children:[S.jsx("span",{children:"Enter Gemini API Key"}),S.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",className:"text-accent hover:underline flex items-center gap-1",children:["Get Free Key ",S.jsx(jf,{size:10})]})]}),S.jsx("input",{type:"password",value:h,onChange:x=>y(x.target.value),placeholder:"Paste your key here...",className:"input-field w-full text-center"}),S.jsxs("button",{onClick:()=>T(h),disabled:!h||d,className:"btn-primary w-full flex items-center justify-center gap-2",children:[d?S.jsx(ls,{size:20,className:"animate-spin"}):S.jsx(bf,{size:20}),"Generate Suggestions"]})]})]})}):S.jsxs("div",{className:"p-6 space-y-8 animate-fade-in max-w-7xl mx-auto",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-3xl font-bebas tracking-wider text-accent flex items-center gap-3",children:[S.jsx(bf,{size:28})," AI Suggestions"]}),S.jsxs("p",{className:"text-xs text-text-secondary font-medium",children:["Based on your ",e.filter(x=>x.rating.overall).length," rated titles"]})]}),S.jsxs("button",{onClick:()=>T(),disabled:d,className:"btn-secondary flex items-center gap-2 self-start",children:[d?S.jsx(ls,{size:18,className:"animate-spin"}):S.jsx(sA,{size:18}),"Refresh Suggestions"]})]}),d?S.jsxs("div",{className:"py-20 flex flex-col items-center justify-center gap-4",children:[S.jsx(ls,{size:48,className:"text-accent animate-spin"}),S.jsx("p",{className:"text-text-secondary font-medium animate-pulse",children:"Analyzing your taste profile..."})]}):S.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:l.map((x,_)=>S.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"glass-panel overflow-hidden rounded-[2rem] border border-white/5 hover:border-accent/30 transition-all group flex flex-col sm:flex-row h-full",children:[S.jsxs("div",{className:"w-full sm:w-40 shrink-0 aspect-[2/3] sm:aspect-auto relative bg-white/5 cursor-pointer",onClick:()=>s(x),children:[x.poster?S.jsx("img",{src:x.poster,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",referrerPolicy:"no-referrer"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-accent/20 font-bebas text-4xl",children:x.title.substring(0,2)}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent sm:hidden"})]}),S.jsxs("div",{className:"p-6 flex flex-col justify-between flex-1 space-y-4",children:[S.jsxs("div",{className:"space-y-3",children:[S.jsx("div",{className:"flex items-start justify-between gap-2",children:S.jsxs("div",{className:"cursor-pointer",onClick:()=>s(x),children:[S.jsx("h3",{className:"font-bebas text-2xl tracking-wide group-hover:text-accent transition-colors",children:x.title}),S.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[S.jsx("span",{className:"text-[10px] font-bold text-text-muted uppercase tracking-widest",children:x.year}),S.jsx("span",{className:"w-1 h-1 rounded-full bg-white/20"}),S.jsx("span",{className:"text-[10px] font-bold text-accent uppercase tracking-widest",children:x.type})]})]})}),S.jsxs("p",{className:"text-sm text-text-secondary leading-relaxed line-clamp-3 italic",children:['"',x.reason,'"']})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-3 pt-4 border-t border-white/5",children:[S.jsxs("button",{onClick:()=>i(x),className:"flex-1 bg-accent text-background px-4 py-2 rounded-xl text-[10px] font-bold uppercase tracking-widest flex items-center justify-center gap-2 hover:brightness-110 transition-all",children:[S.jsx(hs,{size:14})," Add to Library"]}),x.imdb_id&&S.jsxs("button",{onClick:()=>window.open(`stremio:///detail/${x.type==="movie"?"movie":"series"}/${x.imdb_id}`,"_blank"),className:"flex-1 bg-white/10 hover:bg-white/20 px-4 py-2 rounded-xl text-[10px] font-bold uppercase tracking-widest flex items-center justify-center gap-2 transition-all",children:[S.jsx(Yl,{size:14,fill:"currentColor"})," Watch Now"]})]})]})]},_))})]})},FV=({entry:e,onBack:t,tmdbApiKey:i,onAdd:s,library:r})=>{const[l,c]=K.useState([]),[d,m]=K.useState([]),[h,y]=K.useState(null),[T,x]=K.useState(!1);return K.useEffect(()=>{e.tmdbId&&i&&(x(!0),Promise.all([dD(e.tmdbId,e.type==="movie"?"movie":"tv",i),hD(e.tmdbId,e.type==="movie"?"movie":"tv",i)]).then(([_,b])=>{const A=_.filter(w=>!r.some(N=>N.tmdbId===w.id&&N.status==="watched"));c(A),m(b.cast),y(b.director)}).catch(console.error).finally(()=>x(!1)))},[e.tmdbId,e.type,i,r]),S.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"h-[calc(100vh-60px)] bg-background text-text-primary p-6 flex flex-col overflow-hidden",children:[S.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-secondary hover:text-white transition-colors uppercase tracking-widest text-xs font-bold mb-6 shrink-0",children:[S.jsx(AC,{size:16})," Back to Library"]}),S.jsxs("div",{className:"flex-1 min-h-0 flex gap-8 overflow-hidden",children:[S.jsxs("div",{className:"w-72 shrink-0 flex flex-col gap-4 overflow-y-auto pr-2 custom-scrollbar",children:[S.jsxs("div",{className:"aspect-[2/3] rounded-2xl overflow-hidden shadow-2xl border border-white/10 relative group shrink-0",children:[e.poster?S.jsx("img",{src:e.poster,alt:e.title,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):S.jsx("div",{className:"w-full h-full bg-white/5 flex items-center justify-center",children:S.jsx("span",{className:"font-bebas text-6xl text-white/10",children:e.title.substring(0,2)})}),e.vote_average&&S.jsxs("div",{className:"absolute top-3 right-3 bg-black/60 backdrop-blur-md px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1.5 border border-white/10 text-white shadow-lg",children:[S.jsx(yn,{size:12,className:"text-yellow-400 fill-yellow-400"}),e.vote_average.toFixed(1)]})]}),S.jsxs("button",{onClick:()=>{const _=e.streamingUrl||`https://www.google.com/search?q=${encodeURIComponent(e.title)}+stremio`;window.open(_,"_blank")},className:"w-full bg-accent text-black py-4 rounded-xl text-sm font-bold uppercase tracking-widest hover:brightness-110 transition-all flex items-center justify-center gap-2 shrink-0 shadow-lg shadow-accent/20",children:[S.jsx(Yl,{size:18,fill:"currentColor"})," Watch Now"]}),h&&S.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 shrink-0",children:[S.jsxs("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-text-muted mb-3 flex items-center gap-2",children:[S.jsx(vA,{size:12})," Director"]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-white/5 border border-white/10 shrink-0",children:h.profile?S.jsx("img",{src:h.profile,alt:h.name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-[10px] font-bold text-white/20",children:h.name.substring(0,2)})}),S.jsx("div",{className:"min-w-0",children:S.jsx("div",{className:"font-bold text-xs truncate",children:h.name})})]})]})]}),S.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:S.jsxs("div",{className:"flex-1 overflow-y-auto pr-4 custom-scrollbar space-y-8",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"font-bebas text-6xl tracking-wide leading-none mb-4",children:e.title}),S.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-secondary",children:[S.jsxs("span",{className:"flex items-center gap-1.5 bg-white/5 px-3 py-1 rounded-lg",children:[S.jsx(MC,{size:14})," ",e.year]}),S.jsxs("span",{className:"flex items-center gap-1.5 bg-white/5 px-3 py-1 rounded-lg",children:[S.jsx(Kx,{size:14})," ",e.runtime," min"]}),S.jsx("span",{className:"flex items-center gap-1.5 uppercase tracking-wider font-bold text-accent bg-accent/10 px-3 py-1 rounded-lg text-xs",children:e.type})]})]}),S.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:e.genres.map(_=>S.jsx("span",{className:"px-3 py-1.5 rounded-lg border border-white/10 text-xs font-bold uppercase tracking-wider hover:bg-white/5 transition-colors cursor-default bg-card",children:_},_))}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-text-muted flex items-center gap-2",children:[S.jsx("span",{className:"w-1 h-4 bg-accent rounded-full"})," Synopsis"]}),S.jsx("p",{className:"text-lg leading-relaxed text-text-secondary/90",children:e.description||"No description available."})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("h3",{className:"text-xs font-bold uppercase tracking-widest text-text-muted flex items-center gap-2",children:[S.jsx(fo,{size:14})," Cast"]}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-4",children:d.length>0?d.map(_=>S.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-2 rounded-xl border border-white/5 hover:bg-white/10 transition-colors",children:[S.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-white/5 border border-white/10 shrink-0",children:_.profile?S.jsx("img",{src:_.profile,alt:_.name,className:"w-full h-full object-cover",referrerPolicy:"no-referrer"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-[10px] font-bold text-white/20",children:_.name.substring(0,2)})}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("div",{className:"text-xs font-bold truncate",children:_.name}),S.jsx("div",{className:"text-[10px] text-text-secondary truncate",children:_.character})]})]},_.id)):S.jsx("p",{className:"text-sm text-text-secondary",children:"Cast information unavailable."})})]})]})}),S.jsxs("div",{className:"w-64 shrink-0 flex flex-col min-h-0 border-l border-white/5 pl-6",children:[S.jsx("h2",{className:"font-bebas text-2xl tracking-wide text-text-muted mb-4 shrink-0",children:"You Might Also Like"}),S.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-4",children:T?S.jsxs("div",{className:"flex items-center gap-2 text-text-secondary animate-pulse text-xs",children:[S.jsx("span",{className:"w-1.5 h-1.5 bg-accent rounded-full"})," Curating..."]}):l.length>0?l.slice(0,5).map(_=>S.jsxs("div",{className:"group relative aspect-[2/3] w-full rounded-xl overflow-hidden bg-card border border-white/5 hover:border-accent/30 transition-all shadow-lg hover:shadow-accent/10 shrink-0",children:[_.poster?S.jsx("img",{src:_.poster,alt:_.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",referrerPolicy:"no-referrer"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center bg-white/5",children:S.jsx("span",{className:"font-bebas text-xl text-white/10",children:_.title.substring(0,2)})}),S.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md px-1.5 py-0.5 rounded text-[10px] font-bold flex items-center gap-1 border border-white/10",children:[S.jsx(yn,{size:8,className:"text-yellow-400 fill-yellow-400"}),_.rating.toFixed(1)]}),S.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-3 text-center gap-2",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-xs line-clamp-2 leading-tight",children:_.title}),S.jsx("span",{className:"text-[10px] text-text-secondary mt-0.5 block",children:_.year})]}),S.jsxs("button",{onClick:()=>s(_),className:"w-full bg-accent text-black py-2 rounded-lg text-[10px] font-bold uppercase tracking-widest hover:scale-105 transition-transform flex items-center justify-center gap-1",children:[S.jsx(hs,{size:12})," Add"]})]})]},_.id)):S.jsx("p",{className:"text-xs text-text-secondary italic",children:"No similar titles found."})})]})]})]})},YV=({toasts:e,onDismiss:t})=>S.jsx("div",{className:"fixed top-6 right-6 z-[9999] flex flex-col gap-3 pointer-events-none",children:S.jsx(co,{children:e.map(i=>S.jsxs(We.div,{initial:{opacity:0,x:50,scale:.9},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:20,scale:.95},className:Nt("pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-lg border-l-4 shadow-2xl glass-panel min-w-[300px]",i.type==="success"&&"border-l-green-500",i.type==="error"&&"border-l-red-500",i.type==="info"&&"border-l-accent"),children:[S.jsxs("div",{className:Nt("shrink-0",i.type==="success"&&"text-green-500",i.type==="error"&&"text-red-500",i.type==="info"&&"text-accent"),children:[i.type==="success"&&S.jsx(kC,{size:20}),i.type==="error"&&S.jsx(PC,{size:20}),i.type==="info"&&S.jsx($C,{size:20})]}),S.jsx("p",{className:"text-sm font-medium flex-1",children:i.message}),S.jsx("button",{onClick:()=>t(i.id),className:"text-text-secondary hover:text-text-primary transition-colors",children:S.jsx(Gr,{size:16})})]},i.id))})}),xl="http://localhost:5000/api",Fx={async getLibrary(){const e=await fetch(`${xl}/library`);if(!e.ok)throw new Error("Failed to fetch library");return e.json()},async addEntry(e){if(!(await fetch(`${xl}/library`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to add entry")},async updateEntry(e,t){if(!(await fetch(`${xl}/library/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to update entry")},async deleteEntry(e){if(!(await fetch(`${xl}/library/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete entry")},async syncLibrary(e){try{const t=await this.getLibrary(),i=new Set(t.map(s=>s.id));for(const s of e)i.has(s.id)||await this.addEntry(s);return await this.getLibrary()}catch(t){return console.warn("Sync failed, using local data:",t),e}}};function JV(){const[e,t]=K.useState(()=>{const X=localStorage.getItem("reeltrack_library");return X?JSON.parse(X):[]}),[i,s]=K.useState(()=>{const X=localStorage.getItem("reeltrack_settings");return X?JSON.parse(X):{tmdbApiKey:"",geminiApiKey:"",showPosters:!0,defaultSort:"smartScore",bestStreak:0,currentStreak:0,lastWatchedDate:null}}),[r,l]=K.useState(()=>{const X=localStorage.getItem("reeltrack_notifications");return X?JSON.parse(X):[]}),[c,d]=K.useState("movies"),[m,h]=K.useState(""),[y,T]=K.useState("all"),[x,_]=K.useState("all"),[b,A]=K.useState("all"),[w,N]=K.useState("all"),[P,I]=K.useState(i.defaultSort||"smartScore"),[z,q]=K.useState(!1),[L,U]=K.useState(!1),[B,V]=K.useState(!1),[se,ye]=K.useState(null),[_e,Ue]=K.useState([]),[Ie,ze]=K.useState(!1),[F,W]=K.useState(null),[ie,me]=K.useState(!1),[ee,D]=K.useState(null),[j,ne]=K.useState(null),[re,fe]=K.useState([]),[he,Ae]=K.useState(!1);K.useEffect(()=>{(async()=>{try{const Z=await Fx.syncLibrary(e);JSON.stringify(Z)!==JSON.stringify(e)&&t(Z)}catch(Z){console.warn("MySQL Sync unavailable:",Z)}})()},[]),K.useEffect(()=>{if(!m||m.length<2||!i.tmdbApiKey){fe([]);return}const X=setTimeout(async()=>{Ae(!0);try{const Z=await Pr(m,i.tmdbApiKey);fe(Z.slice(0,5))}catch(Z){console.error("Autocomplete failed:",Z)}finally{Ae(!1)}},500);return()=>clearTimeout(X)},[m,i.tmdbApiKey]),K.useEffect(()=>{localStorage.setItem("reeltrack_library",JSON.stringify(e));const X=setTimeout(async()=>{try{await Fx.syncLibrary(e)}catch{}},2e3);ze(!0);const Z=setTimeout(()=>ze(!1),1500);return()=>{clearTimeout(Z),clearTimeout(X)}},[e]),K.useEffect(()=>{localStorage.setItem("reeltrack_settings",JSON.stringify(i))},[i]),K.useEffect(()=>{localStorage.setItem("reeltrack_notifications",JSON.stringify(r))},[r]),K.useEffect(()=>{const X=fw(i,e);X.currentStreak!==i.currentStreak&&s(X);const Z=[...r];let te=!1;e.forEach(ve=>{ve.status==="watched"&&ve.rating.overall===null&&!ve.notifiedUnrated&&(Z.push({id:Qn(),type:"UNRATED_WATCHED",message:` Rate '${ve.title}'  you watched it but haven't rated it yet`,entryId:ve.id,read:!1,createdAt:new Date().toISOString()}),ve.notifiedUnrated=!0,te=!0)}),te&&(l(Z),t([...e]))},[]);const we=(X,Z)=>{const te=Qn();Ue(ve=>[...ve,{id:te,type:X,message:Z}]),setTimeout(()=>{Ue(ve=>ve.filter(qe=>qe.id!==te))},3e3)},Se=X=>{Ue(Z=>Z.filter(te=>te.id!==X))},_n=X=>{if(se)t(Z=>Z.map(te=>te.id===X.id?X:te)),we("success","Entry updated ");else{if(dw(X.title,X.year,e)){we("error",`'${X.title}' is already in your library!`),l(Z=>[{id:Qn(),type:"DUPLICATE_DETECTED",message:`Double vision? '${X.title}' (${X.year}) is already in your library.`,entryId:null,read:!1,createdAt:new Date().toISOString()},...Z]);return}t(Z=>[X,...Z]),we("success","Entry added ")}q(!1),ye(null)},fn=X=>{confirm("Are you sure you want to delete this entry?")&&(t(Z=>Z.filter(te=>te.id!==X)),we("info","Entry deleted"))},bn=X=>{t(Z=>Z.map(te=>te.id===X?{...te,isFavorite:!te.isFavorite}:te))},ni=X=>{t(Z=>Z.map(te=>{if(te.id===X){const ve=te.status==="watched";return{...te,status:ve?"want_to_watch":"watched",dateWatched:ve?null:new Date().toISOString()}}return te})),we("success","Status updated ")},It=(X,Z)=>{t(te=>te.map(ve=>ve.id===X?{...ve,rating:{...ve.rating,overall:Z}}:ve))},Ts=(X,Z)=>{t(te=>te.map(ve=>{if(ve.id===X){let qe=ve.currentEpisode+Z,Bt=ve.currentSeason;return qe<1&&(qe=1),qe>10&&(confirm(`Start Season ${Bt+1}?`)?(Bt+=1,qe=1):qe=10),{...ve,currentEpisode:qe,currentSeason:Bt}}return ve}))},Ss=X=>{t(Z=>[...X,...Z]),U(!1),we("success",`Import complete: ${X.length} added`)},nu=async X=>{const Z={id:Qn(),title:X.title,type:X.type,year:X.year,genres:[],poster:X.poster||"",description:X.reason,director:"",cast:[],runtime:0,seasons:0,currentSeason:1,currentEpisode:1,status:"want_to_watch",rating:{story:null,acting:null,visuals:null,overall:null},rewatchCount:0,streamingUrl:X.imdb_id?`stremio:///detail/${X.type==="movie"?"movie":"series"}/${X.imdb_id}`:"",imdbId:X.imdb_id||"",tmdbId:0,tmdbPopularity:0,vote_average:0,personalNote:"",dateAdded:new Date().toISOString(),dateWatched:null,tags:[],isFavorite:!1,isPinned:!1,notifiedUnrated:!1};if(i.tmdbApiKey)try{we("info","Fetching details...");const te=await r0(X.title,X.type==="movie"?"movie":"tv",i.tmdbApiKey);te&&Object.assign(Z,te)}catch(te){console.error("Failed to fetch metadata for suggestion",te)}ne(Z)},Yr=async X=>{const Z={id:Qn(),title:X.title,type:X.type,year:X.year,genres:[],poster:"",description:"",director:"",cast:[],runtime:0,seasons:0,currentSeason:1,currentEpisode:1,status:"want_to_watch",rating:{story:null,acting:null,visuals:null,overall:null},rewatchCount:0,streamingUrl:X.imdb_id?`stremio:///detail/${X.type==="movie"?"movie":"series"}/${X.imdb_id}`:"",imdbId:X.imdb_id||"",tmdbId:0,tmdbPopularity:0,vote_average:0,personalNote:"",dateAdded:new Date().toISOString(),dateWatched:null,tags:[],isFavorite:!1,isPinned:!1,notifiedUnrated:!1};if(i.tmdbApiKey)try{const te=await r0(X.title,X.type==="movie"?"movie":"tv",i.tmdbApiKey);te&&Object.assign(Z,te)}catch{}t(te=>[Z,...te]),we("success",`${X.title} added to library`)},Es=async X=>{const Z={id:Qn(),title:X.title,type:X.type,year:X.year,genres:[],poster:X.poster,description:X.overview,director:"",cast:[],runtime:0,seasons:0,currentSeason:1,currentEpisode:1,status:"want_to_watch",rating:{story:null,acting:null,visuals:null,overall:null},rewatchCount:0,streamingUrl:"",imdbId:"",tmdbId:X.id,tmdbPopularity:0,vote_average:X.rating||0,imdbRating:0,personalNote:"",dateAdded:new Date().toISOString(),dateWatched:null,tags:[],isFavorite:!1,isPinned:!1,notifiedUnrated:!1};if(i.tmdbApiKey)try{const te=await Lr(X.id,X.type==="movie"?"movie":"tv",i.tmdbApiKey);Object.assign(Z,te)}catch{}t(te=>[Z,...te]),we("success",`${X.title} added to library`)},ii=X=>{if(!X){me(!0);return}const Z=e.filter(qe=>qe.status!=="watched"&&qe.type===X);if(Z.length===0){we("info",`Your ${X} watchlist is empty!`),me(!1);return}const te=Z.flatMap(qe=>{const Bt=Af(qe,e);return Array(Math.max(1,Math.floor(Bt/10))).fill(qe)}),ve=te[Math.floor(Math.random()*te.length)];W(ve),me(!1)},_s=X=>{l(te=>te.map(ve=>ve.id===X?{...ve,read:!0}:ve));const Z=r.find(te=>te.id===X);if(Z!=null&&Z.entryId){const te=e.find(ve=>ve.id===Z.entryId);te&&(ye(te),q(!0))}},iu=()=>{l(X=>X.map(Z=>({...Z,read:!0})))},ou=K.useMemo(()=>{const X=new Set;return e.forEach(Z=>{Array.isArray(Z.genres)&&Z.genres.forEach(te=>X.add(te))}),Array.from(X).sort()},[e]),_t=K.useMemo(()=>e.filter(Z=>{const te=Z.title.toLowerCase().includes(m.toLowerCase()),ve=y==="all"||Z.type===y;x==="all"||Z.status;const qe=b==="all"||Array.isArray(Z.genres)&&Z.genres.includes(b),Bt=w==="all"||(Z.rating.overall||0)>=w;return c==="movies"?te&&Z.type==="movie"&&Z.status!=="watched"&&qe:c==="series"?te&&Z.type==="series"&&Z.status!=="watched"&&qe:c==="favorites"?te&&Z.status==="watched"&&(Z.rating.overall||0)>=4.5&&qe:c==="history"?te&&Z.status==="watched"&&ve&&qe&&Bt:!1}).sort((Z,te)=>Z.isPinned&&!te.isPinned?-1:!Z.isPinned&&te.isPinned?1:P==="smartScore"?Af(te,e)-Af(Z,e):P==="dateAdded"?new Date(te.dateAdded).getTime()-new Date(Z.dateAdded).getTime():P==="rating"?(te.rating.overall||0)-(Z.rating.overall||0):P==="title"?Z.title.localeCompare(te.title):P==="year"?te.year-Z.year:P==="recentlyWatched"?Z.dateWatched?te.dateWatched?new Date(te.dateWatched).getTime()-new Date(Z.dateWatched).getTime():-1:1:0),[e,m,y,x,b,P,c]);return K.useEffect(()=>{const X=Z=>{var te;["INPUT","TEXTAREA"].includes(Z.target.tagName)||(Z.key.toLowerCase()==="n"&&(Z.preventDefault(),q(!0)),Z.key==="/"&&(Z.preventDefault(),(te=document.querySelector('input[placeholder="Search titles..."]'))==null||te.focus()),Z.key==="Escape"&&(q(!1),U(!1),V(!1),W(null),me(!1)))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[]),S.jsxs("div",{className:"min-h-screen bg-background text-text-primary selection:bg-accent selection:text-background",children:[S.jsx(rD,{activeTab:c,setActiveTab:d,onAdd:()=>{ye(null),q(!0)},onSurprise:ii,onImport:()=>U(!0),onSettings:()=>V(!0),notifications:r,onMarkRead:_s,onMarkAllRead:iu,isSaved:Ie}),S.jsx("main",{className:"pt-[60px] min-h-screen flex flex-col",children:S.jsx(co,{mode:"wait",children:j?S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:S.jsx(FV,{entry:j,onBack:()=>ne(null),tmdbApiKey:i.tmdbApiKey,onAdd:Es,library:e})},"details"):c==="stats"?S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-8",children:S.jsx(vD,{library:e})},"stats"):c==="suggestions"?S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-8",children:S.jsx(qV,{library:e,geminiApiKey:i.geminiApiKey,onAdd:Yr,onSelect:nu,onToast:we})},"suggestions"):S.jsxs(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col",children:[S.jsx(aD,{search:m,setSearch:h,type:y,setType:T,status:x,setStatus:_,genre:b,setGenre:A,star:w,setStar:N,sortBy:P,setSortBy:I,genres:ou,totalCount:e.length,filteredCount:_t.length,activeTab:c,suggestions:re,isSearchingSuggestions:he,onSelectSuggestion:async X=>{const Z=X.media_type==="movie"?"movie":"series",te=e.find(qe=>qe.tmdbId===X.id);if(te){ne(te),h("");return}const ve={id:Qn(),title:X.title||X.name,type:Z,year:new Date(X.release_date||X.first_air_date).getFullYear(),genres:[],poster:X.poster_path?`https://image.tmdb.org/t/p/w500${X.poster_path}`:"",description:X.overview||"",director:"",cast:[],runtime:0,seasons:0,currentSeason:1,currentEpisode:1,status:"want_to_watch",rating:{story:null,acting:null,visuals:null,overall:null},rewatchCount:0,streamingUrl:"",imdbId:"",tmdbId:X.id,tmdbPopularity:X.popularity,vote_average:X.vote_average,personalNote:"",dateAdded:new Date().toISOString(),dateWatched:null,tags:[],isFavorite:!1,isPinned:!1,notifiedUnrated:!1};if(i.tmdbApiKey)try{we("info","Finishing setup...");const qe=await Lr(X.id,X.media_type==="movie"?"movie":"tv",i.tmdbApiKey);Object.assign(ve,qe)}catch{}ne(ve),h("")}}),S.jsx("div",{className:"p-8 max-w-[1800px] mx-auto w-full",children:S.jsx(uD,{entries:_t,onEdit:X=>{ye(X),q(!0)},onDelete:fn,onToggleFavorite:bn,onToggleWatched:ni,onUpdateEpisode:Ts,onQuickRate:It,onFindSimilar:D,onClick:ne,activeTab:c})})]},"library")})}),S.jsxs(co,{children:[z&&S.jsx(pD,{isOpen:z,onClose:()=>q(!1),onSave:_n,editingEntry:se,tmdbApiKey:i.tmdbApiKey,onToast:we}),L&&S.jsx(gD,{isOpen:L,onClose:()=>U(!1),onImport:Ss,tmdbApiKey:i.tmdbApiKey,existingLibrary:e,onToast:we}),B&&S.jsxs("div",{className:"fixed inset-0 z-[150] flex justify-end",children:[S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>V(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),S.jsx(We.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-[360px] h-full bg-card border-l border-white/5 shadow-2xl overflow-y-auto custom-scrollbar",children:S.jsx(yD,{isOpen:!0,onClose:()=>V(!1),settings:i,onUpdateSettings:s,onExport:()=>{const X=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),Z=URL.createObjectURL(X),te=document.createElement("a");te.href=Z,te.download=`reeltrack_backup_${new Date().toISOString().split("T")[0]}.json`,te.click(),we("success","Library exported ")},onImportBackup:()=>{const X=document.createElement("input");X.type="file",X.accept=".json",X.onchange=Z=>{const te=Z.target.files[0],ve=new FileReader;ve.onload=qe=>{var Bt;try{const bs=JSON.parse((Bt=qe.target)==null?void 0:Bt.result);Array.isArray(bs)&&(t(bs),we("success","Backup restored "))}catch{we("error","Invalid backup file")}},ve.readAsText(te)},X.click()},onClearData:()=>{t([]),l([]),we("info","All library data cleared"),V(!1)}})})]}),ie&&S.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6",children:[S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>me(!1),className:"absolute inset-0 bg-background/90 backdrop-blur-xl"}),S.jsxs(We.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-sm glass-panel p-8 rounded-[3rem] text-center space-y-8",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("h2",{className:"text-3xl font-bebas tracking-widest",children:"Surprise Me"}),S.jsx("p",{className:"text-text-secondary text-xs uppercase tracking-widest",children:"What are you in the mood for?"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("button",{onClick:()=>ii("movie"),className:"flex flex-col items-center gap-4 p-6 rounded-3xl bg-white/5 hover:bg-accent hover:text-background transition-all group",children:[S.jsx(fo,{size:32,className:"group-hover:scale-110 transition-transform"}),S.jsx("span",{className:"font-bebas tracking-widest text-lg",children:"Movie"})]}),S.jsxs("button",{onClick:()=>ii("series"),className:"flex flex-col items-center gap-4 p-6 rounded-3xl bg-white/5 hover:bg-accent hover:text-background transition-all group",children:[S.jsx(Jl,{size:32,className:"group-hover:scale-110 transition-transform"}),S.jsx("span",{className:"font-bebas tracking-widest text-lg",children:"Series"})]})]}),S.jsx("button",{onClick:()=>me(!1),className:"text-text-secondary hover:text-white text-[10px] font-bold uppercase tracking-widest pt-4",children:"Cancel"})]})]}),F&&S.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-6",children:[S.jsx(We.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>W(null),className:"absolute inset-0 bg-background/90 backdrop-blur-xl"}),S.jsxs(We.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},className:"relative w-full max-w-sm bg-card rounded-[3rem] overflow-hidden shadow-[0_0_80px_rgba(245,197,24,0.4)] border border-accent/30",children:[S.jsxs("div",{className:"aspect-[2/3] relative",children:[F.poster?S.jsx("img",{src:F.poster,className:"w-full h-full object-cover"}):S.jsx("div",{className:"w-full h-full bg-accent/10 flex items-center justify-center",children:S.jsx("span",{className:"font-bebas text-6xl text-accent/20",children:F.title.substring(0,2)})}),S.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card via-transparent to-transparent"}),S.jsxs("div",{className:"absolute bottom-10 left-8 right-8 text-center space-y-3",children:[S.jsx("div",{className:"text-accent font-bold text-[10px] tracking-[0.4em] uppercase",children:"Your Random Pick"}),S.jsx("h2",{className:"font-bebas text-4xl tracking-wider",children:F.title}),S.jsxs("div",{className:"text-text-secondary text-[10px] font-bold uppercase tracking-widest",children:[F.year,"  ",F.type]})]})]}),S.jsxs("div",{className:"p-8 grid grid-cols-2 gap-4 bg-card",children:[S.jsxs("button",{onClick:()=>{const X=F.streamingUrl||`https://www.google.com/search?q=${encodeURIComponent(F.title)}+stremio`;window.open(X,"_blank"),W(null)},className:"btn-primary flex items-center justify-center gap-2",children:[S.jsx(Yl,{size:18,fill:"currentColor"})," Watch Now"]}),S.jsx("button",{onClick:()=>{t(X=>X.map(Z=>Z.id===F.id?{...Z,isPinned:!0}:Z)),we("success","Pinned to top of list"),W(null)},className:"btn-secondary text-[10px] font-bold uppercase tracking-widest",children:"Pin to Top"}),S.jsx("button",{onClick:()=>ii(F.type),className:"col-span-2 text-text-muted hover:text-white text-[10px] font-bold uppercase tracking-widest pt-2",children:"Pick Again"})]})]})]})]}),S.jsx(YV,{toasts:_e,onDismiss:Se})]})}xC.createRoot(document.getElementById("root")).render(S.jsx(K.StrictMode,{children:S.jsx(JV,{})}));
